(()=>{"use strict";const e="720d2150cf09bfa61e28a5042cd7468f";const t="720d2150cf09bfa61e28a5042cd7468f";console.log("Hello World"),async function(e){const t=function(e){return e.split(" ").join("+")}(e);try{const o=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=720d2150cf09bfa61e28a5042cd7468f&language=en-US&query=${t}&page=1`,{mode:"cors"}),a=await o.json();let n={},r=a.results;if(r.length){if(r.length>4)for(let e=0;e<5;e++)n[r[e].id]=r[e].media_type;else for(let e=0;e<r.length;e++)n[r[e].id]=r[e].media_type;return console.log(n),n}alert(`No results found for ${e}`)}catch(e){alert(e)}}("IRON MAN"),async function(e){const o=await async function(e){try{const e=await fetch(`https://api.themoviedb.org/3/movie/1726?api_key=${t}&language=en-US`,{mode:"cors"}),o=await e.json(),a=o.genres.reduce(((e,t)=>[...e,t.name]),[]);return{name:o.original_title,summary:o.overview,tagline:o.tagline,popularity:o.popularity,vote_average:o.vote_average,vote_count:o.vote_count,genres:a,video:o.video,runtime:o.runtime,poster_path:o.poster_path,backdrop_path:o.backdrop_path}}catch(e){alert(e)}}(),a=await async function(e){try{const e=await fetch(`https://api.themoviedb.org/3/movie/1726/recommendations?api_key=${t}&language=en-US&page=1`,{mode:"cors"}),o=await e.json(),a={};if(o.results){let e=1;for(let t of o.results){if(a[t.original_title]={name:t.original_title,id:t.id,poster_path:t.poster_path,backdrop_path:t.backdrop_path},5===e)break;e++}}return a}catch(e){alert(e)}}(),n=await async function(e){const o={};try{const e=await fetch(`https://api.themoviedb.org/3/movie/1726/watch/providers?api_key=${t}`,{mode:"cors"}),n=await e.json();for(const e in n.results){const t=(a=e,new Intl.DisplayNames(["en"],{type:"region"}).of(a));o[t]={stream:[],rent:[],buy:[]};const r=(e,t)=>{e&&e.forEach((e=>{const o={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(o)}))};r(n.results[e].flatrate,o[t].stream),r(n.results[e].rent,o[t].rent),r(n.results[e].buy,o[t].buy)}return o}catch(e){alert(e)}var a}(),r=await async function(e){try{let e;const o=await fetch(`https://api.themoviedb.org/3/movie/1726/videos?api_key=${t}`,{mode:"cors"}),a=(await o.json()).results.filter((e=>"Trailer"===e.type));if(0===a.length)return!1;const n=a.filter((e=>{e.official}));return e=0!==n.length?n[0]:a[0],{name:e.name,key:e.key,site:e.site,type:e.type,lang:e.iso_639_1}}catch(e){console.log(e)}}();console.log(o),console.log(a),console.log(n),console.log(r)}(),document.querySelector(".search-query").addEventListener("click",(async t=>{t.preventDefault();const o=await async function(){const t=document.getElementById("search").value;if(!t)return;const o=await async function(t){const o=function(e){return e.split(" ").join("+")}(t),a=await fetch(`https://api.themoviedb.org/3/search/movie?api_key=${e}&query=${o}`,{mode:"cors"});return await a.json()}(t);return console.log(o),o}();!function(e,t=""){const o=document.querySelector(".info");for(let t in e){const a=document.createElement("p");a.textContent=`${t}: ${e[t]}`,o.appendChild(a)}const a="https://image.tmdb.org/t/p";document.querySelector(".poster").src=t?`${a}/w${t}/${e.img_path}`:`${a}/original/${e.img_path}`}(await async function(e){const t=e.results[0];return{title:t.original_title,lang:t.original_language,release_date:t.releasedate,overview:t.overview,img_path:t.backdrop_path}}(o),"500")}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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anMvYXBpRnVuY3Rpb25zL3NlYXJjaC5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvYXBpRnVuY3Rpb25zL2ZldGNoSWQuanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mby5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL1VJL3N1Ym1pdFNlYXJjaC5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvRE9NRnVuY3Rpb25zL2lucHV0U2VhcmNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQSV9LRVkgPSBcIjcyMGQyMTUwY2YwOWJmYTYxZTI4YTUwNDJjZDc0NjhmXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGdldFF1ZXJ5UmVzdWx0KGlucHV0KSB7XG4gICAgY29uc3QgcXVlcnkgPSBpbnRlcnByZXRRdWVyeVJlc3VsdChpbnB1dCk7XG5cdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvc2VhcmNoL21vdmllP2FwaV9rZXk9JHtBUElfS0VZfSZxdWVyeT0ke3F1ZXJ5fWAsXG5cdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdCk7XG4gICAgY29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcbiAgICByZXR1cm4gZGF0YTtcbn1cblxuZnVuY3Rpb24gaW50ZXJwcmV0UXVlcnlSZXN1bHQoaW5wdXQpIHtcbiAgICByZXR1cm4gaW5wdXQuc3BsaXQoXCIgXCIpLmpvaW4oXCIrXCIpO1xufVxuXG5leHBvcnQgeyBnZXRRdWVyeVJlc3VsdCB9O1xuIiwiY29uc3QgQVBJX0tFWSA9IFwiNzIwZDIxNTBjZjA5YmZhNjFlMjhhNTA0MmNkNzQ2OGZcIjtcbi8qXG5GZXRjaGVzIHRoZSBmaXJzdCA1IG1vdmllL3Nob3cgaWRzIGFuZCByZXR1cm4gaXQgaW4gYW4gYXJyYXkuXG4qL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hJZChuYW1lKSB7XG5cdGNvbnN0IHF1ZXJ5ID0gaW50ZXJwcmV0VG9RdWVyeShuYW1lKTtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvc2VhcmNoL211bHRpP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZxdWVyeT0ke3F1ZXJ5fSZwYWdlPTFgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdGxldCBpZHMgPSB7fTtcblx0XHRsZXQgcmVzdWx0ID0gZGF0YS5yZXN1bHRzO1xuXHRcdGlmIChyZXN1bHQubGVuZ3RoKSB7XG5cdFx0XHRpZiAocmVzdWx0Lmxlbmd0aCA+IDQpIHtcblx0XHRcdFx0Zm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcblx0XHRcdFx0XHRpZHNbcmVzdWx0W2ldLmlkXSA9IHJlc3VsdFtpXS5tZWRpYV90eXBlO1xuXHRcdFx0XHR9XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRcdGlkc1tyZXN1bHRbaV0uaWRdID0gcmVzdWx0W2ldLm1lZGlhX3R5cGU7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdGNvbnNvbGUubG9nKGlkcyk7XG5cdFx0XHRyZXR1cm4gaWRzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhbGVydChgTm8gcmVzdWx0cyBmb3VuZCBmb3IgJHtuYW1lfWApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG5mdW5jdGlvbiBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIrXCIpO1xufVxuXG5leHBvcnQgeyBmZXRjaElkIH07XG4iLCJpbXBvcnQgeyBmZXRjaElkIH0gZnJvbSBcIi4vZmV0Y2hJZFwiO1xuXG5jb25zdCBBUElfS0VZID0gXCI3MjBkMjE1MGNmMDliZmE2MWUyOGE1MDQyY2Q3NDY4ZlwiO1xuXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllRGV0YWlscyhtb3ZpZV9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfT9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVNgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgZ2VucmVzID0gZGF0YS5nZW5yZXMucmVkdWNlKChhY2MsIHZhbCkgPT4gWy4uLmFjYywgdmFsLm5hbWVdLCBbXSk7XG5cblx0XHRjb25zdCBnZW5lcmFsSW5mbyA9IHtcblx0XHRcdG5hbWU6IGRhdGEub3JpZ2luYWxfdGl0bGUsXG5cdFx0XHRzdW1tYXJ5OiBkYXRhLm92ZXJ2aWV3LFxuXHRcdFx0dGFnbGluZTogZGF0YS50YWdsaW5lLFxuXHRcdFx0cG9wdWxhcml0eTogZGF0YS5wb3B1bGFyaXR5LFxuXHRcdFx0dm90ZV9hdmVyYWdlOiBkYXRhLnZvdGVfYXZlcmFnZSxcblx0XHRcdHZvdGVfY291bnQ6IGRhdGEudm90ZV9jb3VudCxcblx0XHRcdGdlbnJlczogZ2VucmVzLFxuXHRcdFx0dmlkZW86IGRhdGEudmlkZW8sXG5cdFx0XHRydW50aW1lOiBkYXRhLnJ1bnRpbWUsXG5cdFx0XHRwb3N0ZXJfcGF0aDogZGF0YS5wb3N0ZXJfcGF0aCxcblx0XHRcdGJhY2tkcm9wX3BhdGg6IGRhdGEuYmFja2Ryb3BfcGF0aCxcblx0XHR9O1xuXHRcdHJldHVybiBnZW5lcmFsSW5mbztcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG4vKlxuUmV0dXJucyBhbiBhcnJheSBvZiByZWNvbW1lbmRlZCBtb3ZpZXMgd2l0aCB0aGVpciBuYW1lLCBpZCwgcG9zdGVyX3BhdGggYW5kXG5iYWNrZHJvcF9wYXRoIHJlY29yZGVkLiBcbklmIG5vIG1vdmllcyBhcmUgcmVjb21tZW5kZWQsIHJldHVybiBudWxsO1xuKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVSZWNjb3MobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vcmVjb21tZW5kYXRpb25zP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZwYWdlPTFgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgcmVjTW92aWVzID0ge307XG5cdFx0aWYgKGRhdGEucmVzdWx0cykge1xuXHRcdFx0bGV0IGNvdW50ID0gMTtcblx0XHRcdGZvciAobGV0IG1vdmllIG9mIGRhdGEucmVzdWx0cykge1xuXHRcdFx0XHRyZWNNb3ZpZXNbbW92aWUub3JpZ2luYWxfdGl0bGVdID0ge1xuXHRcdFx0XHRcdG5hbWU6IG1vdmllLm9yaWdpbmFsX3RpdGxlLFxuXHRcdFx0XHRcdGlkOiBtb3ZpZS5pZCxcblx0XHRcdFx0XHRwb3N0ZXJfcGF0aDogbW92aWUucG9zdGVyX3BhdGgsXG5cdFx0XHRcdFx0YmFja2Ryb3BfcGF0aDogbW92aWUuYmFja2Ryb3BfcGF0aCxcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGNvdW50ID09PSA1KSB7XG5cdFx0XHRcdFx0Ly8gTWF4IDUgbW92aWVzIHRvIGJlIHJlY29tbWVuZGVkXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y291bnQrKztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHJlY01vdmllcztcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG4vKlxuUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBjb3VudHJpZXMgYW5kIHRoZSBhdmFpbGFibGUgc3RyZWFtaW5nIHNlcnZpY2VzLCBidXlcbm9yIHJlbnQgaXQgY29tZXMgd2l0aCBFQUNIIGluZGl2aWR1YWwgY291bnRyeS5cbiovXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllUHJvdmlkZXJzKG1vdmllX2lkKSB7XG5cdGNvbnN0IHByb3ZpZGVyc0J5Q291bnRyeSA9IHt9O1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS93YXRjaC9wcm92aWRlcnM/YXBpX2tleT0ke0FQSV9LRVl9YCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGZvciAoY29uc3QgY291bnRyeUNvZGUgaW4gZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRjb25zdCBjb3VudHJ5ID0gY29kZVRvQ291bnRyeU5hbWUoY291bnRyeUNvZGUpO1xuXHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldID0ge1xuXHRcdFx0XHRzdHJlYW06IFtdLFxuXHRcdFx0XHRyZW50OiBbXSxcblx0XHRcdFx0YnV5OiBbXSxcblx0XHRcdH07XG5cblx0XHRcdC8qXG5cdFx0XHRTb3J0cyBwcm92aWRlcnMgYmFzZWQgb24gY291bnRyeSBhbmQgc2VydmljZXMgdGhleSBwcm92aWRlLlxuXG5cdFx0XHRUYWtlcyBpbiB0eXBlIG9mIHNlcnZpY2VzIGFzIHBhcmFtID0+IFtcImZsYXRyYXRlIChzdHJlYW1pbmcpXCIsIFxuXHRcdFx0XCJyZW50XCIsIFwiYnV5XCJdIGFuZCBhbiBhcnJheSB0byBhcHBlbmQgaXQgdG8uXG5cdFx0XHQqL1xuXHRcdFx0Y29uc3Qgc29ydFByb3ZpZGVycyA9IChzZXJ2aWNlcywgY29sbGVjdGlvbikgPT4ge1xuXHRcdFx0XHRpZiAoc2VydmljZXMpIHtcblx0XHRcdFx0XHRzZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBwcm92aWRlckluZm8gPSB7XG5cdFx0XHRcdFx0XHRcdHByb3ZpZGVyX25hbWU6IHNlcnZpY2UucHJvdmlkZXJfbmFtZSxcblx0XHRcdFx0XHRcdFx0cHJvdmlkZXJfbG9nb19wYXRoOiBzZXJ2aWNlLmxvZ29fcGF0aCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRjb2xsZWN0aW9uLnB1c2gocHJvdmlkZXJJbmZvKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gQWRkIHN0cmVhbWluZyBzZXJ2aWNlcyBmb3Igc3BlY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0uZmxhdHJhdGUsXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5zdHJlYW1cblx0XHRcdCk7XG5cblx0XHRcdC8vIEFkZCByZW50aW5nIHNlcnZpY2VzIGZvciBzcGVpY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0ucmVudCxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLnJlbnRcblx0XHRcdCk7XG5cblx0XHRcdC8vIEFkZCBidXlpbmcgc2VydmljZXMgZm9yIHNwZWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLmJ1eSxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLmJ1eVxuXHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIHByb3ZpZGVyc0J5Q291bnRyeTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG4vLyBGaW5kIG1vdmllIHRyYWlsZXIgYW5kIHJldHVybiBmYWxzZSBpZiBub25lIGNhbiBiZSBmb3VuZC5cbi8vIE9mZmljaWFsIHRyYWlsZXIgd2lsbCBiZSBwcmlvcml0aXNlZC5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVUcmFpbGVyKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0bGV0IG1vdmllVHJhaWxlcjtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vdmlkZW9zP2FwaV9rZXk9JHtBUElfS0VZfWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRjb25zdCB0cmFpbGVycyA9IGRhdGEucmVzdWx0cy5maWx0ZXIoKHZpZGVvKSA9PiB2aWRlby50eXBlID09PSBcIlRyYWlsZXJcIik7XG5cblx0XHRpZiAodHJhaWxlcnMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cdFx0Ly8gRmluZCBvZmZpY2lhbCB0cmFpbGVyLlxuXHRcdGNvbnN0IG9mZmljaWFsID0gdHJhaWxlcnMuZmlsdGVyKCh2aWRlbykgPT4ge1xuXHRcdFx0dmlkZW8ub2ZmaWNpYWwgPT09IHRydWU7XG5cdFx0fSk7XG5cblx0XHRvZmZpY2lhbC5sZW5ndGggIT09IDBcblx0XHRcdD8gKG1vdmllVHJhaWxlciA9IG9mZmljaWFsWzBdKVxuXHRcdFx0OiAobW92aWVUcmFpbGVyID0gdHJhaWxlcnNbMF0pO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdG5hbWU6IG1vdmllVHJhaWxlci5uYW1lLFxuXHRcdFx0a2V5OiBtb3ZpZVRyYWlsZXIua2V5LFxuXHRcdFx0c2l0ZTogbW92aWVUcmFpbGVyLnNpdGUsXG5cdFx0XHR0eXBlOiBtb3ZpZVRyYWlsZXIudHlwZSxcblx0XHRcdGxhbmc6IG1vdmllVHJhaWxlci5pc29fNjM5XzEsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Y29uc29sZS5sb2coZXJyKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjb2RlVG9Db3VudHJ5TmFtZShjb2RlKSB7XG5cdGxldCByZWdpb25OYW1lcyA9IG5ldyBJbnRsLkRpc3BsYXlOYW1lcyhbXCJlblwiXSwgeyB0eXBlOiBcInJlZ2lvblwiIH0pO1xuXHRyZXR1cm4gcmVnaW9uTmFtZXMub2YoY29kZSk7XG59XG5leHBvcnQge1xuXHRmZXRjaE1vdmllRGV0YWlscyxcblx0ZmV0Y2hNb3ZpZVJlY2Nvcyxcblx0ZmV0Y2hNb3ZpZVByb3ZpZGVycyxcblx0ZmV0Y2hNb3ZpZVRyYWlsZXIsXG59O1xuIiwiaW1wb3J0IHsgZ2V0UXVlcnlSZXN1bHQgfSBmcm9tIFwiLi9qcy9hcGlGdW5jdGlvbnMvc2VhcmNoXCI7XG5pbXBvcnQgYWRkU3VibWl0U2VhcmNoRnVuY3Rpb24gZnJvbSBcIi4vanMvVUkvc3VibWl0U2VhcmNoXCI7XG5pbXBvcnQgeyBmZXRjaElkIH0gZnJvbSBcIi4vanMvYXBpRnVuY3Rpb25zL2ZldGNoSWRcIjtcbmltcG9ydCAqIGFzIG1vdmllIGZyb20gXCIuL2pzL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mb1wiO1xuXG5cblxuY29uc29sZS5sb2coXCJIZWxsbyBXb3JsZFwiKTtcbmZldGNoSWQoJ0lST04gTUFOJyk7XG5cbmZldGNoTW92aWVEdW1teSgxNzI2KTtcbi8vIGZldGNoTW92aWVEdW1teSgzMDk3KTsgLy8gZmFpbCB0byBmZXRjaCBiZWNhdXNlIGl0cyB0di5cbi8vIGZldGNoTW92aWVEdW1teSgxMDEzOCk7XG4vLyBmZXRjaE1vdmllRHVtbXkoNjg3MjEpO1xuXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllRHVtbXkoaWQpIHtcbiAgICBjb25zdCBtb3ZpZURldGFpbHMgPSBhd2FpdCBtb3ZpZS5mZXRjaE1vdmllRGV0YWlscyhpZCk7XG4gICAgY29uc3QgbW92aWVSZWNjb3MgPSBhd2FpdCBtb3ZpZS5mZXRjaE1vdmllUmVjY29zKGlkKTtcbiAgICBjb25zdCBtb3ZpZVByb3ZpZGVycyA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVQcm92aWRlcnMoaWQpO1xuICAgIGNvbnN0IG1vdmllVHJhaWxlciA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVUcmFpbGVyKGlkKTtcbiAgICBjb25zb2xlLmxvZyhtb3ZpZURldGFpbHMpO1xuICAgIGNvbnNvbGUubG9nKG1vdmllUmVjY29zKTtcbiAgICBjb25zb2xlLmxvZyhtb3ZpZVByb3ZpZGVycyk7XG4gICAgY29uc29sZS5sb2cobW92aWVUcmFpbGVyKTtcbn1cbmFkZFN1Ym1pdFNlYXJjaEZ1bmN0aW9uKCk7IiwiaW1wb3J0IHtcblx0YXBwbHlTZWFyY2hSZXN1bHQsXG5cdGNvbGxlY3RTZWFyY2hSZXN1bHQsXG5cdGZvcm1hdFNlYXJjaFJlc3VsdCxcbn0gZnJvbSBcIi4uL0RPTUZ1bmN0aW9ucy9pbnB1dFNlYXJjaFwiO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRTdWJtaXRTZWFyY2hGdW5jdGlvbigpIHtcblx0Y29uc3Qgc2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtcXVlcnlcIik7XG5cdHNlYXJjaEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGV2ZW50KSA9PiB7XG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcblx0XHRjb25zdCBtb3ZpZUluZm8gPSBhd2FpdCAoYXBwbHlTZWFyY2hSZXN1bHQoKSk7XG4gICAgICAgIGNvbnN0IHNlbGVjdGVkTW92aWVJbmZvID0gYXdhaXQgY29sbGVjdFNlYXJjaFJlc3VsdChtb3ZpZUluZm8pO1xuICAgICAgICBmb3JtYXRTZWFyY2hSZXN1bHQoc2VsZWN0ZWRNb3ZpZUluZm8sIFwiNTAwXCIpO1xuXHR9KTtcbn1cbiIsImltcG9ydCB7IGdldFF1ZXJ5UmVzdWx0IH0gZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9zZWFyY2hcIjtcblxuYXN5bmMgZnVuY3Rpb24gYXBwbHlTZWFyY2hSZXN1bHQoKSB7XG5cdGNvbnN0IHJlc3VsdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2VhcmNoXCIpLnZhbHVlO1xuXHRpZiAoIXJlc3VsdCkgcmV0dXJuO1xuXHRjb25zdCBkYXRhID0gYXdhaXQgZ2V0UXVlcnlSZXN1bHQocmVzdWx0KTtcblx0Y29uc29sZS5sb2coZGF0YSk7XG5cdHJldHVybiBkYXRhO1xufVxuXG5hc3luYyBmdW5jdGlvbiBjb2xsZWN0U2VhcmNoUmVzdWx0KGRhdGEpIHtcblx0Y29uc3QgcmVzdWx0cyA9IGRhdGEucmVzdWx0c1swXTtcblx0Y29uc3QgaW5mbyA9IHtcblx0XHR0aXRsZTogcmVzdWx0cy5vcmlnaW5hbF90aXRsZSxcblx0XHRsYW5nOiByZXN1bHRzLm9yaWdpbmFsX2xhbmd1YWdlLFxuXHRcdHJlbGVhc2VfZGF0ZTogcmVzdWx0cy5yZWxlYXNlZGF0ZSxcblx0XHRvdmVydmlldzogcmVzdWx0cy5vdmVydmlldyxcblx0XHRpbWdfcGF0aDogcmVzdWx0cy5iYWNrZHJvcF9wYXRoLFxuXHR9O1xuXHRyZXR1cm4gaW5mbztcbn1cblxuZnVuY3Rpb24gZm9ybWF0U2VhcmNoUmVzdWx0KGluZm8sIGltZ1NpemUgPSBcIlwiKSB7XG5cdGNvbnN0IHBhcmFDb250YWluZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmluZm9cIik7XG5cdGZvciAobGV0IGRldGFpbCBpbiBpbmZvKSB7XG5cdFx0Y29uc3QgcGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuXHRcdHBhcmEudGV4dENvbnRlbnQgPSBgJHtkZXRhaWx9OiAke2luZm9bZGV0YWlsXX1gO1xuXHRcdHBhcmFDb250YWluZXIuYXBwZW5kQ2hpbGQocGFyYSk7IFxuXHR9XG5cdGNvbnN0IGJhc2VJbWdVcmwgPSBcImh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wXCI7XG5cdCFpbWdTaXplXG5cdFx0PyAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihcblx0XHRcdFx0XCIucG9zdGVyXCJcblx0XHQgICkuc3JjID0gYCR7YmFzZUltZ1VybH0vb3JpZ2luYWwvJHtpbmZvLmltZ19wYXRofWApXG5cdFx0OiAoZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihcblx0XHRcdFx0XCIucG9zdGVyXCJcblx0XHQgICkuc3JjID0gYCR7YmFzZUltZ1VybH0vdyR7aW1nU2l6ZX0vJHtpbmZvLmltZ19wYXRofWApO1xufVxuXG5leHBvcnQgeyBhcHBseVNlYXJjaFJlc3VsdCwgY29sbGVjdFNlYXJjaFJlc3VsdCwgZm9ybWF0U2VhcmNoUmVzdWx0IH07XG4iXSwibmFtZXMiOlsiQVBJX0tFWSIsImNvbnNvbGUiLCJsb2ciLCJhc3luYyIsIm5hbWUiLCJxdWVyeSIsInNwbGl0Iiwiam9pbiIsImludGVycHJldFRvUXVlcnkiLCJyZXNwb25zZSIsImZldGNoIiwibW9kZSIsImRhdGEiLCJqc29uIiwiaWRzIiwicmVzdWx0IiwicmVzdWx0cyIsImxlbmd0aCIsImkiLCJpZCIsIm1lZGlhX3R5cGUiLCJhbGVydCIsImVyciIsImZldGNoSWQiLCJtb3ZpZURldGFpbHMiLCJtb3ZpZV9pZCIsImdlbnJlcyIsInJlZHVjZSIsImFjYyIsInZhbCIsIm9yaWdpbmFsX3RpdGxlIiwic3VtbWFyeSIsIm92ZXJ2aWV3IiwidGFnbGluZSIsInBvcHVsYXJpdHkiLCJ2b3RlX2F2ZXJhZ2UiLCJ2b3RlX2NvdW50IiwidmlkZW8iLCJydW50aW1lIiwicG9zdGVyX3BhdGgiLCJiYWNrZHJvcF9wYXRoIiwibW92aWVSZWNjb3MiLCJyZWNNb3ZpZXMiLCJjb3VudCIsIm1vdmllIiwibW92aWVQcm92aWRlcnMiLCJwcm92aWRlcnNCeUNvdW50cnkiLCJjb3VudHJ5Q29kZSIsImNvdW50cnkiLCJjb2RlIiwiSW50bCIsIkRpc3BsYXlOYW1lcyIsInR5cGUiLCJvZiIsInN0cmVhbSIsInJlbnQiLCJidXkiLCJzb3J0UHJvdmlkZXJzIiwic2VydmljZXMiLCJjb2xsZWN0aW9uIiwiZm9yRWFjaCIsInNlcnZpY2UiLCJwcm92aWRlckluZm8iLCJwcm92aWRlcl9uYW1lIiwicHJvdmlkZXJfbG9nb19wYXRoIiwibG9nb19wYXRoIiwicHVzaCIsImZsYXRyYXRlIiwibW92aWVUcmFpbGVyIiwidHJhaWxlcnMiLCJmaWx0ZXIiLCJvZmZpY2lhbCIsImtleSIsInNpdGUiLCJsYW5nIiwiaXNvXzYzOV8xIiwiZmV0Y2hNb3ZpZUR1bW15IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwicHJldmVudERlZmF1bHQiLCJtb3ZpZUluZm8iLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwiaW5wdXQiLCJpbnRlcnByZXRRdWVyeVJlc3VsdCIsImdldFF1ZXJ5UmVzdWx0IiwiaW5mbyIsImltZ1NpemUiLCJwYXJhQ29udGFpbmVyIiwiZGV0YWlsIiwicGFyYSIsImNyZWF0ZUVsZW1lbnQiLCJ0ZXh0Q29udGVudCIsImFwcGVuZENoaWxkIiwiYmFzZUltZ1VybCIsInNyYyIsImltZ19wYXRoIiwiZm9ybWF0U2VhcmNoUmVzdWx0IiwidGl0bGUiLCJvcmlnaW5hbF9sYW5ndWFnZSIsInJlbGVhc2VfZGF0ZSIsInJlbGVhc2VkYXRlIiwiY29sbGVjdFNlYXJjaFJlc3VsdCJdLCJzb3VyY2VSb290IjoiIn0=