(()=>{"use strict";const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("show")}))})),t="720d2150cf09bfa61e28a5042cd7468f",n="720d2150cf09bfa61e28a5042cd7468f";async function a(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${n}\n\t\t\t&language=en-US`,{mode:"cors"}),{original_title:a,overview:o,tagline:r,popularity:i,vote_average:s,vote_count:c,genres:d,video:l,runtime:p,poster_path:u,backdrop_path:m,release_date:h}=await t.json();return{mName:a,summary:o,tagline:r,popularity:i,vote_average:s,vote_count:c,genres:d.map((e=>e.name)),video:l,runtime:p,poster_path:u,backdrop_path:m,release_date:h}}catch(e){console.error(`Failed to fetch movie details ${e.message}`)}}async function o(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}/recommendations\n\t\t\t?api_key=${n}&language=en-US&page=1`,{mode:"cors"});if(!t.ok)throw new Error("Failed to fetch movie recommendations from API.");return(await t.json()).results.slice(0,5).map((e=>({mName:e.original_title,id:e.id,poster_path:e.poster_path,backdrop_path:e.backdrop_path,release_date:e.release_date,vote_count:e.vote_count,vote_average:e.vote_average})))}catch(e){console.error(`Failed to fetch movie recommendations: ${e.message}`)}}async function r(e){const t={};try{const o=await fetch(`https://api.themoviedb.org/3/movie/${e}/watch/providers?api_key=${n}`,{mode:"cors"}),r=await o.json();for(const e in r.results){const n=(a=e,new Intl.DisplayNames(["en"],{type:"region"}).of(a));t[n]={stream:[],rent:[],buy:[],countryCode:e};const o=(e,t)=>{e&&e.forEach((e=>{const n={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(n)}))};o(r.results[e].flatrate,t[n].stream),o(r.results[e].rent,t[n].rent),o(r.results[e].buy,t[n].buy)}return t}catch(e){console.erroror(`Failed to fetch movie providers: ${e.message}`)}var a}async function i(e){try{const a=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=${n}&mode=cors`);if(!a.ok)throw new Error("Failed to fetch movie trailers from API.");const o=(await a.json()).results.filter((e=>"Trailer"===e.type));if(0===o.length)return;const r=o.find((e=>!0===e.official))??o[0];return{tName:r.name,key:r.key,site:r.site,type:r.type,lang:(t=r.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(t))}}catch(e){console.error(`Failed to fetch movie trailers: ${e.message}`)}var t}async function s(e){try{let t=[];const a=await fetch(`https://api.themoviedb.org/3/movie/${e}/reviews?api_key=${n}&language=en-US&page=1`,{mode:"cors"}),o=await a.json();return 0!==o.results.length&&(o.results.forEach((e=>{t.push({author:e.author,rating:e.author_details.rating,pic_path:e.author_details.avatar_path,content:e.content,url:e.url,last_updated:e.updated_at})})),t.slice(0,5))}catch(e){console.error(`Fail to fetch movie reviews: ${e.message}`)}}const c="720d2150cf09bfa61e28a5042cd7468f";async function d(e){try{const t=await fetch(`https://api.themoviedb.org/3/tv/${e}?api_key=${c}&language=en-US`,{mode:"cors"}),n=await t.json();console.log(n);const a=n.genres.reduce(((e,t)=>[...e,t.name]),[]);return{tName:n.original_name,tagline:n.tagline,language:n.original_language,summary:n.overview,episode_run_time:n.episode_run_time[0],origin_country:n.origin_country,vote_average:n.vote_average,vote_count:n.vote_count,status:n.status,seasons:n.seasons,number_of_seasons:n.number_of_seasons,first_air_date:n.first_air_date,last_air_date:n.last_air_date,backdrop_path:n.backdrop_path,poster_path:n.poster_path,popularity:n.popularity,genres:a}}catch(e){console.log(e)}}async function l(e){try{const t=await fetch(`https://api.themoviedb.org/3/tv/${e}/recommendations?api_key=${c}&language=en-US&page=1`,{mode:"cors"}),n=await t.json(),a={};if(n.results){let e=1;for(let t of n.results){if(a[t.original_name]={tName:t.original_name,id:t.id,first_air_date:t.first_air_date,poster_path:t.poster_path,backdrop_path:t.backdrop_path,vote_average:t.vote_average,vote_count:t.vote_count},5===e)break;e++}}return a}catch{console.log(err)}}async function p(e){const t={};try{const a=await fetch(`https://api.themoviedb.org/3/tv/${e}/watch/providers?api_key=${c}`,{mode:"cors"}),o=await a.json();for(const e in o.results){const a=(n=e,new Intl.DisplayNames(["en"],{type:"region"}).of(n));t[a]={stream:[],rent:[],buy:[],countryCode:e};const r=(e,t)=>{e&&e.forEach((e=>{const n={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(n)}))};r(o.results[e].flatrate,t[a].stream),r(o.results[e].rent,t[a].rent),r(o.results[e].buy,t[a].buy)}return t}catch(e){console.log(e)}var n}async function u(e){try{let n;const a=await fetch(`https://api.themoviedb.org/3/tv/${e}/videos?api_key=${c}`,{mode:"cors"}),o=(await a.json()).results.filter((e=>"Trailer"===e.type));if(0===o.length)return!1;const r=o.filter((e=>{e.official}));return n=0!==r.length?r[0]:o[0],{tName:n.name,key:n.key,site:n.site,type:n.type,lang:(t=n.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(t))}}catch(e){console.log(e)}var t}async function m(e){try{let t=[];const n=await fetch(`https://api.themoviedb.org/3/tv/${e}/reviews?api_key=${c}&language=en-US&page=1`,{mode:"cors"}),a=await n.json();if(0===a.results.length)return!1;let o=1;return a.results.forEach((e=>{t.push({author:e.author,rating:e.author_details.rating,pic_path:e.author_details.avatar_path,content:e.content,url:e.url,last_updated:e.updated_at}),o++})),t.slice(0,5)}catch(e){console.log(e)}}const h=async(e,t)=>{const n=document.createElement("section"),c=await b(e,a,d),h=await b(e,o,l),y=await b(e,r,p),v=await b(e,i,u),_=await b(e,s,m);function C(e){e&&n.appendChild(e)}function w(e,t){const n=document.createElement(e);return n.classList.add(t),n}async function b(e,n,a){return"movie"===t?await n(e):await a(e)}n.classList.add("section-container");const E=e=>{const t=document.createElement("div");t.classList.add("intro"),t.appendChild(function(){const e=document.createElement("h1");return e.textContent=c.mName?c.mName:c.tName,e.classList.add("title"),e}()),c.tagline&&t.appendChild(function(){const e=document.createElement("em");return e.textContent=`"${c.tagline}"`,e.classList.add("tagline"),e}());const n=function(e=""){const t=document.createElement("img"),n="https://image.tmdb.org/t/p";let a;if(t.classList.add("poster"),c.poster_path)a=c.poster_path;else{if(!c.backdrop_path)return;a=c.backdrop_path}return t.src=e?`${n}/w${e}/${a}`:`${n}/original/${a}`,t.alt="Movie picture poster",t.setAttribute("loading","lazy"),t}(e);return n&&t.appendChild(n),t},$=e=>{const t=w("div","rec-container"),n=w("img","rec-poster"),a=w("div","rec-info");n.src=`https://image.tmdb.org/t/p/w300/${e.poster_path}`,t.appendChild(n),function(e){if(e){const t=w("p","rec-name"),n=w("p","rec-date"),a=w("p","rec-vote-count"),o=w("p","rec-vote-avg");return t.textContent=e.tName?`Name: ${e.tName}`:`Name: ${e.mName}`,n.textContent=e.first_air_date?`First Air Date: ${e.first_air_date}`:`Release Date: ${e.release_date}`,a.textContent=`Vote Count: ${e.vote_count}`,o.textContent=`Vote Avg: ${e.vote_average}`,[t,n,a,o]}}(e).forEach((e=>a.appendChild(e)));const o=w("a","rec-link"),r=e.tName?"TV Show":"Movie";return o.textContent=`Search for this ${r} -> `,o.addEventListener("click",(async t=>{t.preventDefault(),g(),e.tName?await f(e.tName):await f(e.mName)})),a.appendChild(o),t.appendChild(a),t};return{section:n,addToSection:C,drawAll:function(){C(E())},drawIntro:E,drawSubInfos:()=>{const e=document.createElement("div");let t,n;e.classList.add("subinfo-container"),c.release_date?(t=o("Release Date:",c.release_date.split("-").reverse().join("/")),n=""):c.first_air_date?(t=o("First Aired: ",c.first_air_date.split("-").reverse().join("/")),n=o("Last Aired: ",c.last_air_date.split("-").reverse().join("/"))):t="";let a=c.runtime?function(e){const t=e/60,n=Math.floor(t),a=60*(t-n);return`${n}h ${Math.round(a)}min`}(c.runtime):"";function o(e,t){if(!t)return;const n=document.createElement("div"),a=document.createElement("span"),o=document.createElement("span");return n.classList.add("sub-info"),a.classList.add("category-name"),o.classList.add("category-info"),a.textContent=e,o.textContent=t,[a,o].forEach((e=>n.appendChild(e))),n}return[t,n,o("Show status:",c.status),o("Runtime: ",a),o("Genres: ",c.genres.join(", ")),o("Number of seasons: ",c.number_of_seasons),o("Est Avg Episode Runtime: ",c.episode_run_time),o("Country of Origin: ",c.origin_country),o("Vote Average: ",c.vote_average),o("Vote Count: ",c.vote_count),o("Popularity: ",c.popularity)].forEach((t=>t?e.appendChild(t):"")),e},drawSummaryHeading:()=>{const e=document.createElement("h2");return e.textContent="Synopsis: ",e},drawSummary:()=>{const e=document.createElement("p");return e.textContent=c.summary,e.classList.add("summary"),e},drawProviders:()=>{let e;const t=w("div","provider-container"),n=w("button","country-btn"),a=w("div","house-provider-container");if([n,a].forEach((e=>{t.appendChild(e)})),Object.keys(y).length)if(e=!0,Object.keys(y).includes("Australia")){const e=w("img","country-flag");e.setAttribute("crossorigin","anonymous"),e.src="https://countryflagsapi.com/png/Australia",e.alt="Australia flag",e.classList.add("btn-country-flag"),r("Australia"),n.textContent="Australia",n.appendChild(e)}else{const e=Object.keys(y)[0];try{const t=w("img","country-flag");t.setAttribute("crossorigin","anonymous"),t.src=`https://countryflagsapi.com/png/${e}`,t.alt=`${e} flag`,t.classList.add("btn-country-flag"),n.appendChild(t)}catch(e){console.log(e)}r(e),n.textContent=`${e}`}else{e=!1,n.textContent="No countries offer this tv/movie at the moment.",n.classList.add("lost-providers");const t=w("img","lost-gif");t.src="./img/lost-gif.gif",t.alt="Prover cannot be found picture.",a.style.display="flex",a.style.justifyContent="center",a.appendChild(t)}const o=w("i","fas");return o.classList.add("fa-angle-down"),n.appendChild(o),n.addEventListener("click",(t=>{t.preventDefault(),e&&(function(e){const t=Object.keys(y);let n,a={};t.forEach((t=>{a[t]=y[t].countryCode,e===t&&(n=y[t].countryCode)}));const o=w("form","modal-country-container"),r=w("div","modal-header"),i=w("div","modal-body"),s=w("div","modal-current-country"),c=w("input","modal-input-search"),d=w("ul","modal-list-countries"),l=w("button","modal-close-btn");function p(e,t){const n=w("img","country-flag");return n.setAttribute("crossorigin","anonymous"),n.src=`https://countryflagsapi.com/png/${e}`,n.alt=`${t} flag`,n}function u(){let e,t,n,a,o,r,i;for(e=document.getElementById("modal-input-search"),t=e.value.toUpperCase(),n=document.getElementById("countries-list"),a=n.getElementsByTagName("li"),r=0;r<a.length;r++)o=a[r].getElementsByTagName("a")[0],i=o.textContent||o.innerText,i.toUpperCase().indexOf(t)>-1?a[r].style.display="":a[r].style.display="none"}(()=>{const t=document.createElement("h2");t.textContent="Countries";const a=document.createElement("h3"),o=document.createElement("label"),i={id:"modal-input-search",type:"search",placeholder:"🔍 Search for countries...",title:"Type in a country name",role:"search"};for(let e in i)c.setAttribute(e,i[e]);c.addEventListener("keyup",u),c.addEventListener("submit",(e=>{e.preventDefault()}));const d=p(n,e);a.textContent=e,s.appendChild(d),s.appendChild(a),o.htmlFor=`${c.id}`,[t,s,o,c].forEach((e=>{r.appendChild(e)}))})(),(()=>{d.id="countries-list";for(let e in a){let t=a[e];const n=w("li","country-container"),o=p(t,e),r=w("a","country-name");r.textContent=e,r.setAttribute("href","#"),[o,r].forEach((e=>{n.appendChild(e)})),d.appendChild(n)}[d].forEach((e=>{i.appendChild(e)}))})(),(e=>{const t=w("i","fa");t.classList.add("fa-close"),l.appendChild(t),e()})((()=>{l.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(".modal-country-container");document.querySelector(".face-mask").style.display="none",setTimeout((function(){t.style.transform="translateY(-125%)"}),100),setTimeout((function(){t.style.opacity=0,t.style.visibility="hidden",t.remove()}),750)}))})),[r,i,l].forEach((e=>o.appendChild(e))),setTimeout((function(){o.style.visibility="visible",o.style.opacity=1,o.style.transform="translateY(0%)"}),100),document.querySelector("body").append(o),document.querySelector(".face-mask").style.display="block"}(n.textContent),function(e){let t,n,a,o,r;for(t=document.getElementById("countries-list"),n=t.getElementsByTagName("li"),a=0;a<n.length;a++)if(o=n[a].getElementsByTagName("a")[0],r=o.textContent||o.innerText,r===e){n[a].style.backgroundColor="rgba(25, 150, 150, 0.5)",n[a].style.transform="scale(1.025)";const e=w("i","fa");e.classList.add("fa-check"),n[a].append(e)}}(n.textContent),document.querySelectorAll(".country-container").forEach((e=>e.addEventListener("click",(t=>{if(t.preventDefault(),e.lastChild.textContent){const t=e.lastChild.textContent;a.innerHTML="",r(t)}document.querySelector(".modal-country-container").remove(),document.querySelector(".face-mask").style.display="none"})))))})),t;function r(e="Australia"){n.textContent=e;try{const t=w("img","country-flag");t.setAttribute("crossorigin","anonymous"),t.src=`https://countryflagsapi.com/png/${e}`,t.alt=`${e} flag`,t.classList.add("btn-country-flag"),n.appendChild(t)}catch(e){console.log(e)}const t=w("i","fas");t.classList.add("fa-angle-down"),n.appendChild(t);const o=y[e].stream,r=y[e].buy,i=y[e].rent,s=["Stream at:","Purchase at:","Rent at:"];let c=0;[o,r,i].forEach((e=>{const t=w("div","service-container"),n=w("div","service-name"),o=w("h2","service-name-bold"),r=w("div","provider-service-container");e.forEach((e=>{const t=w("div","provider-service"),n=w("img","provider-img"),a=w("span","provider-name");e.provider_logo_path&&(n.src=`https://image.tmdb.org/t/p/original/${e.provider_logo_path}`,n.alt=`${e.provider_name} picture.`,n.setAttribute("loading","lazy"),a.textContent=e.provider_name),[n,a].forEach((e=>{t.appendChild(e)})),r.appendChild(t)})),e.length&&(o.textContent=`${s[c]}`,n.appendChild(o)),c++,t.appendChild(n),t.appendChild(r),a.appendChild(t)}))}},drawReviews:()=>{if(!_)return;const e=w("div","review-container"),t=w("h2","review-title");return t.textContent="Reviews:",e.appendChild(t),_.forEach((t=>((e,t)=>{function n(t,n,a,o){const r=w(a,o);t&&(r.textContent=t),t===e.rating&&(r.textContent=e.rating?`${t}/10`:"Rating not provided.."),n.appendChild(r)}t.appendChild((()=>{const t=w("div","review-heading");if(e.pic_path){const n=w("img","author-pic");"http"!==e.pic_path.slice(1,5)?n.src=`https://image.tmdb.org/t/p/w300/${e.pic_path}`:n.src=e.pic_path.slice(1),n.alt=`${e.author} profile picture.`,t.appendChild(n)}return n(e.author,t,"h3","review-author"),n(e.rating,t,"span","review-rating"),t})()),t.appendChild((()=>{const t=w("p","review-content");return t.textContent=`"${e.content}"`,t})()),t.appendChild((()=>{const t=w("div","review-footer"),n=w("a","review-link"),a=w("span","review-updated");var o;return n.setAttribute("href",`${e.url}`),n.setAttribute("target","_blank"),n.textContent="Click for review link",a.textContent=`Last updated: ${o=e.last_updated,(o=o.split("-"))[2]=o[2].slice(0,2)+"/",o[2].concat(o.slice(0,2).reverse().join("/"))}`,t.appendChild(n),t.appendChild(a),t})())})(t,e))),e},drawTrailer:()=>{const e=w("div","trailer-container"),t=w("div","trailer-heading");if(v){(function(){const e=w("h2","trailer-name"),t=w("h3","trailer-lang");return e.textContent=`${v.tName}`,t.textContent=`Language: ${v.lang}`,[e,t]})().forEach((e=>t.appendChild(e))),e.appendChild(t);const n=w("div","video-wrapper");n.appendChild(function(e,t){const n=w("iframe","trailer-video"),a={loading:"lazy",width:"560",height:"315",src:`https://youtube.com/embed/${e}`,title:`${t} video player`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted media; gyroscope; picture-in-picture; web-share"};for(let e in a)n.setAttribute(e,a[e]),n.setAttribute("allowfullscreen",!0);return n}(v.key,v.site)),e.appendChild(n)}return e},drawRecs:()=>{const e=w("div","recs-container");if(0===Object.keys(h).length){const t=w("h4","no-review-msg");return t.textContent="No recommendations found.",e.appendChild(t),e.style="display: flex; justify-content: center;",e}for(let t in h)e.appendChild($(h[t]));return e}}};async function f(e){const n=await async function(e){const n=function(e){return e.split(" ").join("+")}(e);try{const a=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${t}\n\t\t\t&language=en-US&query=${n}&page=1`,{mode:"cors"}),o=await a.json();let r=o.results.reduce(((e,t)=>(e[t.id]=t.media_type,e)),{});return o.results.sort(((e,t)=>t.popularity-e.popularity)).length?r:void alert(`No results found for "${e}".\nPlease check your spelling.`)}catch(e){throw e}}(e),a=document.querySelector(".main-container");document.querySelector(".loader").style.visibility="visible";let o=[];for(let e in n)o.push([e,n[e]]);const r=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("show")}))}));o.forEach((async e=>{await async function(e,t){const n=await h(e,t),o=document.createElement("div");o.classList.add("intro-sub-info"),o.appendChild(n.drawIntro("300")),o.appendChild(n.drawSubInfos());const r=document.createElement("div");r.classList.add("synopsis-watch-providers"),r.appendChild(n.drawSummaryHeading()),r.appendChild(n.drawSummary()),r.appendChild(n.drawProviders());const i=document.createElement("h2");i.classList.add("rec-heading"),i.textContent="RECOMMENDATIONS:",n.addToSection(o),n.addToSection(r),n.addToSection(n.drawReviews()),n.addToSection(n.drawTrailer()),n.addToSection(i),n.addToSection(n.drawRecs()),a.appendChild(n.section)}(e[0],e[1]).then((()=>{document.querySelector(".loader").style.visibility="hidden"})),document.getElementById("check-animation").checked&&[...document.getElementsByTagName("div")].forEach((e=>{e.classList.add("hidden"),r.observe(e)}))})),document.getElementById("input-search").value=e.split("+").join(" ")}function g(){const e=document.querySelector(".main-container");document.querySelector(".loader"),[...e.getElementsByTagName("section")].forEach((e=>e.remove()))}(async function(){document.querySelector(".search-query").addEventListener("click",(async e=>{e.preventDefault();const t=document.getElementById("input-search").value.split(" ").join("+");t?(document.getElementById("title-page")&&document.getElementById("title-page").remove(),document.querySelector(".intro-container2")&&document.querySelector(".intro-container2").remove(),g(),await f(t)):alert("Please enter a valid movie/tv show")}))})(),function(){const t=document.getElementById("check-animation");t.addEventListener("click",(()=>{const n=document.querySelectorAll("div");t.checked?n.forEach((t=>{t.classList.add("hidden"),e.observe(t)})):n.forEach((t=>{t.classList.remove("hidden"),e.disconnect()}))}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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b1YsWUFBWSxHQUV2QixHQUVGLENPcEJJQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL1VJL2NoZWNrQW5pbWF0aW9uLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9hcGlGdW5jdGlvbnMvZmV0Y2hJZC5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvYXBpRnVuY3Rpb25zL2ZldGNoTW92aWVJbmZvLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9hcGlGdW5jdGlvbnMvZmV0Y2hUdkluZm8uanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL0RPTUZ1bmN0aW9ucy9kcmF3U2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvRE9NRnVuY3Rpb25zL2RyYXdTZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvVUkvc3VibWl0U2VhcmNoLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBZGQgY2xpY2sgZXZlbnQgbGlzdGVuZXIgZm9yIGNoZWNrYm94IHRoYXQgYXV0b21hdGljYWxseSBkaXNhYmxlcyBhbmltYXRpb25cbi8vIGFuZCByZWxvYWRzIHRoZSBwYWdlLlxuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcblx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0ZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9KTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRUb2dnbGVBbmltYXRpb25GbmMoKSB7XG5cdGNvbnN0IGFuaW1hdGlvbkNoZWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGVjay1hbmltYXRpb25cIik7XG5cdGFuaW1hdGlvbkNoZWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0Y29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2XCIpO1xuXHRcdGlmIChhbmltYXRpb25DaGVjay5jaGVja2VkKSB7XG5cdFx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRlbC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuXHRcdFx0XHRvYnNlcnZlci5vYnNlcnZlKGVsKTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuXHRcdFx0XHRvYnNlcnZlci5kaXNjb25uZWN0KCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xufVxuIiwiY29uc3QgQVBJX0tFWSA9IFwiNzIwZDIxNTBjZjA5YmZhNjFlMjhhNTA0MmNkNzQ2OGZcIjtcbi8qKlxuICogRmV0Y2hlcyB0aGUgZmlyc3QgcGFnZSBvZiB0aGUgbW92aWUvc2hvdyBpZHMgYW5kIHJldHVybnMgaXQgYXMgYW4gb2JqZWN0IHdpdGhcbiAqIHRoZSBtb3ZpZS90diBzaG93IGlkIGFuZCBpdCdzIG1lZGlhIHR5cGUgYXMga2V5LXZhbHVlIHBhaXJzLlxuICogQHBhcmFtIHtTdHJpbmd9IFx0bmFtZVx0VGhlIHNwZWNpZmljIG5hbWUgb2YgdGhlIG1vdmllL1RWIHNob3cuXG4gKiBAcmV0dXJuIHtPYmplY3R9XHRcdFx0VGhlIGxpc3Qgb2YgaWRzIGFuZCB0aGVpciByZXNwZWN0aXZlIG1lZGlhIHR5cGUgYXNcbiAqIFx0XHRcdFx0XHRcdFx0a2V5LXZhbHVlIHBhaXJzLlxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaElkcyhuYW1lKSB7XG5cdGNvbnN0IHF1ZXJ5ID0gaW50ZXJwcmV0VG9RdWVyeShuYW1lKTtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvc2VhcmNoL211bHRpP2FwaV9rZXk9JHtBUElfS0VZfVxuXHRcdFx0Jmxhbmd1YWdlPWVuLVVTJnF1ZXJ5PSR7cXVlcnl9JnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0bGV0IGlkcyA9IGRhdGEucmVzdWx0cy5yZWR1Y2UoKGFjYywgcmVzdWx0KSA9PiB7XG5cdFx0XHRhY2NbcmVzdWx0LmlkXSA9IHJlc3VsdC5tZWRpYV90eXBlO1xuXHRcdFx0cmV0dXJuIGFjYztcblx0XHR9LCB7fSk7XG5cblx0XHQvLyBTb3J0IG1vdmllL3Nob3cgYnkgcG9wdWxhcml0eS5cblx0XHRsZXQgcmVzdWx0ID0gZGF0YS5yZXN1bHRzLnNvcnQoXG5cdFx0XHQocDEsIHAyKSA9PiBwMi5wb3B1bGFyaXR5IC0gcDEucG9wdWxhcml0eVxuXHRcdCk7XG5cblx0XHRpZiAocmVzdWx0Lmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIGlkcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWxlcnQoXG5cdFx0XHRcdGBObyByZXN1bHRzIGZvdW5kIGZvciBcIiR7bmFtZX1cIi5cXG5QbGVhc2UgY2hlY2sgeW91ciBzcGVsbGluZy5gXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0dGhyb3cgZXJyO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGludGVycHJldFRvUXVlcnkobmFtZSkge1xuXHRyZXR1cm4gbmFtZS5zcGxpdChcIiBcIikuam9pbihcIitcIik7XG59XG5cbmV4cG9ydCB7IGZldGNoSWRzIH07XG4iLCJjb25zdCBBUElfS0VZID0gXCI3MjBkMjE1MGNmMDliZmE2MWUyOGE1MDQyY2Q3NDY4ZlwiO1xuXG4vKipcbiAqIEZldGNoZXMgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIGRldGFpbHMgb2YgYSBtb3ZpZSBhbmQgcmV0dXJuIG9ubHkgdGhlIG1vc3RcbiAqIHJlbGV2YW50IGluZm9ybWF0aW9uLlxuICogQHBhcmFtIHtOdW1iZXJ9IG1vdmllX2lkIElkZW50aWZpZXMgdGhlIG1vdmllIGFzIGFuIGludGVnZXJcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVEZXRhaWxzKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL21vdmllLyR7bW92aWVfaWR9P2FwaV9rZXk9JHtBUElfS0VZfVxuXHRcdFx0Jmxhbmd1YWdlPWVuLVVTYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3Qge1xuXHRcdFx0b3JpZ2luYWxfdGl0bGUsXG5cdFx0XHRvdmVydmlldyxcblx0XHRcdHRhZ2xpbmUsXG5cdFx0XHRwb3B1bGFyaXR5LFxuXHRcdFx0dm90ZV9hdmVyYWdlLFxuXHRcdFx0dm90ZV9jb3VudCxcblx0XHRcdGdlbnJlcyxcblx0XHRcdHZpZGVvLFxuXHRcdFx0cnVudGltZSxcblx0XHRcdHBvc3Rlcl9wYXRoLFxuXHRcdFx0YmFja2Ryb3BfcGF0aCxcblx0XHRcdHJlbGVhc2VfZGF0ZSxcblx0XHR9ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgZ2VucmVOYW1lcyA9IGdlbnJlcy5tYXAoKGdlbnJlKSA9PiBnZW5yZS5uYW1lKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRtTmFtZTogb3JpZ2luYWxfdGl0bGUsXG5cdFx0XHRzdW1tYXJ5OiBvdmVydmlldyxcblx0XHRcdHRhZ2xpbmUsXG5cdFx0XHRwb3B1bGFyaXR5LFxuXHRcdFx0dm90ZV9hdmVyYWdlLFxuXHRcdFx0dm90ZV9jb3VudCxcblx0XHRcdGdlbnJlczogZ2VucmVOYW1lcyxcblx0XHRcdHZpZGVvLFxuXHRcdFx0cnVudGltZSxcblx0XHRcdHBvc3Rlcl9wYXRoLFxuXHRcdFx0YmFja2Ryb3BfcGF0aCxcblx0XHRcdHJlbGVhc2VfZGF0ZSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFNxdWFzaGVkXG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIG1vdmllIGRldGFpbHMgJHtlcnJvci5tZXNzYWdlfWApO1xuXHR9XG59XG5cbi8qKlxuICogUmV1cm5zIG1vdmllIHJlY29tbWVuZGF0aW9ucyBhcyBhbiBvYmplY3Qgd2l0aCBpdHMgcmVsZXZhbnQgaW5mb3JtYXRpb24uIFxuICogTWF4aW11bSA1IG1vdmllcyBjYW4gYmUgcmVjb21tZW5kZWQgYW5kIHRoZSAuXG4gKiBAcGFyYW0ge051bWJlcn0gbW92aWVfaWQgSWRlbnRpZmllcyB0aGUgbW92aWUgYXMgYW4gSW50ZWdlci5cbiAqIEByZXR1cm5zIHtPYmplY3R9XHRcdEFuIG9iamVjdCB0aGF0IGhhcyB0aGUgcmVsZXZhbnQgaW5mb3JtYXRpb24gd2l0aFxuICogXHRcdFx0XHRcdFx0XHRpdCdzIGltYWdlcywgdGl0bGUsIGlkIGFuZCByZWxldmFudCB2b3RlIGluZm8uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVSZWNjb3MobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vcmVjb21tZW5kYXRpb25zXG5cdFx0XHQ/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIG1vdmllIHJlY29tbWVuZGF0aW9ucyBmcm9tIEFQSS5cIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdC8vIE9ubHkgcmV0cmlldmUgdGhlIGluZm8gb24gdGhlIGZpcnN0IDUgbW92aWUgcmVjb21tZW5kYXRpb25zLlxuXHRcdGNvbnN0IHJlY2NvcyA9IGRhdGEucmVzdWx0cy5zbGljZSgwLCA1KS5tYXAoKG1vdmllKSA9PiAoe1xuXHRcdFx0bU5hbWU6IG1vdmllLm9yaWdpbmFsX3RpdGxlLFxuXHRcdFx0aWQ6IG1vdmllLmlkLFxuXHRcdFx0cG9zdGVyX3BhdGg6IG1vdmllLnBvc3Rlcl9wYXRoLFxuXHRcdFx0YmFja2Ryb3BfcGF0aDogbW92aWUuYmFja2Ryb3BfcGF0aCxcblx0XHRcdHJlbGVhc2VfZGF0ZTogbW92aWUucmVsZWFzZV9kYXRlLFxuXHRcdFx0dm90ZV9jb3VudDogbW92aWUudm90ZV9jb3VudCxcblx0XHRcdHZvdGVfYXZlcmFnZTogbW92aWUudm90ZV9hdmVyYWdlLFxuXHRcdH0pKTtcblxuXHRcdHJldHVybiByZWNjb3M7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdGBGYWlsZWQgdG8gZmV0Y2ggbW92aWUgcmVjb21tZW5kYXRpb25zOiAke2Vycm9yLm1lc3NhZ2V9YFxuXHRcdCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiAoc3RyZWFtaW5nLCBwdXJjaGFzZSBhbmQvb3IgcmVudCkgb2YgdGhlXG4gKiBtb3ZpZSBwcm92aWRlcnMuXG4gKiBAcGFyYW0ge051bWJlcn0gbW92aWVfaWQgSWRlbnRpZmllcyB0aGUgbW92aWUgYXMgYW4gSW50ZWdlclxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVByb3ZpZGVycyhtb3ZpZV9pZCkge1xuXHRjb25zdCBwcm92aWRlcnNCeUNvdW50cnkgPSB7fTtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vd2F0Y2gvcHJvdmlkZXJzP2FwaV9rZXk9JHtBUElfS0VZfWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRmb3IgKGNvbnN0IGNvdW50cnlDb2RlIGluIGRhdGEucmVzdWx0cykge1xuXHRcdFx0Y29uc3QgY291bnRyeSA9IGdldENvdW50cnlOYW1lKGNvdW50cnlDb2RlKTtcblx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XSA9IHtcblx0XHRcdFx0c3RyZWFtOiBbXSxcblx0XHRcdFx0cmVudDogW10sXG5cdFx0XHRcdGJ1eTogW10sXG5cdFx0XHRcdGNvdW50cnlDb2RlOiBjb3VudHJ5Q29kZSxcblx0XHRcdH07XG5cblx0XHRcdC8qXG5cdFx0XHRTb3J0cyBwcm92aWRlcnMgYmFzZWQgb24gY291bnRyeSBhbmQgc2VydmljZXMgdGhleSBwcm92aWRlLlxuXG5cdFx0XHRUYWtlcyBpbiB0eXBlIG9mIHNlcnZpY2VzIGFzIHBhcmFtID0+IFtcImZsYXRyYXRlIChzdHJlYW1pbmcpXCIsIFxuXHRcdFx0XCJyZW50XCIsIFwiYnV5XCJdIGFuZCBhbiBhcnJheSB0byBhcHBlbmQgaXQgdG8uXG5cdFx0XHQqL1xuXHRcdFx0Y29uc3Qgc29ydFByb3ZpZGVycyA9IChzZXJ2aWNlcywgY29sbGVjdGlvbikgPT4ge1xuXHRcdFx0XHRpZiAoc2VydmljZXMpIHtcblx0XHRcdFx0XHRzZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBwcm92aWRlckluZm8gPSB7XG5cdFx0XHRcdFx0XHRcdHByb3ZpZGVyX25hbWU6IHNlcnZpY2UucHJvdmlkZXJfbmFtZSxcblx0XHRcdFx0XHRcdFx0cHJvdmlkZXJfbG9nb19wYXRoOiBzZXJ2aWNlLmxvZ29fcGF0aCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRjb2xsZWN0aW9uLnB1c2gocHJvdmlkZXJJbmZvKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gQWRkIHN0cmVhbWluZyBzZXJ2aWNlcyBmb3Igc3BlY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0uZmxhdHJhdGUsXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5zdHJlYW1cblx0XHRcdCk7XG5cblx0XHRcdC8vIEFkZCByZW50aW5nIHNlcnZpY2VzIGZvciBzcGVpY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0ucmVudCxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLnJlbnRcblx0XHRcdCk7XG5cblx0XHRcdC8vIEFkZCBidXlpbmcgc2VydmljZXMgZm9yIHNwZWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLmJ1eSxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLmJ1eVxuXHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIHByb3ZpZGVyc0J5Q291bnRyeTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yb3IoYEZhaWxlZCB0byBmZXRjaCBtb3ZpZSBwcm92aWRlcnM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIG9mIHRoZSBtb3ZpZSB0cmFpbGVyLiBUaGUgaWQgc2hvdWxkIGFsc29cbiAqIGJlIHJldHJpZXZlZCBzbyB0aGF0IHRoZSB1c2VyIGNhbiBzZWFyY2ggZm9yIHRoZSBtb3ZpZSByZXNwZWN0aXZlbHkuXG4gKiBAcGFyYW0ge051bWJlcn0gbW92aWVfaWQgSWRlbnRpZmllcyB0aGUgbW92aWUgYXMgYW4gSW50ZWdlci5cbiAqIEByZXR1cm5zIHtPYmplY3R9XHRcdFJlbGV2YW50IGluZm8gb2YgdHJhaWxlciBpbmNsdWRpbmcgdmlkZW8gbmFtZSwgc2l0ZVxuICogXHRcdFx0XHRcdFx0XHRsYW5ndWFnZSBhbmQgdHlwZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVRyYWlsZXIobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vdmlkZW9zP2FwaV9rZXk9JHtBUElfS0VZfSZtb2RlPWNvcnNgXG5cdFx0KTtcblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggbW92aWUgdHJhaWxlcnMgZnJvbSBBUEkuXCIpO1xuXHRcdH1cblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Ly8gRmluZCBhbGwgdHJhaWxlcnNcblx0XHRjb25zdCB0cmFpbGVycyA9IGRhdGEucmVzdWx0cy5maWx0ZXIoXG5cdFx0XHQodmlkZW8pID0+IHZpZGVvLnR5cGUgPT09IFwiVHJhaWxlclwiXG5cdFx0KTtcblx0XHRpZiAodHJhaWxlcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cblx0XHQvLyBGaW5kIG9mZmljaWFsIHRyYWlsZXIuXG5cdFx0Y29uc3Qgb2ZmaWNpYWwgPSB0cmFpbGVycy5maW5kKCh2aWRlbykgPT4gdmlkZW8ub2ZmaWNpYWwgPT09IHRydWUpO1xuXHRcdGNvbnN0IG1vdmllVHJhaWxlciA9IG9mZmljaWFsID8/IHRyYWlsZXJzWzBdO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHROYW1lOiBtb3ZpZVRyYWlsZXIubmFtZSxcblx0XHRcdGtleTogbW92aWVUcmFpbGVyLmtleSxcblx0XHRcdHNpdGU6IG1vdmllVHJhaWxlci5zaXRlLFxuXHRcdFx0dHlwZTogbW92aWVUcmFpbGVyLnR5cGUsXG5cdFx0XHRsYW5nOiBnZXRMYW5ndWFnZShtb3ZpZVRyYWlsZXIuaXNvXzYzOV8xKSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggbW92aWUgdHJhaWxlcnM6ICR7ZXJyLm1lc3NhZ2V9YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCA1IHJldmlld3Mgd2l0aCB0aGVpciByYXRpbmdzLCBhdXRob3IgaW5mb3JtYXRpb24gYW5kIGxpbmtzLlxuICogQHBhcmFtIHtOdW1iZXJ9IG1vdmllX2lkIElkZW50aWZpZXMgdGhlIG1vdmllIGFzIGFuIEludGVnZXJcbiAqIEByZXR1cm5zIHtPYmplY3R9XHRcdFJldmlldyBpbmZvcm1hdGlvbiBpbmNsdWRpbmcgdGhlIGNvbnRlbnQsIGF1dGhvcixcbiAqIFx0XHRcdFx0XHRcdFx0bGlua3MgYW5kIHJhdGluZ3MuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVSZXZpZXdzKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0bGV0IHJldmlld3MgPSBbXTtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vcmV2aWV3cz9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRpZiAoZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0ZGF0YS5yZXN1bHRzLmZvckVhY2goKHJldmlldykgPT4ge1xuXHRcdFx0cmV2aWV3cy5wdXNoKHtcblx0XHRcdFx0YXV0aG9yOiByZXZpZXcuYXV0aG9yLFxuXHRcdFx0XHRyYXRpbmc6IHJldmlldy5hdXRob3JfZGV0YWlscy5yYXRpbmcsXG5cdFx0XHRcdHBpY19wYXRoOiByZXZpZXcuYXV0aG9yX2RldGFpbHMuYXZhdGFyX3BhdGgsXG5cdFx0XHRcdGNvbnRlbnQ6IHJldmlldy5jb250ZW50LFxuXHRcdFx0XHR1cmw6IHJldmlldy51cmwsXG5cdFx0XHRcdGxhc3RfdXBkYXRlZDogcmV2aWV3LnVwZGF0ZWRfYXQsXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gcmV2aWV3cy5zbGljZSgwLCA1KTsgLy8gRmlyc3QgNSByZXZpZXdzIHJldHVybmVkXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbCB0byBmZXRjaCBtb3ZpZSByZXZpZXdzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdH1cbn1cblxuLy8gSGVscGVyIGZuY3NcbmZ1bmN0aW9uIGdldENvdW50cnlOYW1lKGNvZGUpIHtcblx0bGV0IHJlZ2lvbk5hbWVzID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwicmVnaW9uXCIgfSk7XG5cdHJldHVybiByZWdpb25OYW1lcy5vZihjb2RlKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFuZ3VhZ2UoY29kZSkge1xuXHRjb25zdCBsYW5nID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwibGFuZ3VhZ2VcIiB9KTtcblx0cmV0dXJuIGxhbmcub2YoY29kZSk7XG59XG5leHBvcnQge1xuXHRmZXRjaE1vdmllRGV0YWlscyxcblx0ZmV0Y2hNb3ZpZVJlY2Nvcyxcblx0ZmV0Y2hNb3ZpZVByb3ZpZGVycyxcblx0ZmV0Y2hNb3ZpZVRyYWlsZXIsXG5cdGZldGNoTW92aWVSZXZpZXdzLFxuXHRnZXRDb3VudHJ5TmFtZSxcbn07XG4iLCJjb25zdCBBUElfS0VZID0gXCI3MjBkMjE1MGNmMDliZmE2MWUyOGE1MDQyY2Q3NDY4ZlwiO1xuXG5hc3luYyBmdW5jdGlvbiBmZXRjaFR2RGV0YWlscyh0dl9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy90di8ke3R2X2lkfT9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVNgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdGNvbnNvbGUubG9nKGRhdGEpO1xuXG5cdFx0Y29uc3QgZ2VucmVzID0gZGF0YS5nZW5yZXMucmVkdWNlKChhY2MsIHZhbCkgPT4gWy4uLmFjYywgdmFsLm5hbWVdLCBbXSk7XG5cblx0XHRjb25zdCBnZW5lcmFsSW5mbyA9IHtcblx0XHRcdHROYW1lOiBkYXRhLm9yaWdpbmFsX25hbWUsXG5cdFx0XHR0YWdsaW5lOiBkYXRhLnRhZ2xpbmUsXG5cdFx0XHRsYW5ndWFnZTogZGF0YS5vcmlnaW5hbF9sYW5ndWFnZSxcblx0XHRcdHN1bW1hcnk6IGRhdGEub3ZlcnZpZXcsXG5cdFx0XHRlcGlzb2RlX3J1bl90aW1lOiBkYXRhLmVwaXNvZGVfcnVuX3RpbWVbMF0sXG5cdFx0XHRvcmlnaW5fY291bnRyeTogZGF0YS5vcmlnaW5fY291bnRyeSxcblx0XHRcdHZvdGVfYXZlcmFnZTogZGF0YS52b3RlX2F2ZXJhZ2UsXG5cdFx0XHR2b3RlX2NvdW50OiBkYXRhLnZvdGVfY291bnQsXG5cdFx0XHRzdGF0dXM6IGRhdGEuc3RhdHVzLFxuXHRcdFx0c2Vhc29uczogZGF0YS5zZWFzb25zLFxuXHRcdFx0bnVtYmVyX29mX3NlYXNvbnM6IGRhdGEubnVtYmVyX29mX3NlYXNvbnMsXG5cdFx0XHRmaXJzdF9haXJfZGF0ZTogZGF0YS5maXJzdF9haXJfZGF0ZSxcblx0XHRcdGxhc3RfYWlyX2RhdGU6IGRhdGEubGFzdF9haXJfZGF0ZSxcblx0XHRcdGJhY2tkcm9wX3BhdGg6IGRhdGEuYmFja2Ryb3BfcGF0aCxcblx0XHRcdHBvc3Rlcl9wYXRoOiBkYXRhLnBvc3Rlcl9wYXRoLFxuXHRcdFx0cG9wdWxhcml0eTogZGF0YS5wb3B1bGFyaXR5LFxuXHRcdFx0Z2VucmVzOiBnZW5yZXMsXG5cdFx0fTtcblx0XHRyZXR1cm4gZ2VuZXJhbEluZm87XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGNvbnNvbGUubG9nKGVycik7XG5cdH1cbn1cblxuLypcblJldHVybnMgYW4gYXJyYXkgb2YgcmVjb21tZW5kZWQgdHYgc2hvd3Mgd2l0aCB0aGVpciBuYW1lLCBpZCwgcG9zdGVyX3BhdGggYW5kXG5iYWNrZHJvcF9wYXRoIHJlY29yZGVkLiBcbklmIG5vIG1vdmllcyBhcmUgcmVjb21tZW5kZWQsIHJldHVybiBudWxsO1xuKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVHZSZWNjb3ModHZfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvdHYvJHt0dl9pZH0vcmVjb21tZW5kYXRpb25zP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZwYWdlPTFgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgcmVjVHZzID0ge307XG5cdFx0aWYgKGRhdGEucmVzdWx0cykge1xuXHRcdFx0bGV0IGNvdW50ID0gMTtcblx0XHRcdGZvciAobGV0IHR2IG9mIGRhdGEucmVzdWx0cykge1xuXHRcdFx0XHRyZWNUdnNbdHYub3JpZ2luYWxfbmFtZV0gPSB7XG5cdFx0XHRcdFx0dE5hbWU6IHR2Lm9yaWdpbmFsX25hbWUsXG5cdFx0XHRcdFx0aWQ6IHR2LmlkLFxuXHRcdFx0XHRcdGZpcnN0X2Fpcl9kYXRlOiB0di5maXJzdF9haXJfZGF0ZSxcblx0XHRcdFx0XHRwb3N0ZXJfcGF0aDogdHYucG9zdGVyX3BhdGgsXG5cdFx0XHRcdFx0YmFja2Ryb3BfcGF0aDogdHYuYmFja2Ryb3BfcGF0aCxcblx0XHRcdFx0XHR2b3RlX2F2ZXJhZ2U6IHR2LnZvdGVfYXZlcmFnZSxcblx0XHRcdFx0XHR2b3RlX2NvdW50OiB0di52b3RlX2NvdW50LFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAoY291bnQgPT09IDUpIHtcblx0XHRcdFx0XHQvLyBtYXggNSB0diBzaG93cyB0byBiZSByZWNvbW1lbmRlZC5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVjVHZzO1xuXHR9IGNhdGNoIHtcblx0XHRjb25zb2xlLmxvZyhlcnIpO1xuXHR9XG59XG5cbi8qIFxuUmV0dXJucyBhbiBvYmogd2l0aCBjb3VudHJpZXMgYW5kIGF2YWlsYWJsZSBzdHJlYW1pbmcgc2VydmljZXMsIGJ1eSBvciByZW50XG5mb3Igc3BlY2lmaWVkIHR2IHNob3cgaW4gRUFDSCBjb3VudHJ5LlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVHZQcm92aWRlcnModHZfaWQpIHtcblx0Y29uc3QgcHJvdmlkZXJzQnlDb3VudHJ5ID0ge307XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3R2LyR7dHZfaWR9L3dhdGNoL3Byb3ZpZGVycz9hcGlfa2V5PSR7QVBJX0tFWX1gLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Zm9yIChjb25zdCBjb3VudHJ5Q29kZSBpbiBkYXRhLnJlc3VsdHMpIHtcblx0XHRcdGNvbnN0IGNvdW50cnkgPSBnZXRDb3VudHJ5TmFtZShjb3VudHJ5Q29kZSk7XG5cdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0gPSB7XG5cdFx0XHRcdHN0cmVhbTogW10sXG5cdFx0XHRcdHJlbnQ6IFtdLFxuXHRcdFx0XHRidXk6IFtdLFxuXHRcdFx0XHRjb3VudHJ5Q29kZTogY291bnRyeUNvZGUsXG5cdFx0XHR9O1xuXG5cdFx0XHQvKlxuXHRcdFx0U29ydHMgcHJvdmlkZXJzIGJhc2VkIG9uIGNvdW50cnkgYW5kIHNlcnZpY2VzIHRoZXkgcHJvdmlkZS5cblxuXHRcdFx0VGFrZXMgaW4gdHlwZSBvZiBzZXJ2aWNlcyBhcyBwYXJhbSA9PiBbXCJmbGF0cmF0ZSAoc3RyZWFtaW5nKVwiLCBcblx0XHRcdFwicmVudFwiLCBcImJ1eVwiXSBhbmQgYW4gYXJyYXkgdG8gYXBwZW5kIGl0IHRvLlxuXHRcdFx0Ki9cblx0XHRcdGNvbnN0IHNvcnRQcm92aWRlcnMgPSAoc2VydmljZXMsIGNvbGxlY3Rpb24pID0+IHtcblx0XHRcdFx0aWYgKHNlcnZpY2VzKSB7XG5cdFx0XHRcdFx0c2VydmljZXMuZm9yRWFjaCgoc2VydmljZSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJJbmZvID0ge1xuXHRcdFx0XHRcdFx0XHRwcm92aWRlcl9uYW1lOiBzZXJ2aWNlLnByb3ZpZGVyX25hbWUsXG5cdFx0XHRcdFx0XHRcdHByb3ZpZGVyX2xvZ29fcGF0aDogc2VydmljZS5sb2dvX3BhdGgsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0Y29sbGVjdGlvbi5wdXNoKHByb3ZpZGVySW5mbyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdC8vIEFkZCBzdHJlYW1pbmcgc2VydmljZXMgZm9yIHNwZWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLmZsYXRyYXRlLFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0uc3RyZWFtXG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBBZGQgcmVudGluZyBzZXJ2aWNlcyBmb3Igc3BlaWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLnJlbnQsXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5yZW50XG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBBZGQgYnV5aW5nIHNlcnZpY2VzIGZvciBzcGVjaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5idXksXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5idXlcblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBwcm92aWRlcnNCeUNvdW50cnk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGNvbnNvbGUubG9nKGVycik7XG5cdH1cbn1cblxuLy8gRmluZCB0diB0cmFpbGVyXG5hc3luYyBmdW5jdGlvbiBmZXRjaFR2VHJhaWxlcih0dl9pZCkge1xuXHR0cnkge1xuXHRcdGxldCB0dlRyYWlsZXI7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3R2LyR7dHZfaWR9L3ZpZGVvcz9hcGlfa2V5PSR7QVBJX0tFWX1gLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgdHJhaWxlcnMgPSBkYXRhLnJlc3VsdHMuZmlsdGVyKCh2aWRlbykgPT4gdmlkZW8udHlwZSA9PT0gXCJUcmFpbGVyXCIpO1xuXG5cdFx0aWYgKHRyYWlsZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXHRcdC8vIEZpbmQgb2ZmaWNpYWwgdHJhaWxlci5cblx0XHRjb25zdCBvZmZpY2lhbCA9IHRyYWlsZXJzLmZpbHRlcigodmlkZW8pID0+IHtcblx0XHRcdHZpZGVvLm9mZmljaWFsID09PSB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0b2ZmaWNpYWwubGVuZ3RoICE9PSAwXG5cdFx0XHQ/ICh0dlRyYWlsZXIgPSBvZmZpY2lhbFswXSlcblx0XHRcdDogKHR2VHJhaWxlciA9IHRyYWlsZXJzWzBdKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0TmFtZTogdHZUcmFpbGVyLm5hbWUsXG5cdFx0XHRrZXk6IHR2VHJhaWxlci5rZXksXG5cdFx0XHRzaXRlOiB0dlRyYWlsZXIuc2l0ZSxcblx0XHRcdHR5cGU6IHR2VHJhaWxlci50eXBlLFxuXHRcdFx0bGFuZzogZ2V0TGFuZ3VhZ2UodHZUcmFpbGVyLmlzb182MzlfMSksXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Y29uc29sZS5sb2coZXJyKTtcblx0fVxufVxuXG4vLyBSZXR1cm5zIGFuIGFyciBvZiBhIG1heGltdW0gb2YgNSByZXZpZXdzIGJhc2VkIG9uIHRoZSB0diBzaG93IGZyb21cbi8vIHJhbmRvbSBzb3VyY2VzLiBJZiBubyByZXZpZXdzIGFyZSBmb3VuZCwgdGhpcyBmbmMgcmV0dXJucyBmYWxzZS5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVHZSZXZpZXdzKHR2X2lkKSB7XG5cdHRyeSB7XG5cdFx0bGV0IHJldmlld3MgPSBbXTtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvdHYvJHt0dl9pZH0vcmV2aWV3cz9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRpZiAoZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0bGV0IGNvdW50ID0gMTtcblx0XHRkYXRhLnJlc3VsdHMuZm9yRWFjaCgocmV2aWV3KSA9PiB7XG5cdFx0XHRyZXZpZXdzLnB1c2goe1xuXHRcdFx0XHRhdXRob3I6IHJldmlldy5hdXRob3IsXG5cdFx0XHRcdHJhdGluZzogcmV2aWV3LmF1dGhvcl9kZXRhaWxzLnJhdGluZyxcblx0XHRcdFx0cGljX3BhdGg6IHJldmlldy5hdXRob3JfZGV0YWlscy5hdmF0YXJfcGF0aCxcblx0XHRcdFx0Y29udGVudDogcmV2aWV3LmNvbnRlbnQsXG5cdFx0XHRcdHVybDogcmV2aWV3LnVybCxcblx0XHRcdFx0bGFzdF91cGRhdGVkOiByZXZpZXcudXBkYXRlZF9hdCxcblx0XHRcdH0pO1xuXHRcdFx0Y291bnQrKztcblx0XHR9KTtcblx0XHRyZXR1cm4gcmV2aWV3cy5zbGljZSgwLCA1KTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0Y29uc29sZS5sb2coZXJyKTtcblx0fVxufVxuXG4vLyBIZWxwZXIgZm5jc1xuZnVuY3Rpb24gZ2V0Q291bnRyeU5hbWUoY29kZSkge1xuXHRsZXQgcmVnaW9uTmFtZXMgPSBuZXcgSW50bC5EaXNwbGF5TmFtZXMoW1wiZW5cIl0sIHsgdHlwZTogXCJyZWdpb25cIiB9KTtcblx0cmV0dXJuIHJlZ2lvbk5hbWVzLm9mKGNvZGUpO1xufVxuXG5mdW5jdGlvbiBnZXRMYW5ndWFnZShjb2RlKSB7XG5cdGNvbnN0IGxhbmcgPSBuZXcgSW50bC5EaXNwbGF5TmFtZXMoW1wiZW5cIl0sIHsgdHlwZTogXCJsYW5ndWFnZVwiIH0pO1xuXHRyZXR1cm4gbGFuZy5vZihjb2RlKTtcbn1cbmV4cG9ydCB7XG5cdGZldGNoVHZEZXRhaWxzLFxuXHRmZXRjaFR2UmVjY29zLFxuXHRmZXRjaFR2UHJvdmlkZXJzLFxuXHRmZXRjaFR2VHJhaWxlcixcblx0ZmV0Y2hUdlJldmlld3MsXG59O1xuIiwiaW1wb3J0ICogYXMgbW92aWUgZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mb1wiO1xuaW1wb3J0ICogYXMgdHYgZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaFR2SW5mb1wiO1xuaW1wb3J0ICogYXMgcGFnZSBmcm9tIFwiLi9kcmF3U2VjdGlvbnNcIjtcblxuLypcbkRyYXcgYW4gaW5kaXZpZHVhbCBzZWN0aW9uIGJhc2VkIG9uIHVzZXIgaW5wdXQgcXVlcnkuXG5UaGlzIHNlY3Rpb24gd2lsbCBjb25zdHMgb2YgdGhlIG92ZXJhbGwgbW92aWUvdHYncyBcbiAgICAtIERldGFpbHMsXG4gICAgLSBUaGUgd2F0Y2ggcHJvdmlkZXJzIGJhc2VkIG9uIHNwZWNpZmljIGNvdW50cmllc1xuICAgIC0gQXZhaWxhYmxlIHRyYWlsZXJzLFxuICAgIC0gT3RoZXIgcmVjb21tZW5kYXRpb25zLlxuICAgIC0gUmV2aWV3cyBieSBlc3RhYmxpc2hlZCBhdXRob3JzIGJhc2VkIGZyb20gcmFuZG9tIHNvdXJjZXMuXG4qL1xuXG5jb25zdCBkcmF3U2VjdGlvbiA9IGFzeW5jIChpZCwgbWVkaWEpID0+IHtcblx0Y29uc3Qgc2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuXHRjb25zdCBkZXRhaWxzID0gYXdhaXQgZ2V0SW5mbyhpZCwgbW92aWUuZmV0Y2hNb3ZpZURldGFpbHMsIHR2LmZldGNoVHZEZXRhaWxzKTtcblx0Y29uc3QgcmVjcyA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVSZWNjb3MsIHR2LmZldGNoVHZSZWNjb3MpO1xuXHRjb25zdCBwcm92aWRlcnMgPSBhd2FpdCBnZXRJbmZvKFxuXHRcdGlkLFxuXHRcdG1vdmllLmZldGNoTW92aWVQcm92aWRlcnMsXG5cdFx0dHYuZmV0Y2hUdlByb3ZpZGVyc1xuXHQpO1xuXHRjb25zdCB0cmFpbGVyID0gYXdhaXQgZ2V0SW5mbyhpZCwgbW92aWUuZmV0Y2hNb3ZpZVRyYWlsZXIsIHR2LmZldGNoVHZUcmFpbGVyKTtcblx0Y29uc3QgcmV2aWV3cyA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVSZXZpZXdzLCB0di5mZXRjaFR2UmV2aWV3cyk7XG5cblx0c2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwic2VjdGlvbi1jb250YWluZXJcIik7XG5cdGZ1bmN0aW9uIGRyYXdBbGwoKSB7XG5cdFx0YWRkVG9TZWN0aW9uKGRyYXdJbnRybygpKTtcblx0fVxuXG5cdGZ1bmN0aW9uIGFkZFRvU2VjdGlvbihwYXJ0KSB7XG5cdFx0cGFydCA/IHNlY3Rpb24uYXBwZW5kQ2hpbGQocGFydCkgOiBcIlwiO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVuZGVyRWxlbWVudCh0YWcsIGNsYXNzTmFtZSkge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcblx0XHRjb250YWluZXIuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuXHRcdHJldHVybiBjb250YWluZXI7XG5cdH1cblxuXHRhc3luYyBmdW5jdGlvbiBnZXRJbmZvKGlkLCBtb3ZpZUZuYywgdHZGbmMpIHtcblx0XHRyZXR1cm4gbWVkaWEgPT09IFwibW92aWVcIiA/IGF3YWl0IG1vdmllRm5jKGlkKSA6IGF3YWl0IHR2Rm5jKGlkKTtcblx0fVxuXG5cdC8vIERyYXcgKGlmIGFueSkgdGl0bGUsIHBob3RvLCB0YWdsaW5lLCBhbmQgc3VtbWFyeS5cblx0Y29uc3QgZHJhd0ludHJvID0gKGltZ1NpemUpID0+IHtcblx0XHRjb25zdCBpbnRyb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0aW50cm9Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImludHJvXCIpO1xuXG5cdFx0aW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlVGl0bGUoKSk7XG5cdFx0ZGV0YWlscy50YWdsaW5lID8gaW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQod3JpdGVUYWdsaW5lKCkpIDogXCJcIjtcblxuXHRcdGNvbnN0IGltZyA9IHJlbmRlckltZyhpbWdTaXplKTtcblx0XHRpbWcgPyBpbnRyb0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbWcpIDogXCJcIjtcblxuXHRcdGZ1bmN0aW9uIGNyZWF0ZVRpdGxlKCkge1xuXHRcdFx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG5cdFx0XHR0aXRsZS50ZXh0Q29udGVudCA9IGRldGFpbHMubU5hbWUgPyBkZXRhaWxzLm1OYW1lIDogZGV0YWlscy50TmFtZTtcblx0XHRcdHRpdGxlLmNsYXNzTGlzdC5hZGQoXCJ0aXRsZVwiKTtcblx0XHRcdHJldHVybiB0aXRsZTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiByZW5kZXJJbWcoaW1nU2l6ZSA9IFwiXCIpIHtcblx0XHRcdGNvbnN0IHBvc3RlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XG5cdFx0XHRjb25zdCBiYXNlSW1nVXJsID0gXCJodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcFwiO1xuXHRcdFx0bGV0IGltZ19wYXRoO1xuXHRcdFx0cG9zdGVyLmNsYXNzTGlzdC5hZGQoXCJwb3N0ZXJcIik7XG5cblx0XHRcdGlmIChkZXRhaWxzLnBvc3Rlcl9wYXRoKSB7XG5cdFx0XHRcdGltZ19wYXRoID0gZGV0YWlscy5wb3N0ZXJfcGF0aDtcblx0XHRcdH0gZWxzZSBpZiAoZGV0YWlscy5iYWNrZHJvcF9wYXRoKSB7XG5cdFx0XHRcdGltZ19wYXRoID0gZGV0YWlscy5iYWNrZHJvcF9wYXRoO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdFx0IWltZ1NpemVcblx0XHRcdFx0PyAocG9zdGVyLnNyYyA9IGAke2Jhc2VJbWdVcmx9L29yaWdpbmFsLyR7aW1nX3BhdGh9YClcblx0XHRcdFx0OiAocG9zdGVyLnNyYyA9IGAke2Jhc2VJbWdVcmx9L3cke2ltZ1NpemV9LyR7aW1nX3BhdGh9YCk7XG5cdFx0XHRwb3N0ZXIuYWx0ID0gXCJNb3ZpZSBwaWN0dXJlIHBvc3RlclwiO1xuXHRcdFx0cG9zdGVyLnNldEF0dHJpYnV0ZShcImxvYWRpbmdcIiwgXCJsYXp5XCIpO1xuXHRcdFx0cmV0dXJuIHBvc3Rlcjtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB3cml0ZVRhZ2xpbmUoKSB7XG5cdFx0XHRjb25zdCB0YWdQYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImVtXCIpO1xuXHRcdFx0dGFnUGFyYS50ZXh0Q29udGVudCA9IGBcIiR7ZGV0YWlscy50YWdsaW5lfVwiYDtcblx0XHRcdHRhZ1BhcmEuY2xhc3NMaXN0LmFkZChcInRhZ2xpbmVcIik7XG5cdFx0XHRyZXR1cm4gdGFnUGFyYTtcblx0XHR9XG5cdFx0cmV0dXJuIGludHJvQ29udGFpbmVyO1xuXHR9O1xuXG5cdGNvbnN0IGRyYXdTdWJJbmZvcyA9ICgpID0+IHtcblx0XHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwic3ViaW5mby1jb250YWluZXJcIik7XG5cblx0XHQvLyBSZWxlYXNlIGRhdGUgZm9yIG1vdmllcyBhbmQgZmlyc3QgYWlyZWQgZm9yIHR2IHNob3cuXG5cdFx0bGV0IGRhdGUsIGxhc3RBaXJlZDtcblx0XHRpZiAoZGV0YWlscy5yZWxlYXNlX2RhdGUpIHtcblx0XHRcdGRhdGUgPSBjcmVhdGVTdWJJbmZvKFxuXHRcdFx0XHRcIlJlbGVhc2UgRGF0ZTpcIixcblx0XHRcdFx0ZGV0YWlscy5yZWxlYXNlX2RhdGUuc3BsaXQoXCItXCIpLnJldmVyc2UoKS5qb2luKFwiL1wiKVxuXHRcdFx0KTtcblx0XHRcdGxhc3RBaXJlZCA9IFwiXCI7XG5cdFx0fSBlbHNlIGlmIChkZXRhaWxzLmZpcnN0X2Fpcl9kYXRlKSB7XG5cdFx0XHRkYXRlID0gY3JlYXRlU3ViSW5mbyhcblx0XHRcdFx0XCJGaXJzdCBBaXJlZDogXCIsXG5cdFx0XHRcdGRldGFpbHMuZmlyc3RfYWlyX2RhdGUuc3BsaXQoXCItXCIpLnJldmVyc2UoKS5qb2luKFwiL1wiKVxuXHRcdFx0KTtcblx0XHRcdGxhc3RBaXJlZCA9IGNyZWF0ZVN1YkluZm8oXG5cdFx0XHRcdFwiTGFzdCBBaXJlZDogXCIsXG5cdFx0XHRcdGRldGFpbHMubGFzdF9haXJfZGF0ZS5zcGxpdChcIi1cIikucmV2ZXJzZSgpLmpvaW4oXCIvXCIpXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRlID0gXCJcIjtcblx0XHR9XG5cdFx0bGV0IHJ1bnRpbWUgPSBkZXRhaWxzLnJ1bnRpbWUgPyBjb252ZXJ0TWluVG9IcihkZXRhaWxzLnJ1bnRpbWUpIDogXCJcIjtcblxuXHRcdGNvbnN0IGluZm9ybWF0aW9uID0gW1xuXHRcdFx0ZGF0ZSxcblx0XHRcdGxhc3RBaXJlZCxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJTaG93IHN0YXR1czpcIiwgZGV0YWlscy5zdGF0dXMpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIlJ1bnRpbWU6IFwiLCBydW50aW1lKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJHZW5yZXM6IFwiLCBkZXRhaWxzLmdlbnJlcy5qb2luKFwiLCBcIikpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIk51bWJlciBvZiBzZWFzb25zOiBcIiwgZGV0YWlscy5udW1iZXJfb2Zfc2Vhc29ucyksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiRXN0IEF2ZyBFcGlzb2RlIFJ1bnRpbWU6IFwiLCBkZXRhaWxzLmVwaXNvZGVfcnVuX3RpbWUpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIkNvdW50cnkgb2YgT3JpZ2luOiBcIiwgZGV0YWlscy5vcmlnaW5fY291bnRyeSksXG5cblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJWb3RlIEF2ZXJhZ2U6IFwiLCBkZXRhaWxzLnZvdGVfYXZlcmFnZSksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiVm90ZSBDb3VudDogXCIsIGRldGFpbHMudm90ZV9jb3VudCksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiUG9wdWxhcml0eTogXCIsIGRldGFpbHMucG9wdWxhcml0eSksXG5cdFx0XTtcblxuXHRcdGluZm9ybWF0aW9uLmZvckVhY2goKGluZm8pID0+IChpbmZvID8gY29udGFpbmVyLmFwcGVuZENoaWxkKGluZm8pIDogXCJcIikpO1xuXG5cdFx0ZnVuY3Rpb24gY3JlYXRlU3ViSW5mbyhjYXRlZ29yeSwgaW5mbykge1xuXHRcdFx0Ly8gSWdub3JlcyB0diBzdWJpbmZvIHRvIGJlIGRpc3BsYXllZCBpZiBpdCdzIGEgbW92aWUgYW5kXG5cdFx0XHQvLyB2aWNldmVyc2Fcblx0XHRcdGlmICghaW5mbykgcmV0dXJuO1xuXHRcdFx0Y29uc3Qgc3ViSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRjb25zdCBjYXRlZ29yeU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcblx0XHRcdGNvbnN0IGNhdGVnb3J5SW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuXG5cdFx0XHRzdWJJbmZvLmNsYXNzTGlzdC5hZGQoXCJzdWItaW5mb1wiKTtcblx0XHRcdGNhdGVnb3J5TmFtZS5jbGFzc0xpc3QuYWRkKFwiY2F0ZWdvcnktbmFtZVwiKTtcblx0XHRcdGNhdGVnb3J5SW5mby5jbGFzc0xpc3QuYWRkKFwiY2F0ZWdvcnktaW5mb1wiKTtcblxuXHRcdFx0Y2F0ZWdvcnlOYW1lLnRleHRDb250ZW50ID0gY2F0ZWdvcnk7XG5cdFx0XHRjYXRlZ29yeUluZm8udGV4dENvbnRlbnQgPSBpbmZvO1xuXG5cdFx0XHRbY2F0ZWdvcnlOYW1lLCBjYXRlZ29yeUluZm9dLmZvckVhY2goKGluZm8pID0+IHN1YkluZm8uYXBwZW5kQ2hpbGQoaW5mbykpO1xuXHRcdFx0cmV0dXJuIHN1YkluZm87XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY29udmVydE1pblRvSHIobWlucykge1xuXHRcdFx0Y29uc3QgaG91cnMgPSBtaW5zIC8gNjA7XG5cdFx0XHRjb25zdCBySG91cnMgPSBNYXRoLmZsb29yKGhvdXJzKTtcblx0XHRcdGNvbnN0IG1pbnV0ZXMgPSAoaG91cnMgLSBySG91cnMpICogNjA7XG5cdFx0XHRjb25zdCByTWludXRlcyA9IE1hdGgucm91bmQobWludXRlcyk7XG5cdFx0XHRyZXR1cm4gYCR7ckhvdXJzfWggJHtyTWludXRlc31taW5gO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb250YWluZXI7XG5cdH07XG5cblx0Y29uc3QgZHJhd1N1bW1hcnlIZWFkaW5nID0gKCkgPT4ge1xuXHRcdGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG5cdFx0aGVhZGluZy50ZXh0Q29udGVudCA9IFwiU3lub3BzaXM6IFwiO1xuXHRcdHJldHVybiBoZWFkaW5nO1xuXHR9O1xuXHRjb25zdCBkcmF3U3VtbWFyeSA9ICgpID0+IHtcblx0XHRjb25zdCBwYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5cdFx0cGFyYS50ZXh0Q29udGVudCA9IGRldGFpbHMuc3VtbWFyeTtcblx0XHRwYXJhLmNsYXNzTGlzdC5hZGQoXCJzdW1tYXJ5XCIpO1xuXHRcdHJldHVybiBwYXJhO1xuXHR9O1xuXG5cdGNvbnN0IGRyYXdQcm92aWRlcnMgPSAoKSA9PiB7XG5cdFx0bGV0IGF2YWlsUHJvdmlkZXJzOyAvLyBCb29sZWFuIHRoYXQgaW5kaWNhdGVzIGlmIHRoZXJlIGFyZSBhbnkgd2F0Y2hcblx0XHQvLyBwcm92aWRlcnMgZm9yIHRoaXMgc2hvdy5cblxuXHRcdC8vIEhvdXNlcyB0aGUgYnRuIHRoYXQgb3BlbnMgdGhlIG1vZGFsIGFuZCBvdmVybGF5LCBhbmQgdGhlIGF2YWlsYWJsZSBwcm92aWRlcnMgZm9yICdzdHJlYW1pbmcnLCAncmVudCcgYW5kICdwdXJjaGFzZScuXG5cdFx0Y29uc3QgcHJvdmlkZXJDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicHJvdmlkZXItY29udGFpbmVyXCIpO1xuXHRcdGNvbnN0IGNvdW50cnlCdG4gPSByZW5kZXJFbGVtZW50KFwiYnV0dG9uXCIsIFwiY291bnRyeS1idG5cIik7XG5cdFx0Y29uc3QgaG91c2VDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwiaG91c2UtcHJvdmlkZXItY29udGFpbmVyXCIpO1xuXHRcdFtjb3VudHJ5QnRuLCBob3VzZUNvbnRhaW5lcl0uZm9yRWFjaCgoZWxlbSkgPT4ge1xuXHRcdFx0cHJvdmlkZXJDb250YWluZXIuYXBwZW5kQ2hpbGQoZWxlbSk7XG5cdFx0fSk7XG5cblx0XHQvLyBTZWFyY2ggZm9yIGRlZmF1bHQgY291bnRyeSBcIkF1c3RyYWxpYVwiLiBJZiBub25lIGZvdW5kLiBEcmF3IHRoZSBmaXJzdCBjb3VudHJ5J3MgcHJvdmlkZXIuXG5cdFx0aWYgKE9iamVjdC5rZXlzKHByb3ZpZGVycykubGVuZ3RoKSB7XG5cdFx0XHRhdmFpbFByb3ZpZGVycyA9IHRydWU7XG5cdFx0XHRpZiAoT2JqZWN0LmtleXMocHJvdmlkZXJzKS5pbmNsdWRlcyhcIkF1c3RyYWxpYVwiKSkge1xuXHRcdFx0XHQvLyBEcmF3IEF1cyBmbGFnIGluIGJ0bi5cblx0XHRcdFx0Y29uc3QgZmxhZyA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJjb3VudHJ5LWZsYWdcIik7XG5cdFx0XHRcdGZsYWcuc2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIiwgXCJhbm9ueW1vdXNcIik7XG5cdFx0XHRcdGZsYWcuc3JjID0gYGh0dHBzOi8vY291bnRyeWZsYWdzYXBpLmNvbS9wbmcvQXVzdHJhbGlhYDtcblx0XHRcdFx0ZmxhZy5hbHQgPSBgQXVzdHJhbGlhIGZsYWdgO1xuXHRcdFx0XHRmbGFnLmNsYXNzTGlzdC5hZGQoXCJidG4tY291bnRyeS1mbGFnXCIpO1xuXHRcdFx0XHRkcmF3UHJvdmlkZXIoXCJBdXN0cmFsaWFcIik7XG5cdFx0XHRcdGNvdW50cnlCdG4udGV4dENvbnRlbnQgPSBcIkF1c3RyYWxpYVwiO1xuXHRcdFx0XHRjb3VudHJ5QnRuLmFwcGVuZENoaWxkKGZsYWcpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0Ly8gRHJhdyBmaXJzdCBjb3VudHJ5J3MgZmxhZyBpbiBidG4uXG5cdFx0XHRcdGNvbnN0IGZpcnN0UHJvdmlkZXIgPSBPYmplY3Qua2V5cyhwcm92aWRlcnMpWzBdO1xuXHRcdFx0XHR0cnkge1xuXHRcdFx0XHRcdGNvbnN0IGZsYWcgPSByZW5kZXJFbGVtZW50KFwiaW1nXCIsIFwiY291bnRyeS1mbGFnXCIpO1xuXHRcdFx0XHRcdGZsYWcuc2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIiwgXCJhbm9ueW1vdXNcIik7XG5cdFx0XHRcdFx0ZmxhZy5zcmMgPSBgaHR0cHM6Ly9jb3VudHJ5ZmxhZ3NhcGkuY29tL3BuZy8ke2ZpcnN0UHJvdmlkZXJ9YDtcblx0XHRcdFx0XHRmbGFnLmFsdCA9IGAke2ZpcnN0UHJvdmlkZXJ9IGZsYWdgO1xuXHRcdFx0XHRcdGZsYWcuY2xhc3NMaXN0LmFkZChcImJ0bi1jb3VudHJ5LWZsYWdcIik7XG5cdFx0XHRcdFx0Y291bnRyeUJ0bi5hcHBlbmRDaGlsZChmbGFnKTtcblx0XHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRkcmF3UHJvdmlkZXIoZmlyc3RQcm92aWRlcik7XG5cdFx0XHRcdGNvdW50cnlCdG4udGV4dENvbnRlbnQgPSBgJHtmaXJzdFByb3ZpZGVyfWA7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGF2YWlsUHJvdmlkZXJzID0gZmFsc2U7XG5cdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID1cblx0XHRcdFx0XCJObyBjb3VudHJpZXMgb2ZmZXIgdGhpcyB0di9tb3ZpZSBhdCB0aGUgbW9tZW50LlwiO1xuXHRcdFx0Y291bnRyeUJ0bi5jbGFzc0xpc3QuYWRkKFwibG9zdC1wcm92aWRlcnNcIik7XG5cdFx0XHRjb25zdCBsb3N0R2lmID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcImxvc3QtZ2lmXCIpO1xuXHRcdFx0bG9zdEdpZi5zcmMgPSBcIi4vaW1nL2xvc3QtZ2lmLmdpZlwiO1xuXHRcdFx0bG9zdEdpZi5hbHQgPSBcIlByb3ZlciBjYW5ub3QgYmUgZm91bmQgcGljdHVyZS5cIjtcblx0XHRcdGhvdXNlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcblx0XHRcdGhvdXNlQ29udGFpbmVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJjZW50ZXJcIjtcblx0XHRcdGhvdXNlQ29udGFpbmVyLmFwcGVuZENoaWxkKGxvc3RHaWYpO1xuXHRcdH1cblx0XHQvLyByZW5kZXIgZG93biBhcnJvdy5cblx0XHRjb25zdCBkb3duQXJyb3cgPSByZW5kZXJFbGVtZW50KFwiaVwiLCBcImZhc1wiKTtcblx0XHRkb3duQXJyb3cuY2xhc3NMaXN0LmFkZChcImZhLWFuZ2xlLWRvd25cIik7XG5cdFx0Y291bnRyeUJ0bi5hcHBlbmRDaGlsZChkb3duQXJyb3cpO1xuXG5cdFx0Ly8gYXZhaWxQcm92aWRlcnMgPyByZW5kZXJDb3VudHJpZXNNb2RhbChjb3VudHJ5QnRuLnRleHRDb250ZW50KSA6IFwiXCI7IC8vIHRlbXBcblx0XHQvLyBBZGQgYnRuIGV2ZW50IGNsaWNrIGxpc3RlbmVyIHRvIG9wZW4gbW9kYWxcblx0XHRjb3VudHJ5QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0aWYgKGF2YWlsUHJvdmlkZXJzKSB7XG5cdFx0XHRcdHJlbmRlckNvdW50cmllc01vZGFsKGNvdW50cnlCdG4udGV4dENvbnRlbnQpO1xuXHRcdFx0XHRoaWdobGlnaHRDdXJyQ291bnRyeShjb3VudHJ5QnRuLnRleHRDb250ZW50KTtcblx0XHRcdFx0Ly8gYWRkIGNvdW50cnkgZXZlbnQgaGVyZVxuXHRcdFx0XHRhcHBseUNob29zZUNvdW50cnlGbmNzKCk7XG5cdFx0XHR9XG5cdFx0fSk7XG5cdFx0ZnVuY3Rpb24gYXBwbHlDaG9vc2VDb3VudHJ5Rm5jcygpIHtcblx0XHRcdGNvbnN0IGNvdW50cmllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY291bnRyeS1jb250YWluZXJcIik7XG5cdFx0XHRjb3VudHJpZXMuZm9yRWFjaCgoY291bnRyeSkgPT5cblx0XHRcdFx0Y291bnRyeS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdFx0aWYgKGNvdW50cnkubGFzdENoaWxkLnRleHRDb250ZW50KSB7XG5cdFx0XHRcdFx0XHRjb25zdCBzZWxlY3RlZENvdW50cnkgPSBjb3VudHJ5Lmxhc3RDaGlsZC50ZXh0Q29udGVudDtcblx0XHRcdFx0XHRcdGNsZWFyUHJvdmlkZXIoKTtcblx0XHRcdFx0XHRcdGRyYXdQcm92aWRlcihzZWxlY3RlZENvdW50cnkpO1xuXHRcdFx0XHRcdH1cblx0XHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNvdW50cnktY29udGFpbmVyXCIpLnJlbW92ZSgpO1xuXHRcdFx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmFjZS1tYXNrXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdFx0fSlcblx0XHRcdCk7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIHByb3ZpZGVyQ29udGFpbmVyO1xuXG5cdFx0ZnVuY3Rpb24gZHJhd1Byb3ZpZGVyKGNvdW50cnlOYW1lID0gXCJBdXN0cmFsaWFcIikge1xuXHRcdFx0Ly8gQ2hhbmdlIHRleHQgb2YgYnRuIHRvIGNvdW50cnlOYW1lXG5cdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID0gY291bnRyeU5hbWU7XG5cblx0XHRcdC8vIEFkZCBhcnJvd3MgYW5kIGZsYWdzIGludG8gYnRuIGFmdGVyIGV2ZXJ5IHNlbGVjdGlvbi5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGNvbnN0IGZsYWcgPSByZW5kZXJFbGVtZW50KFwiaW1nXCIsIFwiY291bnRyeS1mbGFnXCIpO1xuXHRcdFx0XHRmbGFnLnNldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIsIFwiYW5vbnltb3VzXCIpO1xuXHRcdFx0XHRmbGFnLnNyYyA9IGBodHRwczovL2NvdW50cnlmbGFnc2FwaS5jb20vcG5nLyR7Y291bnRyeU5hbWV9YDtcblx0XHRcdFx0ZmxhZy5hbHQgPSBgJHtjb3VudHJ5TmFtZX0gZmxhZ2A7XG5cdFx0XHRcdGZsYWcuY2xhc3NMaXN0LmFkZChcImJ0bi1jb3VudHJ5LWZsYWdcIik7XG5cdFx0XHRcdGNvdW50cnlCdG4uYXBwZW5kQ2hpbGQoZmxhZyk7XG5cdFx0XHR9IGNhdGNoIChlcnIpIHtcblx0XHRcdFx0Y29uc29sZS5sb2coZXJyKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGRvd25BcnJvdyA9IHJlbmRlckVsZW1lbnQoXCJpXCIsIFwiZmFzXCIpO1xuXHRcdFx0ZG93bkFycm93LmNsYXNzTGlzdC5hZGQoXCJmYS1hbmdsZS1kb3duXCIpO1xuXHRcdFx0Y291bnRyeUJ0bi5hcHBlbmRDaGlsZChkb3duQXJyb3cpO1xuXG5cdFx0XHRjb25zdCBzdHJlYW1JbmZvID0gcHJvdmlkZXJzW2NvdW50cnlOYW1lXS5zdHJlYW07XG5cdFx0XHRjb25zdCBidXlJbmZvID0gcHJvdmlkZXJzW2NvdW50cnlOYW1lXS5idXk7XG5cdFx0XHRjb25zdCByZW50SW5mbyA9IHByb3ZpZGVyc1tjb3VudHJ5TmFtZV0ucmVudDtcblxuXHRcdFx0Y29uc3Qgc2VydmljZU5hbWVzID0gW1wiU3RyZWFtIGF0OlwiLCBcIlB1cmNoYXNlIGF0OlwiLCBcIlJlbnQgYXQ6XCJdO1xuXHRcdFx0Ly8gVG8gYXNzaWduIG5hbWVzIGZvciBlYWNoIHNldmljZSBwcm92aWRlcnMuXG5cdFx0XHQvLyBUaGlzIGluY3JlbWVudHMgYXMgcHJvdmlkZXJzIGFyZSBsaXN0ZWQgZm9yIGVhY2ggc2VydmljZS5cblx0XHRcdGxldCBpZHggPSAwO1xuXG5cdFx0XHRbc3RyZWFtSW5mbywgYnV5SW5mbywgcmVudEluZm9dLmZvckVhY2goKGluZm8pID0+IHtcblx0XHRcdFx0Y29uc3Qgc2VydmljZUNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJzZXJ2aWNlLWNvbnRhaW5lclwiKTtcblx0XHRcdFx0Y29uc3Qgc2VydmljZU5hbWUgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwic2VydmljZS1uYW1lXCIpO1xuXHRcdFx0XHRjb25zdCBzZXJ2aWNlTmFtZUJvbGQgPSByZW5kZXJFbGVtZW50KFwiaDJcIiwgXCJzZXJ2aWNlLW5hbWUtYm9sZFwiKTtcblx0XHRcdFx0Y29uc3QgcHJvdmlkZXJTZXJ2aWNlQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcblx0XHRcdFx0XHRcImRpdlwiLFxuXHRcdFx0XHRcdFwicHJvdmlkZXItc2VydmljZS1jb250YWluZXJcIlxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGluZm8uZm9yRWFjaCgocHJvdmlkZXIpID0+IHtcblx0XHRcdFx0XHRjb25zdCBwcm92aWRlclNlcnZpY2UgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicHJvdmlkZXItc2VydmljZVwiKTtcblx0XHRcdFx0XHQvLyBBZGQgaW1nIGFuZCBuYW1lIG9mIHByb3ZpZGVyLlxuXHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVySW1nID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcInByb3ZpZGVyLWltZ1wiKTtcblx0XHRcdFx0XHRjb25zdCBwcm92aWRlck5hbWUgPSByZW5kZXJFbGVtZW50KFwic3BhblwiLCBcInByb3ZpZGVyLW5hbWVcIik7XG5cblx0XHRcdFx0XHRpZiAocHJvdmlkZXIucHJvdmlkZXJfbG9nb19wYXRoKSB7XG5cdFx0XHRcdFx0XHRwcm92aWRlckltZy5zcmMgPSBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3Avb3JpZ2luYWwvJHtwcm92aWRlci5wcm92aWRlcl9sb2dvX3BhdGh9YDtcblx0XHRcdFx0XHRcdHByb3ZpZGVySW1nLmFsdCA9IGAke3Byb3ZpZGVyLnByb3ZpZGVyX25hbWV9IHBpY3R1cmUuYDtcblx0XHRcdFx0XHRcdHByb3ZpZGVySW1nLnNldEF0dHJpYnV0ZShcImxvYWRpbmdcIiwgXCJsYXp5XCIpO1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJOYW1lLnRleHRDb250ZW50ID0gcHJvdmlkZXIucHJvdmlkZXJfbmFtZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRbcHJvdmlkZXJJbWcsIHByb3ZpZGVyTmFtZV0uZm9yRWFjaCgoZWxlbSkgPT4ge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJTZXJ2aWNlLmFwcGVuZENoaWxkKGVsZW0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHByb3ZpZGVyU2VydmljZUNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm92aWRlclNlcnZpY2UpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoaW5mby5sZW5ndGgpIHtcblx0XHRcdFx0XHRzZXJ2aWNlTmFtZUJvbGQudGV4dENvbnRlbnQgPSBgJHtzZXJ2aWNlTmFtZXNbaWR4XX1gO1xuXHRcdFx0XHRcdHNlcnZpY2VOYW1lLmFwcGVuZENoaWxkKHNlcnZpY2VOYW1lQm9sZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWR4Kys7XG5cdFx0XHRcdHNlcnZpY2VDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VydmljZU5hbWUpO1xuXHRcdFx0XHRzZXJ2aWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb3ZpZGVyU2VydmljZUNvbnRhaW5lcik7XG5cdFx0XHRcdGhvdXNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlcnZpY2VDb250YWluZXIpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGNsZWFyUHJvdmlkZXIoKSB7XG5cdFx0XHRob3VzZUNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCBkcmF3UmV2aWV3cyA9ICgpID0+IHtcblx0XHRpZiAoIXJldmlld3MpIHJldHVybjtcblx0XHRjb25zdCByZXZpZXdDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmV2aWV3LWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCB0aXRsZSA9IHJlbmRlckVsZW1lbnQoXCJoMlwiLCBcInJldmlldy10aXRsZVwiKTtcblx0XHR0aXRsZS50ZXh0Q29udGVudCA9IFwiUmV2aWV3czpcIjtcblx0XHRyZXZpZXdDb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG5cdFx0cmV2aWV3cy5mb3JFYWNoKChyZXZpZXcpID0+IGRyYXdSZXZpZXcocmV2aWV3LCByZXZpZXdDb250YWluZXIpKTtcblx0XHRyZXR1cm4gcmV2aWV3Q29udGFpbmVyO1xuXHR9O1xuXG5cdGNvbnN0IGRyYXdSZXZpZXcgPSAocmV2aWV3LCBjb250YWluZXIpID0+IHtcblx0XHRjb25zdCByZW5kZXJSZXZpZXdIZWFkaW5nID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgcmV2aWV3SGVhZGluZyA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZXZpZXctaGVhZGluZ1wiKTtcblx0XHRcdC8vIFJlbmRlciBhdXRob3IncyBwcm9maWxlIHBpYyBpZiBhbnkuXG5cdFx0XHRpZiAocmV2aWV3LnBpY19wYXRoKSB7XG5cdFx0XHRcdGNvbnN0IGF1dGhvclBpYyA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJhdXRob3ItcGljXCIpO1xuXHRcdFx0XHRpZiAocmV2aWV3LnBpY19wYXRoLnNsaWNlKDEsIDUpICE9PSBcImh0dHBcIikge1xuXHRcdFx0XHRcdGF1dGhvclBpYy5zcmMgPSBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzMwMC8ke3Jldmlldy5waWNfcGF0aH1gO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGF1dGhvclBpYy5zcmMgPSByZXZpZXcucGljX3BhdGguc2xpY2UoMSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhdXRob3JQaWMuYWx0ID0gYCR7cmV2aWV3LmF1dGhvcn0gcHJvZmlsZSBwaWN0dXJlLmA7XG5cdFx0XHRcdHJldmlld0hlYWRpbmcuYXBwZW5kQ2hpbGQoYXV0aG9yUGljKTtcblx0XHRcdH1cblxuXHRcdFx0YWRkUmV2SW5mbyhyZXZpZXcuYXV0aG9yLCByZXZpZXdIZWFkaW5nLCBcImgzXCIsIFwicmV2aWV3LWF1dGhvclwiKTtcblxuXHRcdFx0YWRkUmV2SW5mbyhyZXZpZXcucmF0aW5nLCByZXZpZXdIZWFkaW5nLCBcInNwYW5cIiwgXCJyZXZpZXctcmF0aW5nXCIpO1xuXG5cdFx0XHRyZXR1cm4gcmV2aWV3SGVhZGluZztcblx0XHR9O1xuXG5cdFx0Y29uc3QgcmVuZGVyUmV2aWV3Qm9keSA9ICgpID0+IHtcblx0XHRcdGNvbnN0IHJldmlld0NvbnRlbnQgPSByZW5kZXJFbGVtZW50KFwicFwiLCBcInJldmlldy1jb250ZW50XCIpO1xuXHRcdFx0cmV2aWV3Q29udGVudC50ZXh0Q29udGVudCA9IGBcIiR7cmV2aWV3LmNvbnRlbnR9XCJgO1xuXHRcdFx0cmV0dXJuIHJldmlld0NvbnRlbnQ7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHJlbmRlclJldmlld0Zvb3RlciA9ICgpID0+IHtcblx0XHRcdGNvbnN0IHJldmlld0Zvb3RlciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZXZpZXctZm9vdGVyXCIpO1xuXHRcdFx0Y29uc3QgcmV2aWV3VXJsID0gcmVuZGVyRWxlbWVudChcImFcIiwgXCJyZXZpZXctbGlua1wiKTtcblx0XHRcdGNvbnN0IHJldmlld1VwZGF0ZWQgPSByZW5kZXJFbGVtZW50KFwic3BhblwiLCBcInJldmlldy11cGRhdGVkXCIpO1xuXG5cdFx0XHRyZXZpZXdVcmwuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBgJHtyZXZpZXcudXJsfWApO1xuXHRcdFx0cmV2aWV3VXJsLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLCBcIl9ibGFua1wiKTtcblx0XHRcdHJldmlld1VybC50ZXh0Q29udGVudCA9IFwiQ2xpY2sgZm9yIHJldmlldyBsaW5rXCI7XG5cblx0XHRcdHJldmlld1VwZGF0ZWQudGV4dENvbnRlbnQgPSBgTGFzdCB1cGRhdGVkOiAke2Zvcm1hdFJldkRhdGUoXG5cdFx0XHRcdHJldmlldy5sYXN0X3VwZGF0ZWRcblx0XHRcdCl9YDtcblxuXHRcdFx0cmV2aWV3Rm9vdGVyLmFwcGVuZENoaWxkKHJldmlld1VybCk7XG5cdFx0XHRyZXZpZXdGb290ZXIuYXBwZW5kQ2hpbGQocmV2aWV3VXBkYXRlZCk7XG5cblx0XHRcdHJldHVybiByZXZpZXdGb290ZXI7XG5cdFx0XHRmdW5jdGlvbiBmb3JtYXRSZXZEYXRlKGRhdGUpIHtcblx0XHRcdFx0ZGF0ZSA9IGRhdGUuc3BsaXQoXCItXCIpO1xuXHRcdFx0XHRkYXRlWzJdID0gZGF0ZVsyXS5zbGljZSgwLCAyKSArIFwiL1wiO1xuXHRcdFx0XHRyZXR1cm4gZGF0ZVsyXS5jb25jYXQoZGF0ZS5zbGljZSgwLCAyKS5yZXZlcnNlKCkuam9pbihcIi9cIikpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyUmV2aWV3SGVhZGluZygpKTtcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyUmV2aWV3Qm9keSgpKTtcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyUmV2aWV3Rm9vdGVyKCkpO1xuXG5cdFx0Ly8gSGVscGVyIGZuYyB0aGF0IGNvbGxlY3RzIGNvcnJlc3BvbmRpbmcgaW5mbyBhbmRcblx0XHQvLyBjcmVhdGVzIGEgc3Bhbi9kaXYgY29udGFpbmVyIGlmIGluZm8gZXhpc3RzLiBPdGhlcndpc2UsIHJldHVybjtcblx0XHRmdW5jdGlvbiBhZGRSZXZJbmZvKGluZm8sIGNvbnRhaW5lciwgdGFnLCBjbGFzc05hbWUpIHtcblx0XHRcdGNvbnN0IGluZm9Db250YWluZXIgPSByZW5kZXJFbGVtZW50KHRhZywgY2xhc3NOYW1lKTtcblx0XHRcdGlmIChpbmZvKSB7XG5cdFx0XHRcdGluZm9Db250YWluZXIudGV4dENvbnRlbnQgPSBpbmZvO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXZpZXdzIG91dCBvZiAxMFxuXHRcdFx0aWYgKGluZm8gPT09IHJldmlldy5yYXRpbmcpIHtcblx0XHRcdFx0aW5mb0NvbnRhaW5lci50ZXh0Q29udGVudCA9IHJldmlldy5yYXRpbmcgPyBgJHtpbmZvfS8xMGAgOiBcIlJhdGluZyBub3QgcHJvdmlkZWQuLlwiO1xuXHRcdFx0fVxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGluZm9Db250YWluZXIpO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCBkcmF3VHJhaWxlciA9ICgpID0+IHtcblx0XHRjb25zdCB0cmFpbGVyQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInRyYWlsZXItY29udGFpbmVyXCIpO1xuXHRcdGNvbnN0IHRyYWlsZXJIZWFkaW5nID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInRyYWlsZXItaGVhZGluZ1wiKTtcblxuXHRcdGlmICh0cmFpbGVyKSB7XG5cdFx0XHRyZW5kZXJUcmFpbGVySGVhZGluZygpLmZvckVhY2goKGVsZW0pID0+XG5cdFx0XHRcdHRyYWlsZXJIZWFkaW5nLmFwcGVuZENoaWxkKGVsZW0pXG5cdFx0XHQpO1xuXHRcdFx0dHJhaWxlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0cmFpbGVySGVhZGluZyk7XG5cdFx0XHRjb25zdCB2aWRlb1dyYXBwZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwidmlkZW8td3JhcHBlclwiKTtcblx0XHRcdHZpZGVvV3JhcHBlci5hcHBlbmRDaGlsZChhZGRWaWRlbyh0cmFpbGVyLmtleSwgdHJhaWxlci5zaXRlKSk7XG5cdFx0XHR0cmFpbGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHZpZGVvV3JhcHBlcik7XG5cdFx0fVxuXHRcdHJldHVybiB0cmFpbGVyQ29udGFpbmVyO1xuXG5cdFx0ZnVuY3Rpb24gcmVuZGVyVHJhaWxlckhlYWRpbmcoKSB7XG5cdFx0XHRjb25zdCB0cmFpbGVyTmFtZSA9IHJlbmRlckVsZW1lbnQoXCJoMlwiLCBcInRyYWlsZXItbmFtZVwiKTtcblx0XHRcdGNvbnN0IHRyYWlsZXJMYW5ndWFnZSA9IHJlbmRlckVsZW1lbnQoXCJoM1wiLCBcInRyYWlsZXItbGFuZ1wiKTtcblx0XHRcdHRyYWlsZXJOYW1lLnRleHRDb250ZW50ID0gYCR7dHJhaWxlci50TmFtZX1gO1xuXHRcdFx0dHJhaWxlckxhbmd1YWdlLnRleHRDb250ZW50ID0gYExhbmd1YWdlOiAke3RyYWlsZXIubGFuZ31gO1xuXG5cdFx0XHRyZXR1cm4gW3RyYWlsZXJOYW1lLCB0cmFpbGVyTGFuZ3VhZ2VdO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGFkZFZpZGVvKGtleSwgc2l0ZSkge1xuXHRcdFx0Y29uc3QgZnJhbWUgPSByZW5kZXJFbGVtZW50KFwiaWZyYW1lXCIsIFwidHJhaWxlci12aWRlb1wiKTtcblx0XHRcdGNvbnN0IGF0dHJpYnV0ZXMgPSB7XG5cdFx0XHRcdGxvYWRpbmc6IFwibGF6eVwiLFxuXHRcdFx0XHR3aWR0aDogXCI1NjBcIixcblx0XHRcdFx0aGVpZ2h0OiBcIjMxNVwiLFxuXHRcdFx0XHRzcmM6IGBodHRwczovL3lvdXR1YmUuY29tL2VtYmVkLyR7a2V5fWAsXG5cdFx0XHRcdHRpdGxlOiBgJHtzaXRlfSB2aWRlbyBwbGF5ZXJgLFxuXHRcdFx0XHRmcmFtZWJvcmRlcjogXCIwXCIsXG5cdFx0XHRcdGFsbG93OlxuXHRcdFx0XHRcdFwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkIG1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlXCIsXG5cdFx0XHR9O1xuXHRcdFx0Zm9yIChsZXQgYXR0ciBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGZyYW1lLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyaWJ1dGVzW2F0dHJdKTtcblx0XHRcdFx0ZnJhbWUuc2V0QXR0cmlidXRlKFwiYWxsb3dmdWxsc2NyZWVuXCIsIHRydWUpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZyYW1lO1xuXHRcdH1cblx0fTtcblx0Y29uc3QgZHJhd1JlY3MgPSAoKSA9PiB7XG5cdFx0Y29uc3QgcmVjc0NvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZWNzLWNvbnRhaW5lclwiKTtcblx0XHRpZiAoT2JqZWN0LmtleXMocmVjcykubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRjb25zdCBub25lTXNnID0gcmVuZGVyRWxlbWVudChcImg0XCIsIFwibm8tcmV2aWV3LW1zZ1wiKTtcblx0XHRcdG5vbmVNc2cudGV4dENvbnRlbnQgPSBcIk5vIHJlY29tbWVuZGF0aW9ucyBmb3VuZC5cIjtcblx0XHRcdHJlY3NDb250YWluZXIuYXBwZW5kQ2hpbGQobm9uZU1zZyk7XG5cdFx0XHRyZWNzQ29udGFpbmVyLnN0eWxlID0gXCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIlxuXHRcdFx0cmV0dXJuIHJlY3NDb250YWluZXI7XG5cdFx0fVxuXHRcdGZvciAobGV0IHJlYyBpbiByZWNzKSB7XG5cdFx0XHRyZWNzQ29udGFpbmVyLmFwcGVuZENoaWxkKGRyYXdSZWMocmVjc1tyZWNdKSk7XG5cdFx0fVxuXHRcdHJldHVybiByZWNzQ29udGFpbmVyO1xuXHR9O1xuXG5cdGNvbnN0IGRyYXdSZWMgPSAocmVjKSA9PiB7XG5cdFx0Y29uc3QgcmVjQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInJlYy1jb250YWluZXJcIik7XG5cdFx0Y29uc3QgcmVjUG9zdGVyID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcInJlYy1wb3N0ZXJcIik7XG5cdFx0Y29uc3QgaW5mbyA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZWMtaW5mb1wiKTtcblxuXHRcdHJlY1Bvc3Rlci5zcmMgPSBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzMwMC8ke3JlYy5wb3N0ZXJfcGF0aH1gO1xuXG5cdFx0cmVjQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlY1Bvc3Rlcik7XG5cdFx0cmVuZGVySW5mbyhyZWMpLmZvckVhY2goKHN1YkluZm8pID0+IGluZm8uYXBwZW5kQ2hpbGQoc3ViSW5mbykpO1xuXG5cdFx0Y29uc3QgcmVjTGluayA9IHJlbmRlckVsZW1lbnQoXCJhXCIsIFwicmVjLWxpbmtcIik7XG5cdFx0Y29uc3QgbWVkaWFUeXBlID0gcmVjLnROYW1lID8gXCJUViBTaG93XCIgOiBcIk1vdmllXCI7XG5cdFx0cmVjTGluay50ZXh0Q29udGVudCA9IGBTZWFyY2ggZm9yIHRoaXMgJHttZWRpYVR5cGV9IC0+IGA7XG5cdFx0cmVjTGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHBhZ2UuY2xlYXJTZWN0aW9ucygpO1xuXHRcdFx0cmVjLnROYW1lXG5cdFx0XHRcdD8gYXdhaXQgcGFnZS5kcmF3U2VjdGlvbnMocmVjLnROYW1lKVxuXHRcdFx0XHQ6IGF3YWl0IHBhZ2UuZHJhd1NlY3Rpb25zKHJlYy5tTmFtZSk7XG5cdFx0fSk7XG5cblx0XHRpbmZvLmFwcGVuZENoaWxkKHJlY0xpbmspO1xuXHRcdHJlY0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvKTtcblx0XHRyZXR1cm4gcmVjQ29udGFpbmVyO1xuXG5cdFx0ZnVuY3Rpb24gcmVuZGVySW5mbyhzdWJJbmZvKSB7XG5cdFx0XHRpZiAoc3ViSW5mbykge1xuXHRcdFx0XHQvLyBJZiBpbmZvIGV4aXN0cy5cblx0XHRcdFx0Y29uc3QgcmVjTmFtZSA9IHJlbmRlckVsZW1lbnQoXCJwXCIsIFwicmVjLW5hbWVcIik7XG5cdFx0XHRcdGNvbnN0IHJlY0RhdGUgPSByZW5kZXJFbGVtZW50KFwicFwiLCBcInJlYy1kYXRlXCIpO1xuXHRcdFx0XHRjb25zdCB2b3RlQ291bnQgPSByZW5kZXJFbGVtZW50KFwicFwiLCBcInJlYy12b3RlLWNvdW50XCIpO1xuXHRcdFx0XHRjb25zdCB2b3RlQXZnID0gcmVuZGVyRWxlbWVudChcInBcIiwgXCJyZWMtdm90ZS1hdmdcIik7XG5cblx0XHRcdFx0cmVjTmFtZS50ZXh0Q29udGVudCA9IHN1YkluZm8udE5hbWVcblx0XHRcdFx0XHQ/IGBOYW1lOiAke3N1YkluZm8udE5hbWV9YFxuXHRcdFx0XHRcdDogYE5hbWU6ICR7c3ViSW5mby5tTmFtZX1gO1xuXHRcdFx0XHRyZWNEYXRlLnRleHRDb250ZW50ID0gc3ViSW5mby5maXJzdF9haXJfZGF0ZVxuXHRcdFx0XHRcdD8gYEZpcnN0IEFpciBEYXRlOiAke3N1YkluZm8uZmlyc3RfYWlyX2RhdGV9YFxuXHRcdFx0XHRcdDogYFJlbGVhc2UgRGF0ZTogJHtzdWJJbmZvLnJlbGVhc2VfZGF0ZX1gO1xuXHRcdFx0XHR2b3RlQ291bnQudGV4dENvbnRlbnQgPSBgVm90ZSBDb3VudDogJHtzdWJJbmZvLnZvdGVfY291bnR9YDtcblx0XHRcdFx0dm90ZUF2Zy50ZXh0Q29udGVudCA9IGBWb3RlIEF2ZzogJHtzdWJJbmZvLnZvdGVfYXZlcmFnZX1gO1xuXG5cdFx0XHRcdHJldHVybiBbcmVjTmFtZSwgcmVjRGF0ZSwgdm90ZUNvdW50LCB2b3RlQXZnXTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0ZnVuY3Rpb24gcmVuZGVyQ291bnRyaWVzTW9kYWwoY3VyckNvdW50cnlOYW1lKSB7XG5cdFx0Ly8gQ291bnRyeSBuYW1lc1xuXHRcdGNvbnN0IHByb3ZpZGVyQ291bnRyaWVzID0gT2JqZWN0LmtleXMocHJvdmlkZXJzKTtcblx0XHQvLyBTb3J0IGJ5IGNvdW50cnkgbmFtZSBhbmQgY29kZXMgaW50byBhbiBvYmouXG5cdFx0bGV0IGNvdW50cmllcyA9IHt9O1xuXHRcdGxldCBjdXJyQ291bnRyeUNvZGU7XG5cdFx0cHJvdmlkZXJDb3VudHJpZXMuZm9yRWFjaCgoY291bnRyeSkgPT4ge1xuXHRcdFx0Y291bnRyaWVzW2NvdW50cnldID0gcHJvdmlkZXJzW2NvdW50cnldLmNvdW50cnlDb2RlO1xuXG5cdFx0XHQvLyBGaW5kIGN1cnJlbnQgY291bnRyeSBjb2RlLlxuXHRcdFx0aWYgKGN1cnJDb3VudHJ5TmFtZSA9PT0gY291bnRyeSkge1xuXHRcdFx0XHRjdXJyQ291bnRyeUNvZGUgPSBwcm92aWRlcnNbY291bnRyeV0uY291bnRyeUNvZGU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjb25zdCBtb2RhbENvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJmb3JtXCIsIFwibW9kYWwtY291bnRyeS1jb250YWluZXJcIik7XG5cdFx0Y29uc3QgbW9kYWxIZWFkZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwibW9kYWwtaGVhZGVyXCIpO1xuXG5cdFx0Y29uc3QgbW9kYWxCb2R5ID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcIm1vZGFsLWJvZHlcIik7XG5cdFx0Y29uc3QgbW9kYWxDdXJyZW50Q291bnRyeSA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJtb2RhbC1jdXJyZW50LWNvdW50cnlcIik7XG5cdFx0Y29uc3QgbW9kYWxJbnB1dFNlYXJjaCA9IHJlbmRlckVsZW1lbnQoXCJpbnB1dFwiLCBcIm1vZGFsLWlucHV0LXNlYXJjaFwiKTtcblx0XHRjb25zdCBtb2RhbExpc3RDb3VudHJpZXMgPSByZW5kZXJFbGVtZW50KFwidWxcIiwgXCJtb2RhbC1saXN0LWNvdW50cmllc1wiKTtcblxuXHRcdGNvbnN0IG1vZGFsQ2xvc2VCdG4gPSByZW5kZXJFbGVtZW50KFwiYnV0dG9uXCIsIFwibW9kYWwtY2xvc2UtYnRuXCIpO1xuXG5cdFx0Y29uc3QgcmVuZGVySGVhZGluZyA9ICgpID0+IHtcblx0XHRcdC8vIEhlYWRpbmcgdGhhdCBkaXNwbGF5cyBjdXJyZW50IGNvdW50cnkgc2VsZWN0ZWQuXG5cdFx0XHRjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuXHRcdFx0aGVhZGluZy50ZXh0Q29udGVudCA9IFwiQ291bnRyaWVzXCI7XG5cblx0XHRcdGNvbnN0IGN1cnJDb3VudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuXHRcdFx0Y29uc3Qgc2VhcmNoTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG5cblx0XHRcdGNvbnN0IHNlYXJjaEF0dHJpYnV0ZXMgPSB7XG5cdFx0XHRcdGlkOiBcIm1vZGFsLWlucHV0LXNlYXJjaFwiLFxuXHRcdFx0XHR0eXBlOiBcInNlYXJjaFwiLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogXCLwn5SNIFNlYXJjaCBmb3IgY291bnRyaWVzLi4uXCIsXG5cdFx0XHRcdHRpdGxlOiBcIlR5cGUgaW4gYSBjb3VudHJ5IG5hbWVcIixcblx0XHRcdFx0cm9sZTogXCJzZWFyY2hcIixcblx0XHRcdH07XG5cblx0XHRcdGZvciAobGV0IGkgaW4gc2VhcmNoQXR0cmlidXRlcykge1xuXHRcdFx0XHRtb2RhbElucHV0U2VhcmNoLnNldEF0dHJpYnV0ZShpLCBzZWFyY2hBdHRyaWJ1dGVzW2ldKTtcblx0XHRcdH1cblx0XHRcdG1vZGFsSW5wdXRTZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGZpbHRlclJlc3VsdHMpO1xuXHRcdFx0bW9kYWxJbnB1dFNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBGaW5kIGN1cnJlbnQgY291bnRyeSBuYW1lIGFuZCBjb2RlLlxuXHRcdFx0Y29uc3QgY3VyckNvdW50cnlGbGFnID0gcmVuZGVyQ291bnRyeUZsYWcoXG5cdFx0XHRcdGN1cnJDb3VudHJ5Q29kZSxcblx0XHRcdFx0Y3VyckNvdW50cnlOYW1lXG5cdFx0XHQpO1xuXHRcdFx0Y3VyckNvdW50cnkudGV4dENvbnRlbnQgPSBjdXJyQ291bnRyeU5hbWU7XG5cblx0XHRcdG1vZGFsQ3VycmVudENvdW50cnkuYXBwZW5kQ2hpbGQoY3VyckNvdW50cnlGbGFnKTtcblx0XHRcdG1vZGFsQ3VycmVudENvdW50cnkuYXBwZW5kQ2hpbGQoY3VyckNvdW50cnkpO1xuXG5cdFx0XHRzZWFyY2hMYWJlbC5odG1sRm9yID0gYCR7bW9kYWxJbnB1dFNlYXJjaC5pZH1gO1xuXG5cdFx0XHRbaGVhZGluZywgbW9kYWxDdXJyZW50Q291bnRyeSwgc2VhcmNoTGFiZWwsIG1vZGFsSW5wdXRTZWFyY2hdLmZvckVhY2goXG5cdFx0XHRcdChmb3JtRWxlbSkgPT4ge1xuXHRcdFx0XHRcdG1vZGFsSGVhZGVyLmFwcGVuZENoaWxkKGZvcm1FbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHR9O1xuXG5cdFx0Y29uc3QgcmVuZGVyQm9keSA9ICgpID0+IHtcblx0XHRcdG1vZGFsTGlzdENvdW50cmllcy5pZCA9IFwiY291bnRyaWVzLWxpc3RcIjtcblx0XHRcdGZvciAobGV0IGNvdW50cnkgaW4gY291bnRyaWVzKSB7XG5cdFx0XHRcdGxldCBjb3VudHJ5Q29kZSA9IGNvdW50cmllc1tjb3VudHJ5XTtcblxuXHRcdFx0XHRjb25zdCBjb3VudHJ5Q29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImxpXCIsIFwiY291bnRyeS1jb250YWluZXJcIik7XG5cdFx0XHRcdGNvbnN0IGNvdW50cnlGbGFnID0gcmVuZGVyQ291bnRyeUZsYWcoY291bnRyeUNvZGUsIGNvdW50cnkpO1xuXHRcdFx0XHRjb25zdCBjb3VudHJ5TmFtZSA9IHJlbmRlckVsZW1lbnQoXCJhXCIsIFwiY291bnRyeS1uYW1lXCIpO1xuXG5cdFx0XHRcdGNvdW50cnlOYW1lLnRleHRDb250ZW50ID0gY291bnRyeTtcblx0XHRcdFx0Y291bnRyeU5hbWUuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBcIiNcIik7XG5cblx0XHRcdFx0W2NvdW50cnlGbGFnLCBjb3VudHJ5TmFtZV0uZm9yRWFjaCgoY291bnRyeUVsZW0pID0+IHtcblx0XHRcdFx0XHRjb3VudHJ5Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvdW50cnlFbGVtKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0bW9kYWxMaXN0Q291bnRyaWVzLmFwcGVuZENoaWxkKGNvdW50cnlDb250YWluZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHRbbW9kYWxMaXN0Q291bnRyaWVzXS5mb3JFYWNoKChmb3JtRWxlbSkgPT4ge1xuXHRcdFx0XHRtb2RhbEJvZHkuYXBwZW5kQ2hpbGQoZm9ybUVsZW0pO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHJlbmRlckNsb3NlQnRuID0gKGNsb3NlRm5jKSA9PiB7XG5cdFx0XHRjb25zdCBjbG9zZVN5bWIgPSByZW5kZXJFbGVtZW50KFwiaVwiLCBcImZhXCIpO1xuXHRcdFx0Y2xvc2VTeW1iLmNsYXNzTGlzdC5hZGQoXCJmYS1jbG9zZVwiKTtcblx0XHRcdG1vZGFsQ2xvc2VCdG4uYXBwZW5kQ2hpbGQoY2xvc2VTeW1iKTtcblx0XHRcdGNsb3NlRm5jKCk7XG5cdFx0fTtcblx0XHRjb25zdCBhZGRDbG9zZUZuYyA9ICgpID0+IHtcblx0XHRcdG1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0Y29uc3QgY3VycmVudEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNvdW50cnktY29udGFpbmVyXCIpO1xuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhY2UtbWFza1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cblx0XHRcdFx0c2V0VGltZW91dChzZXRJbnZpc2libGUsIDEwMCk7XG5cdFx0XHRcdGZ1bmN0aW9uIHNldEludmlzaWJsZSgpIHtcblx0XHRcdFx0XHRjdXJyZW50Rm9ybS5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoLTEyNSUpXCI7XG5cdFx0XHRcdH1cblx0XHRcdFx0c2V0VGltZW91dChyZW1vdmVNb2RhbCwgNzUwKTtcblx0XHRcdFx0ZnVuY3Rpb24gcmVtb3ZlTW9kYWwoKSB7XG5cdFx0XHRcdFx0Y3VycmVudEZvcm0uc3R5bGUub3BhY2l0eSA9IDA7XG5cdFx0XHRcdFx0Y3VycmVudEZvcm0uc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG5cdFx0XHRcdFx0Y3VycmVudEZvcm0ucmVtb3ZlKCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0Ly8gY3VycmVudEZvcm0ucmVtb3ZlKCk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0Ly8gUmVuZGVyIHNlY3Rpb25zIG9mIHRoZSBmb3JtLlxuXHRcdHJlbmRlckhlYWRpbmcoKTtcblx0XHRyZW5kZXJCb2R5KCk7XG5cdFx0cmVuZGVyQ2xvc2VCdG4oYWRkQ2xvc2VGbmMpO1xuXG5cdFx0W21vZGFsSGVhZGVyLCBtb2RhbEJvZHksIG1vZGFsQ2xvc2VCdG5dLmZvckVhY2goKG1vZGFsRWxlbSkgPT5cblx0XHRcdG1vZGFsQ29udGFpbmVyLmFwcGVuZENoaWxkKG1vZGFsRWxlbSlcblx0XHQpO1xuXG5cdFx0c2V0VGltZW91dChtYWtlVmlzaWJsZSwgMTAwKTtcblx0XHRmdW5jdGlvbiBtYWtlVmlzaWJsZSgpIHtcblx0XHRcdC8vIFNldCBzdHlsaW5nIHRvIHZpc2libGUgZm9yIGFuaW1hdGlvbiBmYWRlIGluIGVmZmVjdC5cblx0XHRcdG1vZGFsQ29udGFpbmVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcblx0XHRcdG1vZGFsQ29udGFpbmVyLnN0eWxlLm9wYWNpdHkgPSAxO1xuXHRcdFx0bW9kYWxDb250YWluZXIuc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKDAlKVwiO1xuXHRcdH1cblxuXHRcdGNvbnN0IGJvZHlEb2N1bWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuXHRcdGJvZHlEb2N1bWVudC5hcHBlbmQobW9kYWxDb250YWluZXIpO1xuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmFjZS1tYXNrXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cblx0XHRmdW5jdGlvbiByZW5kZXJDb3VudHJ5RmxhZyhjb3VudHJ5Q29kZSwgY291bnRyeU5hbWUpIHtcblx0XHRcdGNvbnN0IGZsYWcgPSByZW5kZXJFbGVtZW50KFwiaW1nXCIsIFwiY291bnRyeS1mbGFnXCIpO1xuXHRcdFx0ZmxhZy5zZXRBdHRyaWJ1dGUoXCJjcm9zc29yaWdpblwiLCBcImFub255bW91c1wiKTtcblx0XHRcdGZsYWcuc3JjID0gYGh0dHBzOi8vY291bnRyeWZsYWdzYXBpLmNvbS9wbmcvJHtjb3VudHJ5Q29kZX1gO1xuXHRcdFx0ZmxhZy5hbHQgPSBgJHtjb3VudHJ5TmFtZX0gZmxhZ2A7XG5cdFx0XHRyZXR1cm4gZmxhZztcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBmaWx0ZXJSZXN1bHRzKCkge1xuXHRcdFx0bGV0IGlucHV0LCBmaWx0ZXIsIHVsLCBsaSwgYSwgaSwgdHh0VmFsdWU7XG5cdFx0XHRpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtaW5wdXQtc2VhcmNoXCIpO1xuXHRcdFx0ZmlsdGVyID0gaW5wdXQudmFsdWUudG9VcHBlckNhc2UoKTtcblx0XHRcdHVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb3VudHJpZXMtbGlzdFwiKTtcblx0XHRcdGxpID0gdWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKTtcblxuXHRcdFx0Ly8gTG9naWMgdGhhdCBmaWx0ZXJzIHRoZSBjb3VudHJpZXMgYmFzZWQgb24gaW5wdXQuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGkubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0YSA9IGxpW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKVswXTtcblx0XHRcdFx0dHh0VmFsdWUgPSBhLnRleHRDb250ZW50IHx8IGEuaW5uZXJUZXh0O1xuXHRcdFx0XHRpZiAodHh0VmFsdWUudG9VcHBlckNhc2UoKS5pbmRleE9mKGZpbHRlcikgPiAtMSkge1xuXHRcdFx0XHRcdGxpW2ldLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpW2ldLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiBoaWdobGlnaHRDdXJyQ291bnRyeShjb3VudHJ5TmFtZSkge1xuXHRcdC8vIEhpZ2hsaWdodCBzZWxlY3RlZCBjdXJyZW50IGNvdW50cnkgaW4gdGhlIGxpc3Qgb2YgY291bnRyaWVzIHdoZW5cblx0XHQvLyBtb2RhbCBpcyBvcGVuZWQuIEFkZCBhIHRpY2sgaWNvbiBzaW11bHRhbmVvdXNseVxuXG5cdFx0bGV0IHVsLCBsaSwgaSwgYSwgdHh0VmFsdWU7XG5cdFx0dWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvdW50cmllcy1saXN0XCIpO1xuXHRcdGxpID0gdWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKTtcblx0XHRmb3IgKGkgPSAwOyBpIDwgbGkubGVuZ3RoOyBpKyspIHtcblx0XHRcdGEgPSBsaVtpXS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIilbMF07XG5cdFx0XHR0eHRWYWx1ZSA9IGEudGV4dENvbnRlbnQgfHwgYS5pbm5lclRleHQ7XG5cdFx0XHRpZiAodHh0VmFsdWUgPT09IGNvdW50cnlOYW1lKSB7XG5cdFx0XHRcdGxpW2ldLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmdiYSgyNSwgMTUwLCAxNTAsIDAuNSlcIjtcblx0XHRcdFx0bGlbaV0uc3R5bGUudHJhbnNmb3JtID0gXCJzY2FsZSgxLjAyNSlcIjtcblx0XHRcdFx0Y29uc3QgdGlja0ljb24gPSByZW5kZXJFbGVtZW50KFwiaVwiLCBcImZhXCIpO1xuXHRcdFx0XHR0aWNrSWNvbi5jbGFzc0xpc3QuYWRkKFwiZmEtY2hlY2tcIik7XG5cdFx0XHRcdGxpW2ldLmFwcGVuZCh0aWNrSWNvbik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiB7XG5cdFx0c2VjdGlvbixcblx0XHRhZGRUb1NlY3Rpb24sXG5cdFx0ZHJhd0FsbCxcblx0XHRkcmF3SW50cm8sXG5cdFx0ZHJhd1N1YkluZm9zLFxuXHRcdGRyYXdTdW1tYXJ5SGVhZGluZyxcblx0XHRkcmF3U3VtbWFyeSxcblx0XHRkcmF3UHJvdmlkZXJzLFxuXHRcdGRyYXdSZXZpZXdzLFxuXHRcdGRyYXdUcmFpbGVyLFxuXHRcdGRyYXdSZWNzLFxuXHR9O1xufTtcblxuZXhwb3J0IHsgZHJhd1NlY3Rpb24gfTtcbiIsImltcG9ydCBjb2xsZWN0U2VhcmNoUXVlcnkgZnJvbSBcIi4vc2VhcmNoXCI7XG5pbXBvcnQgeyBmZXRjaElkcyB9IGZyb20gXCIuLi9hcGlGdW5jdGlvbnMvZmV0Y2hJZFwiO1xuaW1wb3J0ICogYXMgbW92aWUgZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mb1wiO1xuaW1wb3J0IHsgZHJhd1NlY3Rpb24gfSBmcm9tIFwiLi9kcmF3U2VjdGlvblwiO1xuXG5hc3luYyBmdW5jdGlvbiBkcmF3U2VjdGlvbnModGl0bGUpIHtcblx0Y29uc3QgaWRzID0gYXdhaXQgZmV0Y2hJZHModGl0bGUpO1xuXHRjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTtcblx0c2hvd0xvYWRlcigpO1xuXG5cdGxldCBzZWN0aW9ucyA9IFtdO1xuXG5cdC8vIE1ha2UgYW4gYXJyIHcvIGVsZW1zIG9mIFtpZCwgbWVkaWFdXG5cdGZvciAobGV0IGlkIGluIGlkcykge1xuXHRcdHNlY3Rpb25zLnB1c2goW2lkLCBpZHNbaWRdXSk7XG5cdH1cblxuXHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xuXHRcdGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcblx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXHQvLyBkcmF3IGFsbCBzZWN0aW9uc1xuXHRzZWN0aW9ucy5mb3JFYWNoKGFzeW5jIChzZWN0aW9uKSA9PiB7XG5cdFx0YXdhaXQgcmVuZGVyU2VjdGlvbihzZWN0aW9uWzBdLCBzZWN0aW9uWzFdKS50aGVuKCgpID0+IGhpZGVMb2FkZXIoKSk7XG5cblx0XHQvLyBFbmFibGUgYW5pbWF0aW9uIGlmIGFuaW1hdGlvbi1jaGVjayBjaGVja2JveCBpcyBjaGVja2VkLlxuXHRcdGNvbnN0IGFuaW1hdGlvbkNoZWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGVjay1hbmltYXRpb25cIik7XG5cdFx0aWYgKGFuaW1hdGlvbkNoZWNrLmNoZWNrZWQpIHtcblx0XHRcdGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIik7XG5cdFx0XHRbLi4uZWxlbWVudHNdLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGVsLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG5cdFx0XHRcdG9ic2VydmVyLm9ic2VydmUoZWwpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0LXNlYXJjaFwiKS52YWx1ZSA9IHRpdGxlLnNwbGl0KFwiK1wiKS5qb2luKFwiIFwiKTtcblxuXHRhc3luYyBmdW5jdGlvbiByZW5kZXJTZWN0aW9uKGlkLCBtZWRpYSkge1xuXHRcdGNvbnN0IHNlY3Rpb24gPSBhd2FpdCBkcmF3U2VjdGlvbihpZCwgbWVkaWEpO1xuXG5cdFx0Ly8gQWRkIHdyYXBwZXIgZGl2cyBmb3IgbGF5b3V0LlxuXHRcdGNvbnN0IGludHJvU3ViSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0aW50cm9TdWJJbmZvLmNsYXNzTGlzdC5hZGQoXCJpbnRyby1zdWItaW5mb1wiKTtcblx0XHRpbnRyb1N1YkluZm8uYXBwZW5kQ2hpbGQoc2VjdGlvbi5kcmF3SW50cm8oXCIzMDBcIikpO1xuXHRcdGludHJvU3ViSW5mby5hcHBlbmRDaGlsZChzZWN0aW9uLmRyYXdTdWJJbmZvcygpKTtcblxuXHRcdGNvbnN0IHN5bm9wc2lzV2F0Y2hQdmRlcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdHN5bm9wc2lzV2F0Y2hQdmRlcnMuY2xhc3NMaXN0LmFkZChcInN5bm9wc2lzLXdhdGNoLXByb3ZpZGVyc1wiKTtcblx0XHRzeW5vcHNpc1dhdGNoUHZkZXJzLmFwcGVuZENoaWxkKHNlY3Rpb24uZHJhd1N1bW1hcnlIZWFkaW5nKCkpO1xuXHRcdHN5bm9wc2lzV2F0Y2hQdmRlcnMuYXBwZW5kQ2hpbGQoc2VjdGlvbi5kcmF3U3VtbWFyeSgpKTtcblx0XHRzeW5vcHNpc1dhdGNoUHZkZXJzLmFwcGVuZENoaWxkKHNlY3Rpb24uZHJhd1Byb3ZpZGVycygpKTtcblxuXHRcdGNvbnN0IHJlY0hlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG5cdFx0cmVjSGVhZGluZy5jbGFzc0xpc3QuYWRkKFwicmVjLWhlYWRpbmdcIik7XG5cdFx0cmVjSGVhZGluZy50ZXh0Q29udGVudCA9IFwiUkVDT01NRU5EQVRJT05TOlwiO1xuXG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oaW50cm9TdWJJbmZvKTtcblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihzeW5vcHNpc1dhdGNoUHZkZXJzKTtcblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihzZWN0aW9uLmRyYXdSZXZpZXdzKCkpO1xuXHRcdHNlY3Rpb24uYWRkVG9TZWN0aW9uKHNlY3Rpb24uZHJhd1RyYWlsZXIoKSk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24ocmVjSGVhZGluZyk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3UmVjcygpKTtcblx0XHRtYWluLmFwcGVuZENoaWxkKHNlY3Rpb24uc2VjdGlvbik7XG5cdH1cbn1cblxuZnVuY3Rpb24gY2xlYXJTZWN0aW9ucygpIHtcblx0Y29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250YWluZXJcIik7XG5cdGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGVyXCIpO1xuXHRjb25zdCBzZWN0aW9ucyA9IG1haW4uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3NlY3Rpb24nKTtcblx0Wy4uLnNlY3Rpb25zXS5mb3JFYWNoKHNlY3QgPT4gc2VjdC5yZW1vdmUoKSk7XG59XG5cbmZ1bmN0aW9uIHNob3dMb2FkZXIoKSB7XG5cdGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGVyXCIpO1xuXHRsb2FkZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xufVxuZnVuY3Rpb24gaGlkZUxvYWRlcigpIHtcblx0Y29uc3QgbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2FkZXJcIik7XG5cblx0bG9hZGVyLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuXG59XG5cbmV4cG9ydCB7IGRyYXdTZWN0aW9ucywgY2xlYXJTZWN0aW9ucyB9O1xuIiwiaW1wb3J0IHsgZHJhd1NlY3Rpb25zLCBjbGVhclNlY3Rpb25zIH0gZnJvbSBcIi4uL0RPTUZ1bmN0aW9ucy9kcmF3U2VjdGlvbnNcIjtcblxuZXhwb3J0IGRlZmF1bHQgYXN5bmMgZnVuY3Rpb24gYWRkU3VibWl0U2VhcmNoRm5jKCkge1xuXHRjb25zdCBzZWFyY2hCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1xdWVyeVwiKTtcblx0c2VhcmNoQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZSkgPT4ge1xuXHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRjb25zdCBxdWVyeSA9IGludGVycHJldFRvUXVlcnkoXG5cdFx0XHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0LXNlYXJjaFwiKS52YWx1ZVxuXHRcdCk7XG5cdFx0aWYgKCFxdWVyeSkge1xuXHRcdFx0YWxlcnQoXCJQbGVhc2UgZW50ZXIgYSB2YWxpZCBtb3ZpZS90diBzaG93XCIpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblxuXHRcdC8vIFJlbW92ZSB0aXRsZSBwYWdlcyBlbGVtcyBpZiBhbnkuXG5cdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZS1wYWdlXCIpXG5cdFx0XHQ/IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGUtcGFnZVwiKS5yZW1vdmUoKVxuXHRcdFx0OiBcIlwiO1xuXHRcdFxuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW50cm8tY29udGFpbmVyMlwiKVxuXHRcdFx0PyBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmludHJvLWNvbnRhaW5lcjJcIikucmVtb3ZlKClcblx0XHRcdDogXCJcIjtcblxuXHRcdGNsZWFyU2VjdGlvbnMoKTtcblx0XHRhd2FpdCBkcmF3U2VjdGlvbnMocXVlcnkpO1xuXG5cdH0pO1xufVxuXG5mdW5jdGlvbiBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIrXCIpO1xufVxuIiwiaW1wb3J0IHsgZHJhd1NlY3Rpb25zIH0gZnJvbSBcIi4vanMvRE9NRnVuY3Rpb25zL2RyYXdTZWN0aW9uc1wiO1xuaW1wb3J0IGFkZFRvZ2dsZUFuaW1hdGlvbkZuYyBmcm9tIFwiLi9qcy9VSS9jaGVja0FuaW1hdGlvblwiO1xuaW1wb3J0IGFkZFN1Ym1pdFNlYXJjaEZuYyBmcm9tIFwiLi9qcy9VSS9zdWJtaXRTZWFyY2hcIjtcblxuaW5pdGlhbGlzZVBhZ2UoKTtcblxuZnVuY3Rpb24gaW5pdGlhbGlzZVBhZ2UoKSB7XG4gICAgYWRkU3VibWl0U2VhcmNoRm5jKCk7XG4gICAgYWRkVG9nZ2xlQW5pbWF0aW9uRm5jKCk7XG4gICAgLy8gZHJhd1NlY3Rpb25zKFwiR2FtZSBPZiBUaHJvbmVzXCIpO1xufVxuXG5cblxuIl0sIm5hbWVzIjpbIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJBUElfS0VZIiwiYXN5bmMiLCJmZXRjaE1vdmllRGV0YWlscyIsIm1vdmllX2lkIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1vZGUiLCJvcmlnaW5hbF90aXRsZSIsIm92ZXJ2aWV3IiwidGFnbGluZSIsInBvcHVsYXJpdHkiLCJ2b3RlX2F2ZXJhZ2UiLCJ2b3RlX2NvdW50IiwiZ2VucmVzIiwidmlkZW8iLCJydW50aW1lIiwicG9zdGVyX3BhdGgiLCJiYWNrZHJvcF9wYXRoIiwicmVsZWFzZV9kYXRlIiwianNvbiIsIm1OYW1lIiwic3VtbWFyeSIsIm1hcCIsImdlbnJlIiwibmFtZSIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJmZXRjaE1vdmllUmVjY29zIiwib2siLCJFcnJvciIsInJlc3VsdHMiLCJzbGljZSIsIm1vdmllIiwiaWQiLCJmZXRjaE1vdmllUHJvdmlkZXJzIiwicHJvdmlkZXJzQnlDb3VudHJ5IiwiZGF0YSIsImNvdW50cnlDb2RlIiwiY291bnRyeSIsImNvZGUiLCJJbnRsIiwiRGlzcGxheU5hbWVzIiwidHlwZSIsIm9mIiwic3RyZWFtIiwicmVudCIsImJ1eSIsInNvcnRQcm92aWRlcnMiLCJzZXJ2aWNlcyIsImNvbGxlY3Rpb24iLCJzZXJ2aWNlIiwicHJvdmlkZXJJbmZvIiwicHJvdmlkZXJfbmFtZSIsInByb3ZpZGVyX2xvZ29fcGF0aCIsImxvZ29fcGF0aCIsInB1c2giLCJmbGF0cmF0ZSIsImVycm9yb3IiLCJmZXRjaE1vdmllVHJhaWxlciIsInRyYWlsZXJzIiwiZmlsdGVyIiwibGVuZ3RoIiwibW92aWVUcmFpbGVyIiwiZmluZCIsIm9mZmljaWFsIiwidE5hbWUiLCJrZXkiLCJzaXRlIiwibGFuZyIsImlzb182MzlfMSIsImVyciIsImZldGNoTW92aWVSZXZpZXdzIiwicmV2aWV3cyIsInJldmlldyIsImF1dGhvciIsInJhdGluZyIsImF1dGhvcl9kZXRhaWxzIiwicGljX3BhdGgiLCJhdmF0YXJfcGF0aCIsImNvbnRlbnQiLCJ1cmwiLCJsYXN0X3VwZGF0ZWQiLCJ1cGRhdGVkX2F0IiwiZmV0Y2hUdkRldGFpbHMiLCJ0dl9pZCIsImxvZyIsInJlZHVjZSIsImFjYyIsInZhbCIsIm9yaWdpbmFsX25hbWUiLCJsYW5ndWFnZSIsIm9yaWdpbmFsX2xhbmd1YWdlIiwiZXBpc29kZV9ydW5fdGltZSIsIm9yaWdpbl9jb3VudHJ5Iiwic3RhdHVzIiwic2Vhc29ucyIsIm51bWJlcl9vZl9zZWFzb25zIiwiZmlyc3RfYWlyX2RhdGUiLCJsYXN0X2Fpcl9kYXRlIiwiZmV0Y2hUdlJlY2NvcyIsInJlY1R2cyIsImNvdW50IiwidHYiLCJmZXRjaFR2UHJvdmlkZXJzIiwiZmV0Y2hUdlRyYWlsZXIiLCJ0dlRyYWlsZXIiLCJmZXRjaFR2UmV2aWV3cyIsImRyYXdTZWN0aW9uIiwibWVkaWEiLCJzZWN0aW9uIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZGV0YWlscyIsImdldEluZm8iLCJyZWNzIiwicHJvdmlkZXJzIiwidHJhaWxlciIsImFkZFRvU2VjdGlvbiIsInBhcnQiLCJhcHBlbmRDaGlsZCIsInJlbmRlckVsZW1lbnQiLCJ0YWciLCJjbGFzc05hbWUiLCJjb250YWluZXIiLCJtb3ZpZUZuYyIsInR2Rm5jIiwiZHJhd0ludHJvIiwiaW1nU2l6ZSIsImludHJvQ29udGFpbmVyIiwidGl0bGUiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRpdGxlIiwidGFnUGFyYSIsIndyaXRlVGFnbGluZSIsImltZyIsInBvc3RlciIsImJhc2VJbWdVcmwiLCJpbWdfcGF0aCIsInNyYyIsImFsdCIsInNldEF0dHJpYnV0ZSIsInJlbmRlckltZyIsImRyYXdSZWMiLCJyZWMiLCJyZWNDb250YWluZXIiLCJyZWNQb3N0ZXIiLCJpbmZvIiwic3ViSW5mbyIsInJlY05hbWUiLCJyZWNEYXRlIiwidm90ZUNvdW50Iiwidm90ZUF2ZyIsInJlbmRlckluZm8iLCJyZWNMaW5rIiwibWVkaWFUeXBlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImRyYXdBbGwiLCJkcmF3U3ViSW5mb3MiLCJkYXRlIiwibGFzdEFpcmVkIiwiY3JlYXRlU3ViSW5mbyIsInNwbGl0IiwicmV2ZXJzZSIsImpvaW4iLCJtaW5zIiwiaG91cnMiLCJySG91cnMiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzIiwicm91bmQiLCJjb252ZXJ0TWluVG9IciIsImNhdGVnb3J5IiwiY2F0ZWdvcnlOYW1lIiwiY2F0ZWdvcnlJbmZvIiwiZHJhd1N1bW1hcnlIZWFkaW5nIiwiaGVhZGluZyIsImRyYXdTdW1tYXJ5IiwicGFyYSIsImRyYXdQcm92aWRlcnMiLCJhdmFpbFByb3ZpZGVycyIsInByb3ZpZGVyQ29udGFpbmVyIiwiY291bnRyeUJ0biIsImhvdXNlQ29udGFpbmVyIiwiZWxlbSIsIk9iamVjdCIsImtleXMiLCJpbmNsdWRlcyIsImZsYWciLCJkcmF3UHJvdmlkZXIiLCJmaXJzdFByb3ZpZGVyIiwibG9zdEdpZiIsInN0eWxlIiwiZGlzcGxheSIsImp1c3RpZnlDb250ZW50IiwiZG93bkFycm93IiwiY3VyckNvdW50cnlOYW1lIiwicHJvdmlkZXJDb3VudHJpZXMiLCJjdXJyQ291bnRyeUNvZGUiLCJjb3VudHJpZXMiLCJtb2RhbENvbnRhaW5lciIsIm1vZGFsSGVhZGVyIiwibW9kYWxCb2R5IiwibW9kYWxDdXJyZW50Q291bnRyeSIsIm1vZGFsSW5wdXRTZWFyY2giLCJtb2RhbExpc3RDb3VudHJpZXMiLCJtb2RhbENsb3NlQnRuIiwicmVuZGVyQ291bnRyeUZsYWciLCJjb3VudHJ5TmFtZSIsImZpbHRlclJlc3VsdHMiLCJpbnB1dCIsInVsIiwibGkiLCJhIiwiaSIsInR4dFZhbHVlIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsInRvVXBwZXJDYXNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbm5lclRleHQiLCJpbmRleE9mIiwiY3VyckNvdW50cnkiLCJzZWFyY2hMYWJlbCIsInNlYXJjaEF0dHJpYnV0ZXMiLCJwbGFjZWhvbGRlciIsInJvbGUiLCJjdXJyQ291bnRyeUZsYWciLCJodG1sRm9yIiwiZm9ybUVsZW0iLCJyZW5kZXJIZWFkaW5nIiwiY291bnRyeUNvbnRhaW5lciIsImNvdW50cnlGbGFnIiwiY291bnRyeUVsZW0iLCJyZW5kZXJCb2R5IiwiY2xvc2VGbmMiLCJjbG9zZVN5bWIiLCJyZW5kZXJDbG9zZUJ0biIsImN1cnJlbnRGb3JtIiwicXVlcnlTZWxlY3RvciIsInNldFRpbWVvdXQiLCJ0cmFuc2Zvcm0iLCJvcGFjaXR5IiwidmlzaWJpbGl0eSIsInJlbW92ZSIsIm1vZGFsRWxlbSIsImFwcGVuZCIsInJlbmRlckNvdW50cmllc01vZGFsIiwiYmFja2dyb3VuZENvbG9yIiwidGlja0ljb24iLCJoaWdobGlnaHRDdXJyQ291bnRyeSIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJsYXN0Q2hpbGQiLCJzZWxlY3RlZENvdW50cnkiLCJpbm5lckhUTUwiLCJzdHJlYW1JbmZvIiwiYnV5SW5mbyIsInJlbnRJbmZvIiwic2VydmljZU5hbWVzIiwiaWR4Iiwic2VydmljZUNvbnRhaW5lciIsInNlcnZpY2VOYW1lIiwic2VydmljZU5hbWVCb2xkIiwicHJvdmlkZXJTZXJ2aWNlQ29udGFpbmVyIiwicHJvdmlkZXIiLCJwcm92aWRlclNlcnZpY2UiLCJwcm92aWRlckltZyIsInByb3ZpZGVyTmFtZSIsImRyYXdSZXZpZXdzIiwicmV2aWV3Q29udGFpbmVyIiwiYWRkUmV2SW5mbyIsImluZm9Db250YWluZXIiLCJyZXZpZXdIZWFkaW5nIiwiYXV0aG9yUGljIiwicmVuZGVyUmV2aWV3SGVhZGluZyIsInJldmlld0NvbnRlbnQiLCJyZW5kZXJSZXZpZXdCb2R5IiwicmV2aWV3Rm9vdGVyIiwicmV2aWV3VXJsIiwicmV2aWV3VXBkYXRlZCIsImNvbmNhdCIsInJlbmRlclJldmlld0Zvb3RlciIsImRyYXdSZXZpZXciLCJkcmF3VHJhaWxlciIsInRyYWlsZXJDb250YWluZXIiLCJ0cmFpbGVySGVhZGluZyIsInRyYWlsZXJOYW1lIiwidHJhaWxlckxhbmd1YWdlIiwicmVuZGVyVHJhaWxlckhlYWRpbmciLCJ2aWRlb1dyYXBwZXIiLCJmcmFtZSIsImF0dHJpYnV0ZXMiLCJsb2FkaW5nIiwid2lkdGgiLCJoZWlnaHQiLCJmcmFtZWJvcmRlciIsImFsbG93IiwiYXR0ciIsImFkZFZpZGVvIiwiZHJhd1JlY3MiLCJyZWNzQ29udGFpbmVyIiwibm9uZU1zZyIsImRyYXdTZWN0aW9ucyIsImlkcyIsInF1ZXJ5IiwiaW50ZXJwcmV0VG9RdWVyeSIsInJlc3VsdCIsIm1lZGlhX3R5cGUiLCJzb3J0IiwicDEiLCJwMiIsImFsZXJ0IiwiZmV0Y2hJZHMiLCJtYWluIiwic2VjdGlvbnMiLCJpbnRyb1N1YkluZm8iLCJzeW5vcHNpc1dhdGNoUHZkZXJzIiwicmVjSGVhZGluZyIsInJlbmRlclNlY3Rpb24iLCJ0aGVuIiwiY2hlY2tlZCIsImVsIiwib2JzZXJ2ZSIsImNsZWFyU2VjdGlvbnMiLCJzZWN0IiwiYWRkU3VibWl0U2VhcmNoRm5jIiwiYW5pbWF0aW9uQ2hlY2siLCJlbGVtZW50cyIsImRpc2Nvbm5lY3QiLCJhZGRUb2dnbGVBbmltYXRpb25GbmMiXSwic291cmNlUm9vdCI6IiJ9