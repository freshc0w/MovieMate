(()=>{"use strict";const e="720d2150cf09bfa61e28a5042cd7468f",t="720d2150cf09bfa61e28a5042cd7468f";async function n(e){try{const n=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${t}&language=en-US`,{mode:"cors"}),a=await n.json(),o=a.genres.reduce(((e,t)=>[...e,t.name]),[]);return{mName:a.original_title,summary:a.overview,tagline:a.tagline,popularity:a.popularity,vote_average:a.vote_average,vote_count:a.vote_count,genres:o,video:a.video,runtime:a.runtime,poster_path:a.poster_path,backdrop_path:a.backdrop_path}}catch(e){alert(e)}}async function a(e){try{const n=await fetch(`https://api.themoviedb.org/3/movie/${e}/recommendations?api_key=${t}&language=en-US&page=1`,{mode:"cors"}),a=await n.json(),o={};if(a.results){let e=1;for(let t of a.results){if(o[t.original_title]={mName:t.original_title,id:t.id,poster_path:t.poster_path,backdrop_path:t.backdrop_path},5===e)break;e++}}return o}catch(e){alert(e)}}async function o(e){const n={};try{const o=await fetch(`https://api.themoviedb.org/3/movie/${e}/watch/providers?api_key=${t}`,{mode:"cors"}),r=await o.json();for(const e in r.results){const t=(a=e,new Intl.DisplayNames(["en"],{type:"region"}).of(a));n[t]={stream:[],rent:[],buy:[],countryCode:e};const o=(e,t)=>{e&&e.forEach((e=>{const n={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(n)}))};o(r.results[e].flatrate,n[t].stream),o(r.results[e].rent,n[t].rent),o(r.results[e].buy,n[t].buy)}return n}catch(e){alert(e)}var a}async function r(e){try{let a;const o=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=${t}`,{mode:"cors"}),r=(await o.json()).results.filter((e=>"Trailer"===e.type));if(0===r.length)return!1;const i=r.filter((e=>{e.official}));return a=0!==i.length?i[0]:r[0],{mName:a.name,key:a.key,site:a.site,type:a.type,lang:(n=a.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(n))}}catch(e){alert(e)}var n}async function i(e){try{let n=[];const a=await fetch(`https://api.themoviedb.org/3/movie/${e}/reviews?api_key=${t}&language=en-US&page=1`,{mode:"cors"}),o=await a.json();if(0===o.results.length)return!1;let r=1;return o.results.forEach((e=>{n.push({author:e.author,rating:e.author_details.rating,pic_path:e.author_details.avatar_path,content:e.content,url:e.url,last_updated:e.updated_at}),r++})),n.slice(0,5)}catch(e){alert(e)}}const c=async(e,t)=>{const c=document.createElement("section"),s=await p(e,n),l=(await p(e,a),await p(e,o));function d(e){c.appendChild(e)}function u(e,t){const n=document.createElement(e);return n.classList.add(t),n}async function p(e,n,a){return"movie"===t?await n(e):""}console.log(l),await p(e,r),await p(e,i);const m=e=>{const t=document.createElement("div");t.classList.add("intro"),t.appendChild(function(){const e=document.createElement("h1");return e.textContent=s.mName,e.classList.add("title"),e}()),s.tagline&&t.appendChild(function(){const e=document.createElement("p");return e.textContent=s.tagline,e.classList.add("tagline"),e}());const n=function(e=""){const t=document.createElement("img"),n="https://image.tmdb.org/t/p";let a;if(t.classList.add("poster"),s.poster_path)a=s.poster_path;else{if(!s.backdrop_path)return;a=s.backdrop_path}return t.src=e?`${n}/w${e}/${a}`:`${n}/original/${a}`,t.alt="Movie picture poster",t.setAttribute("loading","lazy"),t}(e);return n&&t.appendChild(n),t.appendChild(function(){const e=document.createElement("p");return e.textContent=s.summary,e.classList.add("summary"),e}()),t};return{section:c,addToSection:d,drawAll:function(){d(m())},drawIntro:m,drawSubInfos:()=>{const e=document.createElement("div");function t(e,t){const n=document.createElement("div"),a=document.createElement("span"),o=document.createElement("span");return n.classList.add("sub-info"),a.classList.add("category-name"),o.classList.add("category-info"),a.textContent=e,o.textContent=t,[a,o].forEach((e=>n.appendChild(e))),n}return e.classList.add("subinfo-container"),[t("Genres:",s.genres.join(", ")),t("Runtime:",function(e){const t=e/60,n=Math.floor(t),a=60*(t-n);return`${n}h ${Math.round(a)}min`}(s.runtime)),t("Vote Average:",s.vote_average),t("Vote Count:",s.vote_count),t("Popularity:",s.popularity)].forEach((t=>e.appendChild(t))),e},drawProviders:()=>{let e;const t=u("div","provider-container"),n=u("button","country-btn"),a=u("div","house-provider-container");if([n,a].forEach((e=>{t.appendChild(e)})),Object.keys(l).length)if(e=!0,Object.keys(l).includes("Australia"))o("Australia"),n.textContent="Australia";else{const e=Object.keys(l)[0];o(e),n.textContent=`${e}`}else e=!1,n.textContent="No countries offer this tv/movie at the moment.";return n.addEventListener("click",(t=>{t.preventDefault(),e&&(function(e){const t=Object.keys(l);let n,a={};t.forEach((t=>{a[t]=l[t].countryCode,e===t&&(n=l[t].countryCode)}));const o=u("form","modal-country-container"),r=u("div","modal-header"),i=u("div","modal-body"),c=u("div","modal-current-country"),s=u("input","modal-input-search"),d=u("ul","modal-list-countries"),p=u("button","modal-close-btn");function m(e,t){const n=u("img","country-flag");return n.setAttribute("crossorigin","anonymous"),n.src=`https://countryflagsapi.com/png/${e}`,n.alt=`${t} flag`,n}function h(){let e,t,n,a,o,r,i;for(e=document.getElementById("modal-input-search"),t=e.value.toUpperCase(),n=document.getElementById("countries-list"),a=n.getElementsByTagName("li"),r=0;r<a.length;r++)o=a[r].getElementsByTagName("a")[0],i=o.textContent||o.innerText,i.toUpperCase().indexOf(t)>-1?a[r].style.display="":a[r].style.display="none"}(()=>{const t=document.createElement("h2");t.textContent="Countries";const a=document.createElement("h3"),o=document.createElement("label"),i=(u("i","fa"),{id:"modal-input-search",type:"search",placeholder:"ðŸ” Search for countries...",title:"Type in a country name",role:"search"});for(let e in i)s.setAttribute(e,i[e]);s.addEventListener("keyup",h),s.addEventListener("submit",(e=>{e.preventDefault()}));const l=m(n,e);a.textContent=e,c.appendChild(l),c.appendChild(a),o.htmlFor=`${s.id}`,[t,c,o,s].forEach((e=>{r.appendChild(e)}))})(),(()=>{d.id="countries-list";for(let e in a){let t=a[e];const n=u("li","country-container"),o=m(t,e),r=u("a","country-name");r.textContent=e,r.setAttribute("href","#"),[o,r].forEach((e=>{n.appendChild(e)})),d.appendChild(n)}[d].forEach((e=>{i.appendChild(e)}))})(),(e=>{const t=u("i","fa");t.classList.add("fa-close"),p.appendChild(t),e()})((()=>{p.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".modal-country-container").remove(),document.querySelector(".face-mask").style.display="none"}))})),[r,i,p].forEach((e=>o.appendChild(e))),document.querySelector("body").append(o),document.querySelector(".face-mask").style.display="block"}(n.textContent),function(e){let t,n,a,o,r;for(t=document.getElementById("countries-list"),console.log(t),n=t.getElementsByTagName("li"),a=0;a<n.length;a++)if(o=n[a].getElementsByTagName("a")[0],r=o.textContent||o.innerText,r===e){n[a].style.backgroundColor="rgba(25, 150, 150, 0.5)",n[a].style.transform="scale(1.025)";const e=u("i","fa");e.classList.add("fa-check"),n[a].append(e)}}(n.textContent),document.querySelectorAll(".country-container").forEach((e=>e.addEventListener("click",(t=>{t.preventDefault();const n=e.lastChild.textContent;console.log(n),a.innerHTML="",o(n),document.querySelector(".modal-country-container").remove(),document.querySelector(".face-mask").style.display="none"})))))})),t;function o(e="Australia"){n.textContent=e;const t=l[e].stream,o=l[e].buy,r=l[e].rent,i=["Stream at:","Purchase at:","Rent at:"];let c=0;[t,o,r].forEach((e=>{const t=u("div","service-container"),n=u("div","service-name"),o=u("h2","service-name-bold"),r=u("div","provider-service-container");e.forEach((e=>{const t=u("div","provider-service"),n=u("img","provider-img"),a=u("span","provider-name");e.provider_logo_path&&(n.src=`https://image.tmdb.org/t/p/original/${e.provider_logo_path}`,n.alt=`${e.provider_name} picture.`,n.setAttribute("loading","lazy"),a.textContent=e.provider_name),[n,a].forEach((e=>{t.appendChild(e)})),r.appendChild(t)})),e.length&&(o.textContent=`${i[c]}`,n.appendChild(o)),c++,t.appendChild(n),t.appendChild(r),a.appendChild(t)}))}}}};async function s(t){const n=await async function(t){const n=function(e){return e.split(" ").join("+")}(t);try{const a=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${e}&language=en-US&query=${n}&page=1`,{mode:"cors"}),o=await a.json();let r={},i=o.results.sort(((e,t)=>e.popularity<t.popularity?1:e.popularity>t.popularity?-1:0));if(i.length){for(let e=0;e<i.length;e++)r[i[e].id]=i[e].media_type;return r}return void alert(`No results found for ${t}`)}catch(e){alert(e)}}(t),a=document.querySelector(".main-container");let o=[];for(let e in n)"movie"===n[e]&&o.push([e,n[e]]);async function r(e,t){const n=await c(e,t);return n.addToSection(n.drawIntro("300")),n.addToSection(n.drawSubInfos()),n.addToSection(n.drawProviders()),a.appendChild(n.section),r}o.forEach((async e=>await r(e[0],e[1])))}console.log("Hello World"),async function(){document.querySelector(".search-query").addEventListener("click",(async e=>{e.preventDefault();const t=document.getElementById("input-search").value.split(" ").join("+");t?(document.querySelector(".main-container").innerHTML="",await s(t),document.querySelector(".search-query").value=""):alert("Please enter a valid movie/tv show")}))}(),s("iron man")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi5qcyIsIm1hcHBpbmdzIjoibUJBQUEsTUFBTUEsRUFBVSxtQ0NBVixFQUFVLG1DQUVoQkMsZUFBZUMsRUFBa0JDLEdBQ2hDLElBQ0MsTUFBTUMsUUFBaUJDLE1BQ3RCLHNDQUFzQ0YsYUFBb0IsbUJBQzFELENBQUVHLEtBQU0sU0FFSEMsUUFBYUgsRUFBU0ksT0FFdEJDLEVBQVNGLEVBQUtFLE9BQU9DLFFBQU8sQ0FBQ0MsRUFBS0MsSUFBUSxJQUFJRCxFQUFLQyxFQUFJQyxPQUFPLElBZXBFLE1BYm9CLENBQ25CQyxNQUFPUCxFQUFLUSxlQUNaQyxRQUFTVCxFQUFLVSxTQUNkQyxRQUFTWCxFQUFLVyxRQUNkQyxXQUFZWixFQUFLWSxXQUNqQkMsYUFBY2IsRUFBS2EsYUFDbkJDLFdBQVlkLEVBQUtjLFdBQ2pCWixPQUFRQSxFQUNSYSxNQUFPZixFQUFLZSxNQUNaQyxRQUFTaEIsRUFBS2dCLFFBQ2RDLFlBQWFqQixFQUFLaUIsWUFDbEJDLGNBQWVsQixFQUFLa0IsY0FLdEIsQ0FGRSxNQUFPQyxHQUNSQyxNQUFNRCxFQUNQLENBQ0QsQ0FPQXpCLGVBQWUyQixFQUFpQnpCLEdBQy9CLElBQ0MsTUFBTUMsUUFBaUJDLE1BQ3RCLHNDQUFzQ0YsNkJBQW9DLDBCQUMxRSxDQUFFRyxLQUFNLFNBRUhDLFFBQWFILEVBQVNJLE9BRXRCcUIsRUFBWSxDQUFDLEVBQ25CLEdBQUl0QixFQUFLdUIsUUFBUyxDQUNqQixJQUFJQyxFQUFRLEVBQ1osSUFBSyxJQUFJQyxLQUFTekIsRUFBS3VCLFFBQVMsQ0FPL0IsR0FOQUQsRUFBVUcsRUFBTWpCLGdCQUFrQixDQUNqQ0QsTUFBT2tCLEVBQU1qQixlQUNia0IsR0FBSUQsRUFBTUMsR0FDVlQsWUFBYVEsRUFBTVIsWUFDbkJDLGNBQWVPLEVBQU1QLGVBRVIsSUFBVk0sRUFFSCxNQUVEQSxHQUNELENBQ0QsQ0FDQSxPQUFPRixDQUdSLENBRkUsTUFBT0gsR0FDUkMsTUFBTUQsRUFDUCxDQUNELENBTUF6QixlQUFlaUMsRUFBb0IvQixHQUNsQyxNQUFNZ0MsRUFBcUIsQ0FBQyxFQUM1QixJQUNDLE1BQU0vQixRQUFpQkMsTUFDdEIsc0NBQXNDRiw2QkFBb0MsSUFDMUUsQ0FBRUcsS0FBTSxTQUVIQyxRQUFhSCxFQUFTSSxPQUU1QixJQUFLLE1BQU00QixLQUFlN0IsRUFBS3VCLFFBQVMsQ0FDdkMsTUFBTU8sR0FtSGVDLEVBbkhVRixFQW9IZixJQUFJRyxLQUFLQyxhQUFhLENBQUMsTUFBTyxDQUFFQyxLQUFNLFdBQ3JDQyxHQUFHSixJQXBIcEJILEVBQW1CRSxHQUFXLENBQzdCTSxPQUFRLEdBQ1JDLEtBQU0sR0FDTkMsSUFBSyxHQUNMVCxZQUFhQSxHQVNkLE1BQU1VLEVBQWdCLENBQUNDLEVBQVVDLEtBQzVCRCxHQUNIQSxFQUFTRSxTQUFTQyxJQUNqQixNQUFNQyxFQUFlLENBQ3BCQyxjQUFlRixFQUFRRSxjQUN2QkMsbUJBQW9CSCxFQUFRSSxXQUU3Qk4sRUFBV08sS0FBS0osRUFBYSxHQUUvQixFQUlETCxFQUNDdkMsRUFBS3VCLFFBQVFNLEdBQWFvQixTQUMxQnJCLEVBQW1CRSxHQUFTTSxRQUk3QkcsRUFDQ3ZDLEVBQUt1QixRQUFRTSxHQUFhUSxLQUMxQlQsRUFBbUJFLEdBQVNPLE1BSTdCRSxFQUNDdkMsRUFBS3VCLFFBQVFNLEdBQWFTLElBQzFCVixFQUFtQkUsR0FBU1EsSUFFOUIsQ0FDQSxPQUFPVixDQUdSLENBRkUsTUFBT1QsR0FDUkMsTUFBTUQsRUFDUCxDQW9FRCxJQUF3QlksQ0FuRXhCLENBSUFyQyxlQUFld0QsRUFBa0J0RCxHQUNoQyxJQUNDLElBQUl1RCxFQUNKLE1BQU10RCxRQUFpQkMsTUFDdEIsc0NBQXNDRixvQkFBMkIsSUFDakUsQ0FBRUcsS0FBTSxTQUlIcUQsU0FGYXZELEVBQVNJLFFBRU5zQixRQUFROEIsUUFBUXRDLEdBQXlCLFlBQWZBLEVBQU1tQixPQUV0RCxHQUF3QixJQUFwQmtCLEVBQVNFLE9BQWMsT0FBTyxFQUVsQyxNQUFNQyxFQUFXSCxFQUFTQyxRQUFRdEMsSUFDakNBLEVBQU13QyxRQUFpQixJQU94QixPQUhJSixFQURnQixJQUFwQkksRUFBU0QsT0FDVUMsRUFBUyxHQUNUSCxFQUFTLEdBRXJCLENBQ043QyxNQUFPNEMsRUFBYTdDLEtBQ3BCa0QsSUFBS0wsRUFBYUssSUFDbEJDLEtBQU1OLEVBQWFNLEtBQ25CdkIsS0FBTWlCLEVBQWFqQixLQUNuQndCLE1BMENrQjNCLEVBMUNBb0IsRUFBYVEsVUEyQ3BCLElBQUkzQixLQUFLQyxhQUFhLENBQUMsTUFBTyxDQUFFQyxLQUFNLGFBQ3ZDQyxHQUFHSixJQXhDZixDQUZFLE1BQU9aLEdBQ1JDLE1BQU1ELEVBQ1AsQ0FzQ0QsSUFBcUJZLENBckNyQixDQUlBckMsZUFBZWtFLEVBQWtCaEUsR0FDaEMsSUFDQyxJQUFJaUUsRUFBVSxHQUNkLE1BQU1oRSxRQUFpQkMsTUFDdEIsc0NBQXNDRixxQkFBNEIsMEJBQ2xFLENBQUVHLEtBQU0sU0FFSEMsUUFBYUgsRUFBU0ksT0FDNUIsR0FBNEIsSUFBeEJELEVBQUt1QixRQUFRK0IsT0FBYyxPQUFPLEVBRXRDLElBQUk5QixFQUFRLEVBWVosT0FYQXhCLEVBQUt1QixRQUFRbUIsU0FBU29CLElBQ3JCRCxFQUFRYixLQUFLLENBQ1plLE9BQVFELEVBQU9DLE9BQ2ZDLE9BQVFGLEVBQU9HLGVBQWVELE9BQzlCRSxTQUFVSixFQUFPRyxlQUFlRSxZQUNoQ0MsUUFBU04sRUFBT00sUUFDaEJDLElBQUtQLEVBQU9PLElBQ1pDLGFBQWNSLEVBQU9TLGFBRXRCL0MsR0FBTyxJQUVEcUMsRUFBUVcsTUFBTSxFQUFHLEVBR3pCLENBRkUsTUFBT3JELEdBQ1JDLE1BQU1ELEVBQ1AsQ0FDRCxDQ3RMQSxNQUFNc0QsRUFBYy9FLE1BQU9nQyxFQUFJZ0QsS0FDOUIsTUFBTUMsRUFBVUMsU0FBU0MsY0FBYyxXQUNqQ0MsUUFBZ0JDLEVBQVFyRCxFQUFJLEdBRTVCc0QsU0FEYUQsRUFBUXJELEVBQUksU0FDUHFELEVBQVFyRCxFQUFJLElBU3BDLFNBQVN1RCxFQUFhQyxHQUNyQlAsRUFBUVEsWUFBWUQsRUFDckIsQ0FFQSxTQUFTRSxFQUFjQyxFQUFLQyxHQUMzQixNQUFNQyxFQUFZWCxTQUFTQyxjQUFjUSxHQUV6QyxPQURBRSxFQUFVQyxVQUFVQyxJQUFJSCxHQUNqQkMsQ0FDUixDQUVBN0YsZUFBZXFGLEVBQVFyRCxFQUFJZ0UsRUFBVUMsR0FDcEMsTUFBaUIsVUFBVmpCLFFBQTBCZ0IsRUFBU2hFLEdBQU0sRUFDakQsQ0FwQkFrRSxRQUFRQyxJQUFJYixTQUNVRCxFQUFRckQsRUFBSSxTQUNacUQsRUFBUXJELEVBQUksR0FxQmxDLE1BQU1vRSxFQUFhQyxJQUNsQixNQUFNQyxFQUFpQnBCLFNBQVNDLGNBQWMsT0FDOUNtQixFQUFlUixVQUFVQyxJQUFJLFNBRTdCTyxFQUFlYixZQVFmLFdBQ0MsTUFBTWMsRUFBUXJCLFNBQVNDLGNBQWMsTUFHckMsT0FGQW9CLEVBQU1DLFlBQWNwQixFQUFRdkUsTUFDNUIwRixFQUFNVCxVQUFVQyxJQUFJLFNBQ2JRLENBQ1IsQ0FiMkJFLElBQzNCckIsRUFBUW5FLFNBQVVxRixFQUFlYixZQW1DakMsV0FDQyxNQUFNaUIsRUFBVXhCLFNBQVNDLGNBQWMsS0FHdkMsT0FGQXVCLEVBQVFGLFlBQWNwQixFQUFRbkUsUUFDOUJ5RixFQUFRWixVQUFVQyxJQUFJLFdBQ2ZXLENBQ1IsQ0F4QzZDQyxJQUU3QyxNQUFNQyxFQVlOLFNBQW1CUCxFQUFVLElBQzVCLE1BQU1RLEVBQVMzQixTQUFTQyxjQUFjLE9BQ2hDMkIsRUFBYSw2QkFDbkIsSUFBSUMsRUFHSixHQUZBRixFQUFPZixVQUFVQyxJQUFJLFVBRWpCWCxFQUFRN0QsWUFDWHdGLEVBQVczQixFQUFRN0QsZ0JBQ2IsS0FBSTZELEVBQVE1RCxjQUdsQixPQUZBdUYsRUFBVzNCLEVBQVE1RCxhQUdwQixDQU1BLE9BSElxRixFQUFPRyxJQUZWWCxFQUVnQixHQUFHUyxNQUFlVCxLQUFXVSxJQUQ3QixHQUFHRCxjQUF1QkMsSUFFM0NGLEVBQU9JLElBQU0sdUJBQ2JKLEVBQU9LLGFBQWEsVUFBVyxRQUN4QkwsQ0FDUixDQS9CWU0sQ0FBVWQsR0E4Q3RCLE9BN0NBTyxHQUFNTixFQUFlYixZQUFZbUIsR0FFakNOLEVBQWViLFlBcUNmLFdBQ0MsTUFBTTJCLEVBQU9sQyxTQUFTQyxjQUFjLEtBR3BDLE9BRkFpQyxFQUFLWixZQUFjcEIsRUFBUXJFLFFBQzNCcUcsRUFBS3RCLFVBQVVDLElBQUksV0FDWnFCLENBQ1IsQ0ExQzJCQyxJQTJDcEJmLENBQWMsRUFvVXRCLE1BQU8sQ0FDTnJCLFVBQ0FNLGVBQ0ErQixRQS9ZRCxXQUNDL0IsRUFBYWEsSUFDZCxFQThZQ0EsWUFDQW1CLGFBdFVvQixLQUNwQixNQUFNMUIsRUFBWVgsU0FBU0MsY0FBYyxPQWF6QyxTQUFTcUMsRUFBY0MsRUFBVUMsR0FDaEMsTUFBTUMsRUFBVXpDLFNBQVNDLGNBQWMsT0FDakN5QyxFQUFlMUMsU0FBU0MsY0FBYyxRQUN0QzBDLEVBQWUzQyxTQUFTQyxjQUFjLFFBVTVDLE9BUkF3QyxFQUFRN0IsVUFBVUMsSUFBSSxZQUN0QjZCLEVBQWE5QixVQUFVQyxJQUFJLGlCQUMzQjhCLEVBQWEvQixVQUFVQyxJQUFJLGlCQUUzQjZCLEVBQWFwQixZQUFjaUIsRUFDM0JJLEVBQWFyQixZQUFja0IsRUFFM0IsQ0FBQ0UsRUFBY0MsR0FBYzdFLFNBQVMwRSxHQUFTQyxFQUFRbEMsWUFBWWlDLEtBQzVEQyxDQUNSLENBVUEsT0FwQ0E5QixFQUFVQyxVQUFVQyxJQUFJLHFCQUVKLENBQ25CeUIsRUFBYyxVQUFXcEMsRUFBUTVFLE9BQU9zSCxLQUFLLE9BQzdDTixFQUFjLFdBd0JmLFNBQXdCTyxHQUN2QixNQUFNQyxFQUFRRCxFQUFPLEdBQ2ZFLEVBQVNDLEtBQUtDLE1BQU1ILEdBQ3BCSSxFQUE2QixJQUFsQkosRUFBUUMsR0FFekIsTUFBTyxHQUFHQSxNQURPQyxLQUFLRyxNQUFNRCxPQUU3QixDQTlCMkJFLENBQWVsRCxFQUFROUQsVUFDakRrRyxFQUFjLGdCQUFpQnBDLEVBQVFqRSxjQUN2Q3FHLEVBQWMsY0FBZXBDLEVBQVFoRSxZQUNyQ29HLEVBQWMsY0FBZXBDLEVBQVFsRSxhQUcxQjhCLFNBQVMwRSxHQUFTN0IsRUFBVUosWUFBWWlDLEtBMEI3QzdCLENBQVMsRUFpU2hCMEMsY0E5UnFCLEtBQ3JCLElBQUlDLEVBSUosTUFBTUMsRUFBb0IvQyxFQUFjLE1BQU8sc0JBQ3pDZ0QsRUFBYWhELEVBQWMsU0FBVSxlQUNyQ2lELEVBQWlCakQsRUFBYyxNQUFPLDRCQU01QyxHQUxBLENBQUNnRCxFQUFZQyxHQUFnQjNGLFNBQVM0RixJQUNyQ0gsRUFBa0JoRCxZQUFZbUQsRUFBSyxJQUloQ0MsT0FBT0MsS0FBS3hELEdBQVcxQixPQUUxQixHQURBNEUsR0FBaUIsRUFDYkssT0FBT0MsS0FBS3hELEdBQVd5RCxTQUFTLGFBQ25DQyxFQUFhLGFBQ2JOLEVBQVdsQyxZQUFjLGdCQUNuQixDQUNOLE1BQU15QyxFQUFnQkosT0FBT0MsS0FBS3hELEdBQVcsR0FDN0MwRCxFQUFhQyxHQUNiUCxFQUFXbEMsWUFBYyxHQUFHeUMsR0FDN0IsTUFFQVQsR0FBaUIsRUFDakJFLEVBQVdsQyxZQUNWLGtEQTJCRixPQXRCQWtDLEVBQVdRLGlCQUFpQixTQUFVQyxJQUNyQ0EsRUFBRUMsaUJBQ0VaLElBOEVOLFNBQThCYSxHQUU3QixNQUFNQyxFQUFvQlQsT0FBT0MsS0FBS3hELEdBRXRDLElBQ0lpRSxFQURBQyxFQUFZLENBQUMsRUFFakJGLEVBQWtCdEcsU0FBU1osSUFDMUJvSCxFQUFVcEgsR0FBV2tELEVBQVVsRCxHQUFTRCxZQUdwQ2tILElBQW9CakgsSUFDdkJtSCxFQUFrQmpFLEVBQVVsRCxHQUFTRCxZQUN0QyxJQUdELE1BQU1zSCxFQUFpQi9ELEVBQWMsT0FBUSwyQkFDdkNnRSxFQUFjaEUsRUFBYyxNQUFPLGdCQUVuQ2lFLEVBQVlqRSxFQUFjLE1BQU8sY0FDakNrRSxFQUFzQmxFLEVBQWMsTUFBTyx5QkFDM0NtRSxFQUFtQm5FLEVBQWMsUUFBUyxzQkFDMUNvRSxFQUFxQnBFLEVBQWMsS0FBTSx3QkFFekNxRSxFQUFnQnJFLEVBQWMsU0FBVSxtQkFtRzlDLFNBQVNzRSxFQUFrQjdILEVBQWE4SCxHQUN2QyxNQUFNQyxFQUFPeEUsRUFBYyxNQUFPLGdCQUlsQyxPQUhBd0UsRUFBS2hELGFBQWEsY0FBZSxhQUNqQ2dELEVBQUtsRCxJQUFNLG1DQUFtQzdFLElBQzlDK0gsRUFBS2pELElBQU0sR0FBR2dELFNBQ1BDLENBQ1IsQ0FFQSxTQUFTQyxJQUNSLElBQUlDLEVBQU96RyxFQUFRMEcsRUFBSUMsRUFBSUMsRUFBR0MsRUFBR0MsRUFPakMsSUFOQUwsRUFBUWxGLFNBQVN3RixlQUFlLHNCQUNoQy9HLEVBQVN5RyxFQUFNTyxNQUFNQyxjQUNyQlAsRUFBS25GLFNBQVN3RixlQUFlLGtCQUM3QkosRUFBS0QsRUFBR1EscUJBQXFCLE1BR3hCTCxFQUFJLEVBQUdBLEVBQUlGLEVBQUcxRyxPQUFRNEcsSUFDMUJELEVBQUlELEVBQUdFLEdBQUdLLHFCQUFxQixLQUFLLEdBQ3BDSixFQUFXRixFQUFFL0QsYUFBZStELEVBQUVPLFVBQzFCTCxFQUFTRyxjQUFjRyxRQUFRcEgsSUFBVyxFQUM3QzJHLEVBQUdFLEdBQUdRLE1BQU1DLFFBQVUsR0FFdEJYLEVBQUdFLEdBQUdRLE1BQU1DLFFBQVUsTUFHekIsQ0ExSHNCLE1BRXJCLE1BQU1DLEVBQVVoRyxTQUFTQyxjQUFjLE1BQ3ZDK0YsRUFBUTFFLFlBQWMsWUFFdEIsTUFBTTJFLEVBQWNqRyxTQUFTQyxjQUFjLE1BQ3JDaUcsRUFBY2xHLFNBQVNDLGNBQWMsU0FHckNrRyxHQUZhM0YsRUFBYyxJQUFLLE1BRWIsQ0FDeEIxRCxHQUFJLHFCQUNKUSxLQUFNLFNBRU44SSxZQUFhLDZCQUNiL0UsTUFBTyx5QkFDUGdGLEtBQU0sV0FHUCxJQUFLLElBQUlmLEtBQUthLEVBQ2J4QixFQUFpQjNDLGFBQWFzRCxFQUFHYSxFQUFpQmIsSUFFbkRYLEVBQWlCWCxpQkFBaUIsUUFBU2lCLEdBQzNDTixFQUFpQlgsaUJBQWlCLFVBQVdDLElBQzVDQSxFQUFFQyxnQkFBZ0IsSUFJbkIsTUFBTW9DLEVBQWtCeEIsRUFDdkJULEVBQ0FGLEdBRUQ4QixFQUFZM0UsWUFBYzZDLEVBRTFCTyxFQUFvQm5FLFlBQVkrRixHQUNoQzVCLEVBQW9CbkUsWUFBWTBGLEdBRWhDQyxFQUFZSyxRQUFVLEdBQUc1QixFQUFpQjdILEtBRTFDLENBQUNrSixFQUFTdEIsRUFBcUJ3QixFQUFhdkIsR0FBa0I3RyxTQUM1RDBJLElBQ0FoQyxFQUFZakUsWUFBWWlHLEVBQVMsR0FFbEMsRUEyQ0ZDLEdBeENtQixNQUNsQjdCLEVBQW1COUgsR0FBSyxpQkFDeEIsSUFBSyxJQUFJSSxLQUFXb0gsRUFBVyxDQUM5QixJQUFJckgsRUFBY3FILEVBQVVwSCxHQUU1QixNQUFNd0osRUFBbUJsRyxFQUFjLEtBQU0scUJBQ3ZDbUcsRUFBYzdCLEVBQWtCN0gsRUFBYUMsR0FDN0M2SCxFQUFjdkUsRUFBYyxJQUFLLGdCQUV2Q3VFLEVBQVl6RCxZQUFjcEUsRUFDMUI2SCxFQUFZL0MsYUFBYSxPQUFRLEtBRWpDLENBQUMyRSxFQUFhNUIsR0FBYWpILFNBQVM4SSxJQUNuQ0YsRUFBaUJuRyxZQUFZcUcsRUFBWSxJQUcxQ2hDLEVBQW1CckUsWUFBWW1HLEVBQ2hDLENBRUEsQ0FBQzlCLEdBQW9COUcsU0FBUzBJLElBQzdCL0IsRUFBVWxFLFlBQVlpRyxFQUFTLEdBQzlCLEVBb0JISyxHQWpCdUIsQ0FBQ0MsSUFDdkIsTUFBTUMsRUFBWXZHLEVBQWMsSUFBSyxNQUNyQ3VHLEVBQVVuRyxVQUFVQyxJQUFJLFlBQ3hCZ0UsRUFBY3RFLFlBQVl3RyxHQUMxQkQsR0FBVSxFQWNYRSxFQVpvQixLQUNuQm5DLEVBQWNiLGlCQUFpQixTQUFVQyxJQUN4Q0EsRUFBRUMsaUJBQ2tCbEUsU0FBU2lILGNBQWMsNEJBQy9CQyxTQUNabEgsU0FBU2lILGNBQWMsY0FBY25CLE1BQU1DLFFBQVUsTUFBTSxHQUMxRCxJQVFILENBQUN2QixFQUFhQyxFQUFXSSxHQUFlL0csU0FBU3FKLEdBQ2hENUMsRUFBZWhFLFlBQVk0RyxLQUdQbkgsU0FBU2lILGNBQWMsUUFDL0JHLE9BQU83QyxHQUNwQnZFLFNBQVNpSCxjQUFjLGNBQWNuQixNQUFNQyxRQUFVLE9BNEJ0RCxDQWpPR3NCLENBQXFCN0QsRUFBV2xDLGFBa09uQyxTQUE4QnlELEdBSTdCLElBQUlJLEVBQUlDLEVBQUlFLEVBQUdELEVBQUdFLEVBSWxCLElBSEFKLEVBQUtuRixTQUFTd0YsZUFBZSxrQkFDN0J4RSxRQUFRQyxJQUFJa0UsR0FDWkMsRUFBS0QsRUFBR1EscUJBQXFCLE1BQ3hCTCxFQUFJLEVBQUdBLEVBQUlGLEVBQUcxRyxPQUFRNEcsSUFHMUIsR0FGQUQsRUFBSUQsRUFBR0UsR0FBR0sscUJBQXFCLEtBQUssR0FDcENKLEVBQVdGLEVBQUUvRCxhQUFlK0QsRUFBRU8sVUFDMUJMLElBQWFSLEVBQWEsQ0FDN0JLLEVBQUdFLEdBQUdRLE1BQU13QixnQkFBa0IsMEJBQzlCbEMsRUFBR0UsR0FBR1EsTUFBTXlCLFVBQVksZUFDeEIsTUFBTUMsRUFBV2hILEVBQWMsSUFBSyxNQUNwQ2dILEVBQVM1RyxVQUFVQyxJQUFJLFlBQ3ZCdUUsRUFBR0UsR0FBRzhCLE9BQU9JLEVBQ2QsQ0FFRixDQXBQR0MsQ0FBcUJqRSxFQUFXbEMsYUFNZnRCLFNBQVMwSCxpQkFBaUIsc0JBQ2xDNUosU0FBUVosR0FBV0EsRUFBUThHLGlCQUFpQixTQUFVQyxJQUMvREEsRUFBRUMsaUJBQ0YsTUFBTXlELEVBQWdCekssRUFBUTBLLFVBQVV0RyxZQUN4Q04sUUFBUUMsSUFBSTBHLEdBOERibEUsRUFBZW9FLFVBQVksR0E1RDFCL0QsRUFBYTZELEdBQ2IzSCxTQUFTaUgsY0FBYyw0QkFBNEJDLFNBQ25EbEgsU0FBU2lILGNBQWMsY0FBY25CLE1BQU1DLFFBQVUsTUFBTSxNQVg1RCxJQWVNeEMsRUFFUCxTQUFTTyxFQUFhaUIsRUFBYyxhQUVuQ3ZCLEVBQVdsQyxZQUFjeUQsRUFFekIsTUFBTStDLEVBQWExSCxFQUFVMkUsR0FBYXZILE9BQ3BDdUssRUFBVTNILEVBQVUyRSxHQUFhckgsSUFDakNzSyxFQUFXNUgsRUFBVTJFLEdBQWF0SCxLQUVsQ3dLLEVBQWUsQ0FBQyxhQUFjLGVBQWdCLFlBR3BELElBQUlDLEVBQU0sRUFFVixDQUFDSixFQUFZQyxFQUFTQyxHQUFVbEssU0FBUzBFLElBQ3hDLE1BQU0yRixFQUFtQjNILEVBQWMsTUFBTyxxQkFDeEM0SCxFQUFjNUgsRUFBYyxNQUFPLGdCQUNuQzZILEVBQWtCN0gsRUFBYyxLQUFNLHFCQUN0QzhILEVBQTJCOUgsRUFDaEMsTUFDQSw4QkFHRGdDLEVBQUsxRSxTQUFTeUssSUFDYixNQUFNQyxFQUFrQmhJLEVBQWMsTUFBTyxvQkFFdkNpSSxFQUFjakksRUFBYyxNQUFPLGdCQUNuQ2tJLEVBQWVsSSxFQUFjLE9BQVEsaUJBRXZDK0gsRUFBU3JLLHFCQUNadUssRUFBWTNHLElBQU0sdUNBQXVDeUcsRUFBU3JLLHFCQUNsRXVLLEVBQVkxRyxJQUFNLEdBQUd3RyxFQUFTdEsseUJBQzlCd0ssRUFBWXpHLGFBQWEsVUFBVyxRQUNwQzBHLEVBQWFwSCxZQUFjaUgsRUFBU3RLLGVBR3JDLENBQUN3SyxFQUFhQyxHQUFjNUssU0FBUzRGLElBQ3BDOEUsRUFBZ0JqSSxZQUFZbUQsRUFBSyxJQUVsQzRFLEVBQXlCL0gsWUFBWWlJLEVBQWdCLElBR2xEaEcsRUFBSzlELFNBQ1IySixFQUFnQi9HLFlBQWMsR0FBRzJHLEVBQWFDLEtBQzlDRSxFQUFZN0gsWUFBWThILElBRXpCSCxJQUNBQyxFQUFpQjVILFlBQVk2SCxHQUM3QkQsRUFBaUI1SCxZQUFZK0gsR0FDN0I3RSxFQUFlbEQsWUFBWTRILEVBQWlCLEdBRTlDLENBR0EsRUFtTEEsRUNuYUZyTixlQUFlNk4sRUFBYXRILEdBQzNCLE1BQU11SCxRSEZQOU4sZUFBd0JZLEdBQ3ZCLE1BQU1tTixFQW9DUCxTQUEwQm5OLEdBQ3pCLE9BQU9BLEVBQUtvTixNQUFNLEtBQUtsRyxLQUFLLElBQzdCLENBdENlbUcsQ0FBaUJyTixHQUMvQixJQUNDLE1BQU1ULFFBQWlCQyxNQUN0QixxREFBcURMLDBCQUFnQ2dPLFdBQ3JGLENBQUUxTixLQUFNLFNBRUhDLFFBQWFILEVBQVNJLE9BQzVCLElBQUl1TixFQUFNLENBQUMsRUFFUEksRUFBUzVOLEVBQUt1QixRQUFRc00sTUFDekIsQ0FBQ0MsRUFBSUMsSUFBUUQsRUFBR2xOLFdBQWFtTixFQUFHbk4sV0FBYyxFQUFLa04sRUFBR2xOLFdBQWFtTixFQUFHbk4sWUFBZSxFQUFJLElBRzFGLEdBQUlnTixFQUFPdEssT0FBUSxDQVVsQixJQUFJLElBQUk0RyxFQUFJLEVBQUdBLEVBQUkwRCxFQUFPdEssT0FBUTRHLElBQ2pDc0QsRUFBSUksRUFBTzFELEdBQUd4SSxJQUFNa00sRUFBTzFELEdBQUc4RCxXQUUvQixPQUFPUixDQUNSLENBRUMsWUFEQXBNLE1BQU0sd0JBQXdCZCxJQUtoQyxDQUZFLE1BQU9hLEdBQ1JDLE1BQU1ELEVBQ1AsQ0FDRCxDR2pDbUI4TSxDQUFTaEksR0FDckJpSSxFQUFPdEosU0FBU2lILGNBQWMsbUJBQ3BDLElBQUlzQyxFQUFXLEdBR2YsSUFBSyxJQUFJek0sS0FBTThMLEVBR0YsVUFBWkEsRUFBSTlMLElBQWtCeU0sRUFBU25MLEtBQUssQ0FBQ3RCLEVBQUk4TCxFQUFJOUwsS0FPOUNoQyxlQUFlME8sRUFBYzFNLEVBQUlnRCxHQUNoQyxNQUFNQyxRQUFnQkYsRUFBWS9DLEVBQUlnRCxHQUt0QyxPQUpBQyxFQUFRTSxhQUFhTixFQUFRbUIsVUFBVSxRQUN2Q25CLEVBQVFNLGFBQWFOLEVBQVFzQyxnQkFDN0J0QyxFQUFRTSxhQUFhTixFQUFRc0QsaUJBQzdCaUcsRUFBSy9JLFlBQVlSLEVBQVFBLFNBQ2xCeUosQ0FDUixDQVhBRCxFQUFTekwsU0FDUmhELE1BQU9pRixTQUFrQnlKLEVBQWN6SixFQUFRLEdBQUlBLEVBQVEsS0FXN0QsQ0MxQkFpQixRQUFRQyxJQUFJLGVDREduRyxpQkFDSWtGLFNBQVNpSCxjQUFjLGlCQUMvQmpELGlCQUFpQixTQUFTbEosTUFBT21KLElBQzFDQSxFQUFFQyxpQkFDRixNQUFNMkUsRUFDTDdJLFNBQVN3RixlQUFlLGdCQUFnQkMsTUFjOUJxRCxNQUFNLEtBQUtsRyxLQUFLLEtBWnRCaUcsR0Z1Qk83SSxTQUFTaUgsY0FBYyxtQkFDL0JZLFVBQVksU0VuQlZjLEVBQWFFLEdBRW5CN0ksU0FBU2lILGNBQWMsaUJBQWlCeEIsTUFBUSxJQU4vQ2pKLE1BQU0scUNBTTJDLEdBRXBELENEUUFpTixHQUNBZCxFQUFhLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvYXBpRnVuY3Rpb25zL2ZldGNoSWQuanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mby5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvRE9NRnVuY3Rpb25zL2RyYXdTZWN0aW9uLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9ET01GdW5jdGlvbnMvZHJhd1NlY3Rpb25zLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvVUkvc3VibWl0U2VhcmNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQSV9LRVkgPSBcIjcyMGQyMTUwY2YwOWJmYTYxZTI4YTUwNDJjZDc0NjhmXCI7XG4vKlxuRmV0Y2hlcyB0aGUgdGhlIGZpcnN0IHBhZ2Ugb2YgdGhlIG1vdmllL3Nob3cgaWRzIGFuZCByZXR1cm4gaXQgaW4gYW4gYXJyYXkuXG4qL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hJZHMobmFtZSkge1xuXHRjb25zdCBxdWVyeSA9IGludGVycHJldFRvUXVlcnkobmFtZSk7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3NlYXJjaC9tdWx0aT9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcXVlcnk9JHtxdWVyeX0mcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRsZXQgaWRzID0ge307XG5cdFx0Ly8gbGV0IHJlc3VsdCA9IGRhdGEucmVzdWx0cztcblx0XHRsZXQgcmVzdWx0ID0gZGF0YS5yZXN1bHRzLnNvcnQoXG5cdFx0XHQocDEsIHAyKSA9PiAocDEucG9wdWxhcml0eSA8IHAyLnBvcHVsYXJpdHkpID8gMSA6IChwMS5wb3B1bGFyaXR5ID4gcDIucG9wdWxhcml0eSkgPyAtMSA6IDBcblx0XHQpIC8vIFNvcnQgYnkgcG9wdWxhcml0eS5cblx0XHRcblx0XHRpZiAocmVzdWx0Lmxlbmd0aCkge1xuXHRcdFx0Ly8gaWYgKHJlc3VsdC5sZW5ndGggPiA0KSB7XG5cdFx0XHQvLyBcdGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG5cdFx0XHQvLyBcdFx0aWRzW3Jlc3VsdFtpXS5pZF0gPSByZXN1bHRbaV0ubWVkaWFfdHlwZTtcblx0XHRcdC8vIFx0fVxuXHRcdFx0Ly8gfSBlbHNlIHtcblx0XHRcdC8vIFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcblx0XHRcdC8vIFx0XHRpZHNbcmVzdWx0W2ldLmlkXSA9IHJlc3VsdFtpXS5tZWRpYV90eXBlO1xuXHRcdFx0Ly8gXHR9XG5cdFx0XHQvLyB9XG5cdFx0XHRmb3IobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlkc1tyZXN1bHRbaV0uaWRdID0gcmVzdWx0W2ldLm1lZGlhX3R5cGU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gaWRzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhbGVydChgTm8gcmVzdWx0cyBmb3VuZCBmb3IgJHtuYW1lfWApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG5mdW5jdGlvbiBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIrXCIpO1xufVxuXG5leHBvcnQgeyBmZXRjaElkcyB9O1xuIiwiY29uc3QgQVBJX0tFWSA9IFwiNzIwZDIxNTBjZjA5YmZhNjFlMjhhNTA0MmNkNzQ2OGZcIjtcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZURldGFpbHMobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGNvbnN0IGdlbnJlcyA9IGRhdGEuZ2VucmVzLnJlZHVjZSgoYWNjLCB2YWwpID0+IFsuLi5hY2MsIHZhbC5uYW1lXSwgW10pO1xuXG5cdFx0Y29uc3QgZ2VuZXJhbEluZm8gPSB7XG5cdFx0XHRtTmFtZTogZGF0YS5vcmlnaW5hbF90aXRsZSxcblx0XHRcdHN1bW1hcnk6IGRhdGEub3ZlcnZpZXcsXG5cdFx0XHR0YWdsaW5lOiBkYXRhLnRhZ2xpbmUsXG5cdFx0XHRwb3B1bGFyaXR5OiBkYXRhLnBvcHVsYXJpdHksXG5cdFx0XHR2b3RlX2F2ZXJhZ2U6IGRhdGEudm90ZV9hdmVyYWdlLFxuXHRcdFx0dm90ZV9jb3VudDogZGF0YS52b3RlX2NvdW50LFxuXHRcdFx0Z2VucmVzOiBnZW5yZXMsXG5cdFx0XHR2aWRlbzogZGF0YS52aWRlbyxcblx0XHRcdHJ1bnRpbWU6IGRhdGEucnVudGltZSxcblx0XHRcdHBvc3Rlcl9wYXRoOiBkYXRhLnBvc3Rlcl9wYXRoLFxuXHRcdFx0YmFja2Ryb3BfcGF0aDogZGF0YS5iYWNrZHJvcF9wYXRoLFxuXHRcdH07XG5cdFx0cmV0dXJuIGdlbmVyYWxJbmZvO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRhbGVydChlcnIpO1xuXHR9XG59XG5cbi8qXG5SZXR1cm5zIGFuIGFycmF5IG9mIHJlY29tbWVuZGVkIG1vdmllcyB3aXRoIHRoZWlyIG5hbWUsIGlkLCBwb3N0ZXJfcGF0aCBhbmRcbmJhY2tkcm9wX3BhdGggcmVjb3JkZWQuIFxuSWYgbm8gbW92aWVzIGFyZSByZWNvbW1lbmRlZCwgcmV0dXJuIG51bGw7XG4qL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVJlY2Nvcyhtb3ZpZV9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS9yZWNvbW1lbmRhdGlvbnM/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRjb25zdCByZWNNb3ZpZXMgPSB7fTtcblx0XHRpZiAoZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRsZXQgY291bnQgPSAxO1xuXHRcdFx0Zm9yIChsZXQgbW92aWUgb2YgZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRcdHJlY01vdmllc1ttb3ZpZS5vcmlnaW5hbF90aXRsZV0gPSB7XG5cdFx0XHRcdFx0bU5hbWU6IG1vdmllLm9yaWdpbmFsX3RpdGxlLFxuXHRcdFx0XHRcdGlkOiBtb3ZpZS5pZCxcblx0XHRcdFx0XHRwb3N0ZXJfcGF0aDogbW92aWUucG9zdGVyX3BhdGgsXG5cdFx0XHRcdFx0YmFja2Ryb3BfcGF0aDogbW92aWUuYmFja2Ryb3BfcGF0aCxcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGNvdW50ID09PSA1KSB7XG5cdFx0XHRcdFx0Ly8gTWF4IDUgbW92aWVzIHRvIGJlIHJlY29tbWVuZGVkXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y291bnQrKztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHJlY01vdmllcztcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG4vKlxuUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBjb3VudHJpZXMgYW5kIHRoZSBhdmFpbGFibGUgc3RyZWFtaW5nIHNlcnZpY2VzLCBidXlcbm9yIHJlbnQgaXQgY29tZXMgd2l0aCBFQUNIIGluZGl2aWR1YWwgY291bnRyeS5cbiovXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllUHJvdmlkZXJzKG1vdmllX2lkKSB7XG5cdGNvbnN0IHByb3ZpZGVyc0J5Q291bnRyeSA9IHt9O1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS93YXRjaC9wcm92aWRlcnM/YXBpX2tleT0ke0FQSV9LRVl9YCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGZvciAoY29uc3QgY291bnRyeUNvZGUgaW4gZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRjb25zdCBjb3VudHJ5ID0gZ2V0Q291bnRyeU5hbWUoY291bnRyeUNvZGUpO1xuXHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldID0ge1xuXHRcdFx0XHRzdHJlYW06IFtdLFxuXHRcdFx0XHRyZW50OiBbXSxcblx0XHRcdFx0YnV5OiBbXSxcblx0XHRcdFx0Y291bnRyeUNvZGU6IGNvdW50cnlDb2RlLFxuXHRcdFx0fTtcblxuXHRcdFx0Lypcblx0XHRcdFNvcnRzIHByb3ZpZGVycyBiYXNlZCBvbiBjb3VudHJ5IGFuZCBzZXJ2aWNlcyB0aGV5IHByb3ZpZGUuXG5cblx0XHRcdFRha2VzIGluIHR5cGUgb2Ygc2VydmljZXMgYXMgcGFyYW0gPT4gW1wiZmxhdHJhdGUgKHN0cmVhbWluZylcIiwgXG5cdFx0XHRcInJlbnRcIiwgXCJidXlcIl0gYW5kIGFuIGFycmF5IHRvIGFwcGVuZCBpdCB0by5cblx0XHRcdCovXG5cdFx0XHRjb25zdCBzb3J0UHJvdmlkZXJzID0gKHNlcnZpY2VzLCBjb2xsZWN0aW9uKSA9PiB7XG5cdFx0XHRcdGlmIChzZXJ2aWNlcykge1xuXHRcdFx0XHRcdHNlcnZpY2VzLmZvckVhY2goKHNlcnZpY2UpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVySW5mbyA9IHtcblx0XHRcdFx0XHRcdFx0cHJvdmlkZXJfbmFtZTogc2VydmljZS5wcm92aWRlcl9uYW1lLFxuXHRcdFx0XHRcdFx0XHRwcm92aWRlcl9sb2dvX3BhdGg6IHNlcnZpY2UubG9nb19wYXRoLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGNvbGxlY3Rpb24ucHVzaChwcm92aWRlckluZm8pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBBZGQgc3RyZWFtaW5nIHNlcnZpY2VzIGZvciBzcGVjaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5mbGF0cmF0ZSxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLnN0cmVhbVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gQWRkIHJlbnRpbmcgc2VydmljZXMgZm9yIHNwZWljaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5yZW50LFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0ucmVudFxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gQWRkIGJ1eWluZyBzZXJ2aWNlcyBmb3Igc3BlY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0uYnV5LFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0uYnV5XG5cdFx0XHQpO1xuXHRcdH1cblx0XHRyZXR1cm4gcHJvdmlkZXJzQnlDb3VudHJ5O1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRhbGVydChlcnIpO1xuXHR9XG59XG5cbi8vIEZpbmQgbW92aWUgdHJhaWxlciBhbmQgcmV0dXJuIGZhbHNlIGlmIG5vbmUgY2FuIGJlIGZvdW5kLlxuLy8gT2ZmaWNpYWwgdHJhaWxlciB3aWxsIGJlIHByaW9yaXRpc2VkLlxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVRyYWlsZXIobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRsZXQgbW92aWVUcmFpbGVyO1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS92aWRlb3M/YXBpX2tleT0ke0FQSV9LRVl9YCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGNvbnN0IHRyYWlsZXJzID0gZGF0YS5yZXN1bHRzLmZpbHRlcigodmlkZW8pID0+IHZpZGVvLnR5cGUgPT09IFwiVHJhaWxlclwiKTtcblxuXHRcdGlmICh0cmFpbGVycy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblx0XHQvLyBGaW5kIG9mZmljaWFsIHRyYWlsZXIuXG5cdFx0Y29uc3Qgb2ZmaWNpYWwgPSB0cmFpbGVycy5maWx0ZXIoKHZpZGVvKSA9PiB7XG5cdFx0XHR2aWRlby5vZmZpY2lhbCA9PT0gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdG9mZmljaWFsLmxlbmd0aCAhPT0gMFxuXHRcdFx0PyAobW92aWVUcmFpbGVyID0gb2ZmaWNpYWxbMF0pXG5cdFx0XHQ6IChtb3ZpZVRyYWlsZXIgPSB0cmFpbGVyc1swXSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0bU5hbWU6IG1vdmllVHJhaWxlci5uYW1lLFxuXHRcdFx0a2V5OiBtb3ZpZVRyYWlsZXIua2V5LFxuXHRcdFx0c2l0ZTogbW92aWVUcmFpbGVyLnNpdGUsXG5cdFx0XHR0eXBlOiBtb3ZpZVRyYWlsZXIudHlwZSxcblx0XHRcdGxhbmc6IGdldExhbmd1YWdlKG1vdmllVHJhaWxlci5pc29fNjM5XzEpLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGFsZXJ0KGVycik7XG5cdH1cbn1cblxuLy8gUmV0dXJucyBhbiBhcnIgb2YgYSBtYXhpbXVtIG9mIDUgcmV2aWV3cyBiYXNlZCBvbiB0aGUgbW92aWUgZnJvbSByYW5kb20gc291cmNlcy5cbi8vIElmIG5vIHJldmlld3MgYXJlIGZvdW5kLCB0aGlzIGZuYyByZXR1cm5zIGZhbHNlLlxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVJldmlld3MobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRsZXQgcmV2aWV3cyA9IFtdO1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS9yZXZpZXdzP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZwYWdlPTFgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdGlmIChkYXRhLnJlc3VsdHMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cblx0XHRsZXQgY291bnQgPSAxO1xuXHRcdGRhdGEucmVzdWx0cy5mb3JFYWNoKChyZXZpZXcpID0+IHtcblx0XHRcdHJldmlld3MucHVzaCh7XG5cdFx0XHRcdGF1dGhvcjogcmV2aWV3LmF1dGhvcixcblx0XHRcdFx0cmF0aW5nOiByZXZpZXcuYXV0aG9yX2RldGFpbHMucmF0aW5nLFxuXHRcdFx0XHRwaWNfcGF0aDogcmV2aWV3LmF1dGhvcl9kZXRhaWxzLmF2YXRhcl9wYXRoLFxuXHRcdFx0XHRjb250ZW50OiByZXZpZXcuY29udGVudCxcblx0XHRcdFx0dXJsOiByZXZpZXcudXJsLFxuXHRcdFx0XHRsYXN0X3VwZGF0ZWQ6IHJldmlldy51cGRhdGVkX2F0LFxuXHRcdFx0fSk7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH0pO1xuXHRcdHJldHVybiByZXZpZXdzLnNsaWNlKDAsIDUpO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRhbGVydChlcnIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldENvdW50cnlOYW1lKGNvZGUpIHtcblx0bGV0IHJlZ2lvbk5hbWVzID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwicmVnaW9uXCIgfSk7XG5cdHJldHVybiByZWdpb25OYW1lcy5vZihjb2RlKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFuZ3VhZ2UoY29kZSkge1xuXHRjb25zdCBsYW5nID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwibGFuZ3VhZ2VcIiB9KTtcblx0cmV0dXJuIGxhbmcub2YoY29kZSk7XG59XG5leHBvcnQge1xuXHRmZXRjaE1vdmllRGV0YWlscyxcblx0ZmV0Y2hNb3ZpZVJlY2Nvcyxcblx0ZmV0Y2hNb3ZpZVByb3ZpZGVycyxcblx0ZmV0Y2hNb3ZpZVRyYWlsZXIsXG5cdGZldGNoTW92aWVSZXZpZXdzLFxuXHRnZXRDb3VudHJ5TmFtZSxcbn07XG4iLCJpbXBvcnQgKiBhcyBtb3ZpZSBmcm9tIFwiLi4vYXBpRnVuY3Rpb25zL2ZldGNoTW92aWVJbmZvXCI7XG5cbi8qXG5EcmF3IGFuIGluZGl2aWR1YWwgc2VjdGlvbiBiYXNlZCBvbiB1c2VyIGlucHV0IHF1ZXJ5LlxuVGhpcyBzZWN0aW9uIHdpbGwgY29uc3RzIG9mIHRoZSBvdmVyYWxsIG1vdmllL3R2J3MgXG4gICAgLSBEZXRhaWxzLFxuICAgIC0gVGhlIHdhdGNoIHByb3ZpZGVycyBiYXNlZCBvbiBzcGVjaWZpYyBjb3VudHJpZXNcbiAgICAtIEF2YWlsYWJsZSB0cmFpbGVycyxcbiAgICAtIE90aGVyIHJlY29tbWVuZGF0aW9ucy5cbiAgICAtIFJldmlld3MgYnkgZXN0YWJsaXNoZWQgYXV0aG9ycyBiYXNlZCBmcm9tIHJhbmRvbSBzb3VyY2VzLlxuKi9cblxuY29uc3QgZHJhd1NlY3Rpb24gPSBhc3luYyAoaWQsIG1lZGlhKSA9PiB7XG5cdGNvbnN0IHNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiKTtcblx0Y29uc3QgZGV0YWlscyA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVEZXRhaWxzLCBcIlwiKTtcblx0Y29uc3QgcmVjcyA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVSZWNjb3MsIFwiXCIpO1xuXHRjb25zdCBwcm92aWRlcnMgPSBhd2FpdCBnZXRJbmZvKGlkLCBtb3ZpZS5mZXRjaE1vdmllUHJvdmlkZXJzLCBcIlwiKTtcblx0Y29uc29sZS5sb2cocHJvdmlkZXJzKTtcblx0Y29uc3QgdHJhaWxlciA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVUcmFpbGVyLCBcIlwiKTtcblx0Y29uc3QgcmV2aWV3cyA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVSZXZpZXdzLCBcIlwiKTtcblxuXHRmdW5jdGlvbiBkcmF3QWxsKCkge1xuXHRcdGFkZFRvU2VjdGlvbihkcmF3SW50cm8oKSk7XG5cdH1cblxuXHRmdW5jdGlvbiBhZGRUb1NlY3Rpb24ocGFydCkge1xuXHRcdHNlY3Rpb24uYXBwZW5kQ2hpbGQocGFydCk7XG5cdH1cblxuXHRmdW5jdGlvbiByZW5kZXJFbGVtZW50KHRhZywgY2xhc3NOYW1lKSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXHRcdGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcblx0fVxuXG5cdGFzeW5jIGZ1bmN0aW9uIGdldEluZm8oaWQsIG1vdmllRm5jLCB0dkZuYykge1xuXHRcdHJldHVybiBtZWRpYSA9PT0gXCJtb3ZpZVwiID8gYXdhaXQgbW92aWVGbmMoaWQpIDogXCJcIjtcblx0fVxuXG5cdC8vIERyYXcgKGlmIGFueSkgdGl0bGUsIHBob3RvLCB0YWdsaW5lLCBhbmQgc3VtbWFyeS5cblx0Y29uc3QgZHJhd0ludHJvID0gKGltZ1NpemUpID0+IHtcblx0XHRjb25zdCBpbnRyb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0aW50cm9Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImludHJvXCIpO1xuXG5cdFx0aW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlVGl0bGUoKSk7XG5cdFx0ZGV0YWlscy50YWdsaW5lID8gaW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQod3JpdGVUYWdsaW5lKCkpIDogXCJcIjtcblxuXHRcdGNvbnN0IGltZyA9IHJlbmRlckltZyhpbWdTaXplKTtcblx0XHRpbWcgPyBpbnRyb0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbWcpIDogXCJcIjtcblxuXHRcdGludHJvQ29udGFpbmVyLmFwcGVuZENoaWxkKHdyaXRlU3VtbWFyeSgpKTtcblxuXHRcdGZ1bmN0aW9uIGNyZWF0ZVRpdGxlKCkge1xuXHRcdFx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG5cdFx0XHR0aXRsZS50ZXh0Q29udGVudCA9IGRldGFpbHMubU5hbWU7XG5cdFx0XHR0aXRsZS5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIik7XG5cdFx0XHRyZXR1cm4gdGl0bGU7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVuZGVySW1nKGltZ1NpemUgPSBcIlwiKSB7XG5cdFx0XHRjb25zdCBwb3N0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuXHRcdFx0Y29uc3QgYmFzZUltZ1VybCA9IFwiaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3BcIjtcblx0XHRcdGxldCBpbWdfcGF0aDtcblx0XHRcdHBvc3Rlci5jbGFzc0xpc3QuYWRkKFwicG9zdGVyXCIpO1xuXG5cdFx0XHRpZiAoZGV0YWlscy5wb3N0ZXJfcGF0aCkge1xuXHRcdFx0XHRpbWdfcGF0aCA9IGRldGFpbHMucG9zdGVyX3BhdGg7XG5cdFx0XHR9IGVsc2UgaWYgKGRldGFpbHMuYmFja2Ryb3BfcGF0aCkge1xuXHRcdFx0XHRpbWdfcGF0aCA9IGRldGFpbHMuYmFja2Ryb3BfcGF0aDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdCFpbWdTaXplXG5cdFx0XHRcdD8gKHBvc3Rlci5zcmMgPSBgJHtiYXNlSW1nVXJsfS9vcmlnaW5hbC8ke2ltZ19wYXRofWApXG5cdFx0XHRcdDogKHBvc3Rlci5zcmMgPSBgJHtiYXNlSW1nVXJsfS93JHtpbWdTaXplfS8ke2ltZ19wYXRofWApO1xuXHRcdFx0cG9zdGVyLmFsdCA9IFwiTW92aWUgcGljdHVyZSBwb3N0ZXJcIjtcblx0XHRcdHBvc3Rlci5zZXRBdHRyaWJ1dGUoXCJsb2FkaW5nXCIsIFwibGF6eVwiKTtcblx0XHRcdHJldHVybiBwb3N0ZXI7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gd3JpdGVUYWdsaW5lKCkge1xuXHRcdFx0Y29uc3QgdGFnUGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuXHRcdFx0dGFnUGFyYS50ZXh0Q29udGVudCA9IGRldGFpbHMudGFnbGluZTtcblx0XHRcdHRhZ1BhcmEuY2xhc3NMaXN0LmFkZChcInRhZ2xpbmVcIik7XG5cdFx0XHRyZXR1cm4gdGFnUGFyYTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB3cml0ZVN1bW1hcnkoKSB7XG5cdFx0XHRjb25zdCBwYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5cdFx0XHRwYXJhLnRleHRDb250ZW50ID0gZGV0YWlscy5zdW1tYXJ5O1xuXHRcdFx0cGFyYS5jbGFzc0xpc3QuYWRkKFwic3VtbWFyeVwiKTtcblx0XHRcdHJldHVybiBwYXJhO1xuXHRcdH1cblx0XHRyZXR1cm4gaW50cm9Db250YWluZXI7XG5cdH07XG5cblx0Y29uc3QgZHJhd1N1YkluZm9zID0gKCkgPT4ge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0Y29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJzdWJpbmZvLWNvbnRhaW5lclwiKTtcblxuXHRcdGNvbnN0IGluZm9ybWF0aW9uID0gW1xuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIkdlbnJlczpcIiwgZGV0YWlscy5nZW5yZXMuam9pbihcIiwgXCIpKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJSdW50aW1lOlwiLCBjb252ZXJ0TWluVG9IcihkZXRhaWxzLnJ1bnRpbWUpKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJWb3RlIEF2ZXJhZ2U6XCIsIGRldGFpbHMudm90ZV9hdmVyYWdlKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJWb3RlIENvdW50OlwiLCBkZXRhaWxzLnZvdGVfY291bnQpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIlBvcHVsYXJpdHk6XCIsIGRldGFpbHMucG9wdWxhcml0eSksXG5cdFx0XTtcblxuXHRcdGluZm9ybWF0aW9uLmZvckVhY2goKGluZm8pID0+IGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvKSk7XG5cblx0XHRmdW5jdGlvbiBjcmVhdGVTdWJJbmZvKGNhdGVnb3J5LCBpbmZvKSB7XG5cdFx0XHRjb25zdCBzdWJJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRcdGNvbnN0IGNhdGVnb3J5TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0Y29uc3QgY2F0ZWdvcnlJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5cblx0XHRcdHN1YkluZm8uY2xhc3NMaXN0LmFkZChcInN1Yi1pbmZvXCIpO1xuXHRcdFx0Y2F0ZWdvcnlOYW1lLmNsYXNzTGlzdC5hZGQoXCJjYXRlZ29yeS1uYW1lXCIpO1xuXHRcdFx0Y2F0ZWdvcnlJbmZvLmNsYXNzTGlzdC5hZGQoXCJjYXRlZ29yeS1pbmZvXCIpO1xuXG5cdFx0XHRjYXRlZ29yeU5hbWUudGV4dENvbnRlbnQgPSBjYXRlZ29yeTtcblx0XHRcdGNhdGVnb3J5SW5mby50ZXh0Q29udGVudCA9IGluZm87XG5cblx0XHRcdFtjYXRlZ29yeU5hbWUsIGNhdGVnb3J5SW5mb10uZm9yRWFjaCgoaW5mbykgPT4gc3ViSW5mby5hcHBlbmRDaGlsZChpbmZvKSk7XG5cdFx0XHRyZXR1cm4gc3ViSW5mbztcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjb252ZXJ0TWluVG9IcihtaW5zKSB7XG5cdFx0XHRjb25zdCBob3VycyA9IG1pbnMgLyA2MDtcblx0XHRcdGNvbnN0IHJIb3VycyA9IE1hdGguZmxvb3IoaG91cnMpO1xuXHRcdFx0Y29uc3QgbWludXRlcyA9IChob3VycyAtIHJIb3VycykgKiA2MDtcblx0XHRcdGNvbnN0IHJNaW51dGVzID0gTWF0aC5yb3VuZChtaW51dGVzKTtcblx0XHRcdHJldHVybiBgJHtySG91cnN9aCAke3JNaW51dGVzfW1pbmA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcblx0fTtcblxuXHRjb25zdCBkcmF3UHJvdmlkZXJzID0gKCkgPT4ge1xuXHRcdGxldCBhdmFpbFByb3ZpZGVyczsgLy8gQm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVyZSBhcmUgYW55IHdhdGNoXG5cdFx0Ly8gcHJvdmlkZXJzIGZvciB0aGlzIHNob3cuXG5cblx0XHQvLyBIb3VzZXMgdGhlIGJ0biB0aGF0IG9wZW5zIHRoZSBtb2RhbCBhbmQgb3ZlcmxheSwgYW5kIHRoZSBhdmFpbGFibGUgcHJvdmlkZXJzIGZvciAnc3RyZWFtaW5nJywgJ3JlbnQnIGFuZCAncHVyY2hhc2UnLlxuXHRcdGNvbnN0IHByb3ZpZGVyQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInByb3ZpZGVyLWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCBjb3VudHJ5QnRuID0gcmVuZGVyRWxlbWVudChcImJ1dHRvblwiLCBcImNvdW50cnktYnRuXCIpO1xuXHRcdGNvbnN0IGhvdXNlQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcImhvdXNlLXByb3ZpZGVyLWNvbnRhaW5lclwiKTtcblx0XHRbY291bnRyeUJ0biwgaG91c2VDb250YWluZXJdLmZvckVhY2goKGVsZW0pID0+IHtcblx0XHRcdHByb3ZpZGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU2VhcmNoIGZvciBkZWZhdWx0IGNvdW50cnkgXCJBdXN0cmFsaWFcIi4gSWYgbm9uZSBmb3VuZC4gRHJhdyB0aGUgZmlyc3QgY291bnRyeSdzIHByb3ZpZGVyLlxuXHRcdGlmIChPYmplY3Qua2V5cyhwcm92aWRlcnMpLmxlbmd0aCkge1xuXHRcdFx0YXZhaWxQcm92aWRlcnMgPSB0cnVlO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKHByb3ZpZGVycykuaW5jbHVkZXMoXCJBdXN0cmFsaWFcIikpIHtcblx0XHRcdFx0ZHJhd1Byb3ZpZGVyKFwiQXVzdHJhbGlhXCIpO1xuXHRcdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID0gXCJBdXN0cmFsaWFcIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGZpcnN0UHJvdmlkZXIgPSBPYmplY3Qua2V5cyhwcm92aWRlcnMpWzBdO1xuXHRcdFx0XHRkcmF3UHJvdmlkZXIoZmlyc3RQcm92aWRlcik7XG5cdFx0XHRcdGNvdW50cnlCdG4udGV4dENvbnRlbnQgPSBgJHtmaXJzdFByb3ZpZGVyfWA7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGF2YWlsUHJvdmlkZXJzID0gZmFsc2U7XG5cdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID1cblx0XHRcdFx0XCJObyBjb3VudHJpZXMgb2ZmZXIgdGhpcyB0di9tb3ZpZSBhdCB0aGUgbW9tZW50LlwiO1xuXHRcdH1cblxuXHRcdC8vIGF2YWlsUHJvdmlkZXJzID8gcmVuZGVyQ291bnRyaWVzTW9kYWwoY291bnRyeUJ0bi50ZXh0Q29udGVudCkgOiBcIlwiOyAvLyB0ZW1wXG5cdFx0Ly8gQWRkIGJ0biBldmVudCBjbGljayBsaXN0ZW5lciB0byBvcGVuIG1vZGFsXG5cdFx0Y291bnRyeUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGlmIChhdmFpbFByb3ZpZGVycykge1xuXHRcdFx0XHRyZW5kZXJDb3VudHJpZXNNb2RhbChjb3VudHJ5QnRuLnRleHRDb250ZW50KTtcblx0XHRcdFx0aGlnaGxpZ2h0Q3VyckNvdW50cnkoY291bnRyeUJ0bi50ZXh0Q29udGVudCk7XG5cdFx0XHRcdC8vIGFkZCBjb3VudHJ5IGV2ZW50IGhlcmVcblx0XHRcdFx0YXBwbHlDaG9vc2VDb3VudHJ5Rm5jcygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGZ1bmN0aW9uIGFwcGx5Q2hvb3NlQ291bnRyeUZuY3MoKSB7XG5cdFx0XHRjb25zdCBjb3VudHJpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY291bnRyeS1jb250YWluZXInKTtcblx0XHRcdGNvdW50cmllcy5mb3JFYWNoKGNvdW50cnkgPT4gY291bnRyeS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRjb25zdCBzZWxlY3RlZENvdW50ID0gY291bnRyeS5sYXN0Q2hpbGQudGV4dENvbnRlbnRcblx0XHRcdFx0Y29uc29sZS5sb2coc2VsZWN0ZWRDb3VudCk7XG5cdFx0XHRcdGNsZWFyUHJvdmlkZXIoKTtcblx0XHRcdFx0ZHJhd1Byb3ZpZGVyKHNlbGVjdGVkQ291bnQpO1xuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcubW9kYWwtY291bnRyeS1jb250YWluZXInKS5yZW1vdmUoKTtcblx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZhY2UtbWFzaycpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdH0pKVxuXHRcdH1cblxuXHRcdHJldHVybiBwcm92aWRlckNvbnRhaW5lcjtcblxuXHRcdGZ1bmN0aW9uIGRyYXdQcm92aWRlcihjb3VudHJ5TmFtZSA9IFwiQXVzdHJhbGlhXCIpIHtcblx0XHRcdC8vIENoYW5nZSB0ZXh0IG9mIGJ0biB0byBjb3VudHJ5TmFtZVxuXHRcdFx0Y291bnRyeUJ0bi50ZXh0Q29udGVudCA9IGNvdW50cnlOYW1lO1xuXG5cdFx0XHRjb25zdCBzdHJlYW1JbmZvID0gcHJvdmlkZXJzW2NvdW50cnlOYW1lXS5zdHJlYW07XG5cdFx0XHRjb25zdCBidXlJbmZvID0gcHJvdmlkZXJzW2NvdW50cnlOYW1lXS5idXk7XG5cdFx0XHRjb25zdCByZW50SW5mbyA9IHByb3ZpZGVyc1tjb3VudHJ5TmFtZV0ucmVudDtcblxuXHRcdFx0Y29uc3Qgc2VydmljZU5hbWVzID0gW1wiU3RyZWFtIGF0OlwiLCBcIlB1cmNoYXNlIGF0OlwiLCBcIlJlbnQgYXQ6XCJdO1xuXHRcdFx0Ly8gVG8gYXNzaWduIG5hbWVzIGZvciBlYWNoIHNldmljZSBwcm92aWRlcnMuXG5cdFx0XHQvLyBUaGlzIGluY3JlbWVudHMgYXMgcHJvdmlkZXJzIGFyZSBsaXN0ZWQgZm9yIGVhY2ggc2VydmljZS5cblx0XHRcdGxldCBpZHggPSAwO1xuXG5cdFx0XHRbc3RyZWFtSW5mbywgYnV5SW5mbywgcmVudEluZm9dLmZvckVhY2goKGluZm8pID0+IHtcblx0XHRcdFx0Y29uc3Qgc2VydmljZUNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJzZXJ2aWNlLWNvbnRhaW5lclwiKTtcblx0XHRcdFx0Y29uc3Qgc2VydmljZU5hbWUgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwic2VydmljZS1uYW1lXCIpO1xuXHRcdFx0XHRjb25zdCBzZXJ2aWNlTmFtZUJvbGQgPSByZW5kZXJFbGVtZW50KFwiaDJcIiwgXCJzZXJ2aWNlLW5hbWUtYm9sZFwiKTtcblx0XHRcdFx0Y29uc3QgcHJvdmlkZXJTZXJ2aWNlQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcblx0XHRcdFx0XHRcImRpdlwiLFxuXHRcdFx0XHRcdFwicHJvdmlkZXItc2VydmljZS1jb250YWluZXJcIlxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGluZm8uZm9yRWFjaCgocHJvdmlkZXIpID0+IHtcblx0XHRcdFx0XHRjb25zdCBwcm92aWRlclNlcnZpY2UgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicHJvdmlkZXItc2VydmljZVwiKTtcblx0XHRcdFx0XHQvLyBBZGQgaW1nIGFuZCBuYW1lIG9mIHByb3ZpZGVyLlxuXHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVySW1nID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcInByb3ZpZGVyLWltZ1wiKTtcblx0XHRcdFx0XHRjb25zdCBwcm92aWRlck5hbWUgPSByZW5kZXJFbGVtZW50KFwic3BhblwiLCBcInByb3ZpZGVyLW5hbWVcIik7XG5cblx0XHRcdFx0XHRpZiAocHJvdmlkZXIucHJvdmlkZXJfbG9nb19wYXRoKSB7XG5cdFx0XHRcdFx0XHRwcm92aWRlckltZy5zcmMgPSBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3Avb3JpZ2luYWwvJHtwcm92aWRlci5wcm92aWRlcl9sb2dvX3BhdGh9YDtcblx0XHRcdFx0XHRcdHByb3ZpZGVySW1nLmFsdCA9IGAke3Byb3ZpZGVyLnByb3ZpZGVyX25hbWV9IHBpY3R1cmUuYDtcblx0XHRcdFx0XHRcdHByb3ZpZGVySW1nLnNldEF0dHJpYnV0ZShcImxvYWRpbmdcIiwgXCJsYXp5XCIpO1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJOYW1lLnRleHRDb250ZW50ID0gcHJvdmlkZXIucHJvdmlkZXJfbmFtZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRbcHJvdmlkZXJJbWcsIHByb3ZpZGVyTmFtZV0uZm9yRWFjaCgoZWxlbSkgPT4ge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJTZXJ2aWNlLmFwcGVuZENoaWxkKGVsZW0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHByb3ZpZGVyU2VydmljZUNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm92aWRlclNlcnZpY2UpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoaW5mby5sZW5ndGgpIHtcblx0XHRcdFx0XHRzZXJ2aWNlTmFtZUJvbGQudGV4dENvbnRlbnQgPSBgJHtzZXJ2aWNlTmFtZXNbaWR4XX1gO1xuXHRcdFx0XHRcdHNlcnZpY2VOYW1lLmFwcGVuZENoaWxkKHNlcnZpY2VOYW1lQm9sZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWR4Kys7XG5cdFx0XHRcdHNlcnZpY2VDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VydmljZU5hbWUpO1xuXHRcdFx0XHRzZXJ2aWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb3ZpZGVyU2VydmljZUNvbnRhaW5lcik7XG5cdFx0XHRcdGhvdXNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlcnZpY2VDb250YWluZXIpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGNsZWFyUHJvdmlkZXIoKSB7XG5cdFx0XHRob3VzZUNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdH1cblx0fTtcblxuXHRmdW5jdGlvbiByZW5kZXJDb3VudHJpZXNNb2RhbChjdXJyQ291bnRyeU5hbWUpIHtcblx0XHQvLyBDb3VudHJ5IG5hbWVzXG5cdFx0Y29uc3QgcHJvdmlkZXJDb3VudHJpZXMgPSBPYmplY3Qua2V5cyhwcm92aWRlcnMpO1xuXHRcdC8vIFNvcnQgYnkgY291bnRyeSBuYW1lIGFuZCBjb2RlcyBpbnRvIGFuIG9iai5cblx0XHRsZXQgY291bnRyaWVzID0ge307XG5cdFx0bGV0IGN1cnJDb3VudHJ5Q29kZTtcblx0XHRwcm92aWRlckNvdW50cmllcy5mb3JFYWNoKChjb3VudHJ5KSA9PiB7XG5cdFx0XHRjb3VudHJpZXNbY291bnRyeV0gPSBwcm92aWRlcnNbY291bnRyeV0uY291bnRyeUNvZGU7XG5cblx0XHRcdC8vIEZpbmQgY3VycmVudCBjb3VudHJ5IGNvZGUuXG5cdFx0XHRpZiAoY3VyckNvdW50cnlOYW1lID09PSBjb3VudHJ5KSB7XG5cdFx0XHRcdGN1cnJDb3VudHJ5Q29kZSA9IHByb3ZpZGVyc1tjb3VudHJ5XS5jb3VudHJ5Q29kZTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdGNvbnN0IG1vZGFsQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImZvcm1cIiwgXCJtb2RhbC1jb3VudHJ5LWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCBtb2RhbEhlYWRlciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJtb2RhbC1oZWFkZXJcIik7XG5cblx0XHRjb25zdCBtb2RhbEJvZHkgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwibW9kYWwtYm9keVwiKTtcblx0XHRjb25zdCBtb2RhbEN1cnJlbnRDb3VudHJ5ID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcIm1vZGFsLWN1cnJlbnQtY291bnRyeVwiKTtcblx0XHRjb25zdCBtb2RhbElucHV0U2VhcmNoID0gcmVuZGVyRWxlbWVudChcImlucHV0XCIsIFwibW9kYWwtaW5wdXQtc2VhcmNoXCIpO1xuXHRcdGNvbnN0IG1vZGFsTGlzdENvdW50cmllcyA9IHJlbmRlckVsZW1lbnQoXCJ1bFwiLCBcIm1vZGFsLWxpc3QtY291bnRyaWVzXCIpO1xuXG5cdFx0Y29uc3QgbW9kYWxDbG9zZUJ0biA9IHJlbmRlckVsZW1lbnQoXCJidXR0b25cIiwgXCJtb2RhbC1jbG9zZS1idG5cIik7XG5cblx0XHRjb25zdCByZW5kZXJIZWFkaW5nID0gKCkgPT4ge1xuXHRcdFx0Ly8gSGVhZGluZyB0aGF0IGRpc3BsYXlzIGN1cnJlbnQgY291bnRyeSBzZWxlY3RlZC5cblx0XHRcdGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG5cdFx0XHRoZWFkaW5nLnRleHRDb250ZW50ID0gXCJDb3VudHJpZXNcIjtcblxuXHRcdFx0Y29uc3QgY3VyckNvdW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG5cdFx0XHRjb25zdCBzZWFyY2hMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcblx0XHRcdGNvbnN0IHNlYXJjaFN5bWIgPSByZW5kZXJFbGVtZW50KFwiaVwiLCBcImZhXCIpO1xuXG5cdFx0XHRjb25zdCBzZWFyY2hBdHRyaWJ1dGVzID0ge1xuXHRcdFx0XHRpZDogXCJtb2RhbC1pbnB1dC1zZWFyY2hcIixcblx0XHRcdFx0dHlwZTogXCJzZWFyY2hcIixcblx0XHRcdFx0Ly8gb25rZXl1cDogXCJmaWx0ZXJcIixcblx0XHRcdFx0cGxhY2Vob2xkZXI6IFwi8J+UjSBTZWFyY2ggZm9yIGNvdW50cmllcy4uLlwiLFxuXHRcdFx0XHR0aXRsZTogXCJUeXBlIGluIGEgY291bnRyeSBuYW1lXCIsXG5cdFx0XHRcdHJvbGU6IFwic2VhcmNoXCIsXG5cdFx0XHR9O1xuXG5cdFx0XHRmb3IgKGxldCBpIGluIHNlYXJjaEF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0bW9kYWxJbnB1dFNlYXJjaC5zZXRBdHRyaWJ1dGUoaSwgc2VhcmNoQXR0cmlidXRlc1tpXSk7XG5cdFx0XHR9XG5cdFx0XHRtb2RhbElucHV0U2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmaWx0ZXJSZXN1bHRzKTtcblx0XHRcdG1vZGFsSW5wdXRTZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9KVxuXG5cdFx0XHQvLyBGaW5kIGN1cnJlbnQgY291bnRyeSBuYW1lIGFuZCBjb2RlLlxuXHRcdFx0Y29uc3QgY3VyckNvdW50cnlGbGFnID0gcmVuZGVyQ291bnRyeUZsYWcoXG5cdFx0XHRcdGN1cnJDb3VudHJ5Q29kZSxcblx0XHRcdFx0Y3VyckNvdW50cnlOYW1lXG5cdFx0XHQpO1xuXHRcdFx0Y3VyckNvdW50cnkudGV4dENvbnRlbnQgPSBjdXJyQ291bnRyeU5hbWU7XG5cblx0XHRcdG1vZGFsQ3VycmVudENvdW50cnkuYXBwZW5kQ2hpbGQoY3VyckNvdW50cnlGbGFnKTtcblx0XHRcdG1vZGFsQ3VycmVudENvdW50cnkuYXBwZW5kQ2hpbGQoY3VyckNvdW50cnkpO1xuXG5cdFx0XHRzZWFyY2hMYWJlbC5odG1sRm9yID0gYCR7bW9kYWxJbnB1dFNlYXJjaC5pZH1gO1xuXG5cdFx0XHRbaGVhZGluZywgbW9kYWxDdXJyZW50Q291bnRyeSwgc2VhcmNoTGFiZWwsIG1vZGFsSW5wdXRTZWFyY2hdLmZvckVhY2goXG5cdFx0XHRcdChmb3JtRWxlbSkgPT4ge1xuXHRcdFx0XHRcdG1vZGFsSGVhZGVyLmFwcGVuZENoaWxkKGZvcm1FbGVtKTtcblx0XHRcdFx0fVxuXHRcdFx0KTtcblx0XHR9O1xuXG5cdFx0Y29uc3QgcmVuZGVyQm9keSA9ICgpID0+IHtcblx0XHRcdG1vZGFsTGlzdENvdW50cmllcy5pZCA9IFwiY291bnRyaWVzLWxpc3RcIjtcblx0XHRcdGZvciAobGV0IGNvdW50cnkgaW4gY291bnRyaWVzKSB7XG5cdFx0XHRcdGxldCBjb3VudHJ5Q29kZSA9IGNvdW50cmllc1tjb3VudHJ5XTtcblxuXHRcdFx0XHRjb25zdCBjb3VudHJ5Q29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImxpXCIsIFwiY291bnRyeS1jb250YWluZXJcIik7XG5cdFx0XHRcdGNvbnN0IGNvdW50cnlGbGFnID0gcmVuZGVyQ291bnRyeUZsYWcoY291bnRyeUNvZGUsIGNvdW50cnkpO1xuXHRcdFx0XHRjb25zdCBjb3VudHJ5TmFtZSA9IHJlbmRlckVsZW1lbnQoXCJhXCIsIFwiY291bnRyeS1uYW1lXCIpO1xuXG5cdFx0XHRcdGNvdW50cnlOYW1lLnRleHRDb250ZW50ID0gY291bnRyeTtcblx0XHRcdFx0Y291bnRyeU5hbWUuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBcIiNcIik7XG5cblx0XHRcdFx0W2NvdW50cnlGbGFnLCBjb3VudHJ5TmFtZV0uZm9yRWFjaCgoY291bnRyeUVsZW0pID0+IHtcblx0XHRcdFx0XHRjb3VudHJ5Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvdW50cnlFbGVtKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0bW9kYWxMaXN0Q291bnRyaWVzLmFwcGVuZENoaWxkKGNvdW50cnlDb250YWluZXIpO1xuXHRcdFx0fVxuXG5cdFx0XHRbbW9kYWxMaXN0Q291bnRyaWVzXS5mb3JFYWNoKChmb3JtRWxlbSkgPT4ge1xuXHRcdFx0XHRtb2RhbEJvZHkuYXBwZW5kQ2hpbGQoZm9ybUVsZW0pO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHJlbmRlckNsb3NlQnRuID0gKGNsb3NlRm5jKSA9PiB7XG5cdFx0XHRjb25zdCBjbG9zZVN5bWIgPSByZW5kZXJFbGVtZW50KFwiaVwiLCBcImZhXCIpO1xuXHRcdFx0Y2xvc2VTeW1iLmNsYXNzTGlzdC5hZGQoXCJmYS1jbG9zZVwiKTtcblx0XHRcdG1vZGFsQ2xvc2VCdG4uYXBwZW5kQ2hpbGQoY2xvc2VTeW1iKTtcblx0XHRcdGNsb3NlRm5jKCk7XG5cdFx0fTtcblx0XHRjb25zdCBhZGRDbG9zZUZuYyA9ICgpID0+IHtcblx0XHRcdG1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0Y29uc3QgY3VycmVudEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNvdW50cnktY29udGFpbmVyXCIpO1xuXHRcdFx0XHRjdXJyZW50Rm9ybS5yZW1vdmUoKTtcblx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mYWNlLW1hc2tcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdC8vIFJlbmRlciBzZWN0aW9ucyBvZiB0aGUgZm9ybS5cblx0XHRyZW5kZXJIZWFkaW5nKCk7XG5cdFx0cmVuZGVyQm9keSgpO1xuXHRcdHJlbmRlckNsb3NlQnRuKGFkZENsb3NlRm5jKTtcblxuXHRcdFttb2RhbEhlYWRlciwgbW9kYWxCb2R5LCBtb2RhbENsb3NlQnRuXS5mb3JFYWNoKChtb2RhbEVsZW0pID0+XG5cdFx0XHRtb2RhbENvbnRhaW5lci5hcHBlbmRDaGlsZChtb2RhbEVsZW0pXG5cdFx0KTtcblxuXHRcdGNvbnN0IGJvZHlEb2N1bWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJib2R5XCIpO1xuXHRcdGJvZHlEb2N1bWVudC5hcHBlbmQobW9kYWxDb250YWluZXIpO1xuXHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmFjZS1tYXNrXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XG5cblx0XHRmdW5jdGlvbiByZW5kZXJDb3VudHJ5RmxhZyhjb3VudHJ5Q29kZSwgY291bnRyeU5hbWUpIHtcblx0XHRcdGNvbnN0IGZsYWcgPSByZW5kZXJFbGVtZW50KFwiaW1nXCIsIFwiY291bnRyeS1mbGFnXCIpO1xuXHRcdFx0ZmxhZy5zZXRBdHRyaWJ1dGUoXCJjcm9zc29yaWdpblwiLCBcImFub255bW91c1wiKTtcblx0XHRcdGZsYWcuc3JjID0gYGh0dHBzOi8vY291bnRyeWZsYWdzYXBpLmNvbS9wbmcvJHtjb3VudHJ5Q29kZX1gO1xuXHRcdFx0ZmxhZy5hbHQgPSBgJHtjb3VudHJ5TmFtZX0gZmxhZ2A7XG5cdFx0XHRyZXR1cm4gZmxhZztcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBmaWx0ZXJSZXN1bHRzKCkge1xuXHRcdFx0bGV0IGlucHV0LCBmaWx0ZXIsIHVsLCBsaSwgYSwgaSwgdHh0VmFsdWU7XG5cdFx0XHRpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtaW5wdXQtc2VhcmNoXCIpO1xuXHRcdFx0ZmlsdGVyID0gaW5wdXQudmFsdWUudG9VcHBlckNhc2UoKTtcblx0XHRcdHVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb3VudHJpZXMtbGlzdFwiKTtcblx0XHRcdGxpID0gdWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKTtcblxuXHRcdFx0Ly8gTG9naWMgdGhhdCBmaWx0ZXJzIHRoZSBjb3VudHJpZXMgYmFzZWQgb24gaW5wdXQuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGkubGVuZ3RoOyBpKyspIHtcblx0XHRcdFx0YSA9IGxpW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKVswXTtcblx0XHRcdFx0dHh0VmFsdWUgPSBhLnRleHRDb250ZW50IHx8IGEuaW5uZXJUZXh0O1xuXHRcdFx0XHRpZiAodHh0VmFsdWUudG9VcHBlckNhc2UoKS5pbmRleE9mKGZpbHRlcikgPiAtMSkge1xuXHRcdFx0XHRcdGxpW2ldLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpW2ldLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRmdW5jdGlvbiBoaWdobGlnaHRDdXJyQ291bnRyeShjb3VudHJ5TmFtZSkge1xuXHRcdC8vIEhpZ2hsaWdodCBzZWxlY3RlZCBjdXJyZW50IGNvdW50cnkgaW4gdGhlIGxpc3Qgb2YgY291bnRyaWVzIHdoZW5cblx0XHQvLyBtb2RhbCBpcyBvcGVuZWQuIEFkZCBhIHRpY2sgaWNvbiBzaW11bHRhbmVvdXNseVxuXG5cdFx0bGV0IHVsLCBsaSwgaSwgYSwgdHh0VmFsdWU7XG5cdFx0dWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvdW50cmllcy1saXN0XCIpO1xuXHRcdGNvbnNvbGUubG9nKHVsKTtcblx0XHRsaSA9IHVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlcIik7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGxpLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRhID0gbGlbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhXCIpWzBdO1xuXHRcdFx0dHh0VmFsdWUgPSBhLnRleHRDb250ZW50IHx8IGEuaW5uZXJUZXh0O1xuXHRcdFx0aWYgKHR4dFZhbHVlID09PSBjb3VudHJ5TmFtZSkge1xuXHRcdFx0XHRsaVtpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMjUsIDE1MCwgMTUwLCAwLjUpXCI7XG5cdFx0XHRcdGxpW2ldLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMS4wMjUpXCI7XG5cdFx0XHRcdGNvbnN0IHRpY2tJY29uID0gcmVuZGVyRWxlbWVudCgnaScsICdmYScpO1xuXHRcdFx0XHR0aWNrSWNvbi5jbGFzc0xpc3QuYWRkKCdmYS1jaGVjaycpO1xuXHRcdFx0XHRsaVtpXS5hcHBlbmQodGlja0ljb24pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHNlY3Rpb24sXG5cdFx0YWRkVG9TZWN0aW9uLFxuXHRcdGRyYXdBbGwsXG5cdFx0ZHJhd0ludHJvLFxuXHRcdGRyYXdTdWJJbmZvcyxcblx0XHRkcmF3UHJvdmlkZXJzLFxuXHR9O1xufTtcblxuZXhwb3J0IHsgZHJhd1NlY3Rpb24gfTtcbiIsImltcG9ydCBjb2xsZWN0U2VhcmNoUXVlcnkgZnJvbSBcIi4vc2VhcmNoXCI7XG5pbXBvcnQgeyBmZXRjaElkcyB9IGZyb20gXCIuLi9hcGlGdW5jdGlvbnMvZmV0Y2hJZFwiO1xuaW1wb3J0ICogYXMgbW92aWUgZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mb1wiO1xuaW1wb3J0IHsgZHJhd1NlY3Rpb24gfSBmcm9tIFwiLi9kcmF3U2VjdGlvblwiO1xuXG5hc3luYyBmdW5jdGlvbiBkcmF3U2VjdGlvbnModGl0bGUpIHtcblx0Y29uc3QgaWRzID0gYXdhaXQgZmV0Y2hJZHModGl0bGUpO1xuXHRjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTtcblx0bGV0IHNlY3Rpb25zID0gW107XG5cblx0Ly8gTWFrZSBhbiBhcnIgdy8gZWxlbXMgb2YgW2lkLCBtZWRpYV1cblx0Zm9yIChsZXQgaWQgaW4gaWRzKSB7XG5cdFx0Ly8gVGVtcCBtYWtlIGl0IHNvIHRoYXQgaXQgb25seSBhY2NlcHRzIG1vdmllc1xuXG5cdFx0aWRzW2lkXSA9PT0gXCJtb3ZpZVwiID8gc2VjdGlvbnMucHVzaChbaWQsIGlkc1tpZF1dKSA6IFwiXCI7XG5cdH1cblxuXHRzZWN0aW9ucy5mb3JFYWNoKFxuXHRcdGFzeW5jIChzZWN0aW9uKSA9PiBhd2FpdCByZW5kZXJTZWN0aW9uKHNlY3Rpb25bMF0sIHNlY3Rpb25bMV0pXG5cdCk7XG5cblx0YXN5bmMgZnVuY3Rpb24gcmVuZGVyU2VjdGlvbihpZCwgbWVkaWEpIHtcblx0XHRjb25zdCBzZWN0aW9uID0gYXdhaXQgZHJhd1NlY3Rpb24oaWQsIG1lZGlhKTtcblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihzZWN0aW9uLmRyYXdJbnRybyhcIjMwMFwiKSk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3U3ViSW5mb3MoKSk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3UHJvdmlkZXJzKCkpO1xuXHRcdG1haW4uYXBwZW5kQ2hpbGQoc2VjdGlvbi5zZWN0aW9uKTtcblx0XHRyZXR1cm4gcmVuZGVyU2VjdGlvbjtcblx0fVxufVxuXG5mdW5jdGlvbiBjbGVhclNlY3Rpb25zKCkge1xuXHRjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTtcblx0bWFpbi5pbm5lckhUTUwgPSBcIlwiO1xufVxuXG5leHBvcnQgeyBkcmF3U2VjdGlvbnMsIGNsZWFyU2VjdGlvbnMgfTtcbiIsImltcG9ydCB7IGRyYXdTZWN0aW9ucyB9IGZyb20gXCIuL2pzL0RPTUZ1bmN0aW9ucy9kcmF3U2VjdGlvbnNcIjtcbmltcG9ydCBhZGRTdWJtaXRTZWFyY2hGbmMgZnJvbSBcIi4vanMvVUkvc3VibWl0U2VhcmNoXCI7XG5cbmNvbnNvbGUubG9nKFwiSGVsbG8gV29ybGRcIik7XG4vLyBmZXRjaElkcygnSVJPTiBNQU4nKTtcblxuLy8gZmV0Y2hNb3ZpZUR1bW15KDE3MjYpO1xuLy8gZmV0Y2hNb3ZpZUR1bW15KDMwOTcpOyAvLyBmYWlsIHRvIGZldGNoIGJlY2F1c2UgaXRzIHR2LlxuLy8gZmV0Y2hNb3ZpZUR1bW15KDEwMTM4KTtcbi8vIGZldGNoTW92aWVEdW1teSg2ODcyMSk7XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVEdW1teShpZCkge1xuLy8gICAgIGNvbnN0IG1vdmllRGV0YWlscyA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVEZXRhaWxzKGlkKTtcbi8vICAgICBjb25zdCBtb3ZpZVJlY2NvcyA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVSZWNjb3MoaWQpO1xuLy8gICAgIGNvbnN0IG1vdmllUHJvdmlkZXJzID0gYXdhaXQgbW92aWUuZmV0Y2hNb3ZpZVByb3ZpZGVycyhpZCk7XG4vLyAgICAgY29uc3QgbW92aWVUcmFpbGVyID0gYXdhaXQgbW92aWUuZmV0Y2hNb3ZpZVRyYWlsZXIoaWQpO1xuLy8gICAgIGNvbnN0IG1vdmllUmV2aWV3cyA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVSZXZpZXdzKGlkKTtcbi8vICAgICBjb25zb2xlLmxvZyhtb3ZpZURldGFpbHMpO1xuLy8gICAgIGNvbnNvbGUubG9nKG1vdmllUmVjY29zKTtcbi8vICAgICBjb25zb2xlLmxvZyhtb3ZpZVByb3ZpZGVycyk7XG4vLyAgICAgY29uc29sZS5sb2cobW92aWVUcmFpbGVyKTtcbi8vICAgICBjb25zb2xlLmxvZyhtb3ZpZVJldmlld3MpO1xuLy8gfVxuXG4vLyBhZGRTdWJtaXRTZWFyY2hGdW5jdGlvbigpO1xuXG5hZGRTdWJtaXRTZWFyY2hGbmMoKTtcbmRyYXdTZWN0aW9ucyhcImlyb24gbWFuXCIpO1xuLy8gZHJhd1NlY3Rpb25zKFwicGVlIG1ha1wiKTtcbiIsImltcG9ydCB7IGRyYXdTZWN0aW9ucywgY2xlYXJTZWN0aW9ucyB9IGZyb20gXCIuLi9ET01GdW5jdGlvbnMvZHJhd1NlY3Rpb25zXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGFkZFN1Ym1pdFNlYXJjaEZuYygpIHtcblx0Y29uc3Qgc2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtcXVlcnlcIik7XG5cdHNlYXJjaEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y29uc3QgcXVlcnkgPSBpbnRlcnByZXRUb1F1ZXJ5KFxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1zZWFyY2hcIikudmFsdWVcblx0XHQpO1xuXHRcdGlmICghcXVlcnkpIHtcblx0XHRcdGFsZXJ0KFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgbW92aWUvdHYgc2hvd1wiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y2xlYXJTZWN0aW9ucygpO1xuXHRcdGF3YWl0IGRyYXdTZWN0aW9ucyhxdWVyeSk7XG5cblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1xdWVyeVwiKS52YWx1ZSA9IFwiXCI7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIrXCIpO1xufVxuIl0sIm5hbWVzIjpbIkFQSV9LRVkiLCJhc3luYyIsImZldGNoTW92aWVEZXRhaWxzIiwibW92aWVfaWQiLCJyZXNwb25zZSIsImZldGNoIiwibW9kZSIsImRhdGEiLCJqc29uIiwiZ2VucmVzIiwicmVkdWNlIiwiYWNjIiwidmFsIiwibmFtZSIsIm1OYW1lIiwib3JpZ2luYWxfdGl0bGUiLCJzdW1tYXJ5Iiwib3ZlcnZpZXciLCJ0YWdsaW5lIiwicG9wdWxhcml0eSIsInZvdGVfYXZlcmFnZSIsInZvdGVfY291bnQiLCJ2aWRlbyIsInJ1bnRpbWUiLCJwb3N0ZXJfcGF0aCIsImJhY2tkcm9wX3BhdGgiLCJlcnIiLCJhbGVydCIsImZldGNoTW92aWVSZWNjb3MiLCJyZWNNb3ZpZXMiLCJyZXN1bHRzIiwiY291bnQiLCJtb3ZpZSIsImlkIiwiZmV0Y2hNb3ZpZVByb3ZpZGVycyIsInByb3ZpZGVyc0J5Q291bnRyeSIsImNvdW50cnlDb2RlIiwiY291bnRyeSIsImNvZGUiLCJJbnRsIiwiRGlzcGxheU5hbWVzIiwidHlwZSIsIm9mIiwic3RyZWFtIiwicmVudCIsImJ1eSIsInNvcnRQcm92aWRlcnMiLCJzZXJ2aWNlcyIsImNvbGxlY3Rpb24iLCJmb3JFYWNoIiwic2VydmljZSIsInByb3ZpZGVySW5mbyIsInByb3ZpZGVyX25hbWUiLCJwcm92aWRlcl9sb2dvX3BhdGgiLCJsb2dvX3BhdGgiLCJwdXNoIiwiZmxhdHJhdGUiLCJmZXRjaE1vdmllVHJhaWxlciIsIm1vdmllVHJhaWxlciIsInRyYWlsZXJzIiwiZmlsdGVyIiwibGVuZ3RoIiwib2ZmaWNpYWwiLCJrZXkiLCJzaXRlIiwibGFuZyIsImlzb182MzlfMSIsImZldGNoTW92aWVSZXZpZXdzIiwicmV2aWV3cyIsInJldmlldyIsImF1dGhvciIsInJhdGluZyIsImF1dGhvcl9kZXRhaWxzIiwicGljX3BhdGgiLCJhdmF0YXJfcGF0aCIsImNvbnRlbnQiLCJ1cmwiLCJsYXN0X3VwZGF0ZWQiLCJ1cGRhdGVkX2F0Iiwic2xpY2UiLCJkcmF3U2VjdGlvbiIsIm1lZGlhIiwic2VjdGlvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRldGFpbHMiLCJnZXRJbmZvIiwicHJvdmlkZXJzIiwiYWRkVG9TZWN0aW9uIiwicGFydCIsImFwcGVuZENoaWxkIiwicmVuZGVyRWxlbWVudCIsInRhZyIsImNsYXNzTmFtZSIsImNvbnRhaW5lciIsImNsYXNzTGlzdCIsImFkZCIsIm1vdmllRm5jIiwidHZGbmMiLCJjb25zb2xlIiwibG9nIiwiZHJhd0ludHJvIiwiaW1nU2l6ZSIsImludHJvQ29udGFpbmVyIiwidGl0bGUiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRpdGxlIiwidGFnUGFyYSIsIndyaXRlVGFnbGluZSIsImltZyIsInBvc3RlciIsImJhc2VJbWdVcmwiLCJpbWdfcGF0aCIsInNyYyIsImFsdCIsInNldEF0dHJpYnV0ZSIsInJlbmRlckltZyIsInBhcmEiLCJ3cml0ZVN1bW1hcnkiLCJkcmF3QWxsIiwiZHJhd1N1YkluZm9zIiwiY3JlYXRlU3ViSW5mbyIsImNhdGVnb3J5IiwiaW5mbyIsInN1YkluZm8iLCJjYXRlZ29yeU5hbWUiLCJjYXRlZ29yeUluZm8iLCJqb2luIiwibWlucyIsImhvdXJzIiwickhvdXJzIiwiTWF0aCIsImZsb29yIiwibWludXRlcyIsInJvdW5kIiwiY29udmVydE1pblRvSHIiLCJkcmF3UHJvdmlkZXJzIiwiYXZhaWxQcm92aWRlcnMiLCJwcm92aWRlckNvbnRhaW5lciIsImNvdW50cnlCdG4iLCJob3VzZUNvbnRhaW5lciIsImVsZW0iLCJPYmplY3QiLCJrZXlzIiwiaW5jbHVkZXMiLCJkcmF3UHJvdmlkZXIiLCJmaXJzdFByb3ZpZGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImN1cnJDb3VudHJ5TmFtZSIsInByb3ZpZGVyQ291bnRyaWVzIiwiY3VyckNvdW50cnlDb2RlIiwiY291bnRyaWVzIiwibW9kYWxDb250YWluZXIiLCJtb2RhbEhlYWRlciIsIm1vZGFsQm9keSIsIm1vZGFsQ3VycmVudENvdW50cnkiLCJtb2RhbElucHV0U2VhcmNoIiwibW9kYWxMaXN0Q291bnRyaWVzIiwibW9kYWxDbG9zZUJ0biIsInJlbmRlckNvdW50cnlGbGFnIiwiY291bnRyeU5hbWUiLCJmbGFnIiwiZmlsdGVyUmVzdWx0cyIsImlucHV0IiwidWwiLCJsaSIsImEiLCJpIiwidHh0VmFsdWUiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwidG9VcHBlckNhc2UiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlubmVyVGV4dCIsImluZGV4T2YiLCJzdHlsZSIsImRpc3BsYXkiLCJoZWFkaW5nIiwiY3VyckNvdW50cnkiLCJzZWFyY2hMYWJlbCIsInNlYXJjaEF0dHJpYnV0ZXMiLCJwbGFjZWhvbGRlciIsInJvbGUiLCJjdXJyQ291bnRyeUZsYWciLCJodG1sRm9yIiwiZm9ybUVsZW0iLCJyZW5kZXJIZWFkaW5nIiwiY291bnRyeUNvbnRhaW5lciIsImNvdW50cnlGbGFnIiwiY291bnRyeUVsZW0iLCJyZW5kZXJCb2R5IiwiY2xvc2VGbmMiLCJjbG9zZVN5bWIiLCJyZW5kZXJDbG9zZUJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmUiLCJtb2RhbEVsZW0iLCJhcHBlbmQiLCJyZW5kZXJDb3VudHJpZXNNb2RhbCIsImJhY2tncm91bmRDb2xvciIsInRyYW5zZm9ybSIsInRpY2tJY29uIiwiaGlnaGxpZ2h0Q3VyckNvdW50cnkiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2VsZWN0ZWRDb3VudCIsImxhc3RDaGlsZCIsImlubmVySFRNTCIsInN0cmVhbUluZm8iLCJidXlJbmZvIiwicmVudEluZm8iLCJzZXJ2aWNlTmFtZXMiLCJpZHgiLCJzZXJ2aWNlQ29udGFpbmVyIiwic2VydmljZU5hbWUiLCJzZXJ2aWNlTmFtZUJvbGQiLCJwcm92aWRlclNlcnZpY2VDb250YWluZXIiLCJwcm92aWRlciIsInByb3ZpZGVyU2VydmljZSIsInByb3ZpZGVySW1nIiwicHJvdmlkZXJOYW1lIiwiZHJhd1NlY3Rpb25zIiwiaWRzIiwicXVlcnkiLCJzcGxpdCIsImludGVycHJldFRvUXVlcnkiLCJyZXN1bHQiLCJzb3J0IiwicDEiLCJwMiIsIm1lZGlhX3R5cGUiLCJmZXRjaElkcyIsIm1haW4iLCJzZWN0aW9ucyIsInJlbmRlclNlY3Rpb24iLCJhZGRTdWJtaXRTZWFyY2hGbmMiXSwic291cmNlUm9vdCI6IiJ9