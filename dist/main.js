(()=>{"use strict";const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("show")}))})),t="720d2150cf09bfa61e28a5042cd7468f",n="720d2150cf09bfa61e28a5042cd7468f";async function a(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${n}\n\t\t\t&language=en-US`,{mode:"cors"}),{original_title:a,overview:o,tagline:r,popularity:i,vote_average:s,vote_count:c,genres:d,video:l,runtime:p,poster_path:u,backdrop_path:m,release_date:h}=await t.json();return{mName:a,summary:o,tagline:r,popularity:i,vote_average:s,vote_count:c,genres:d.map((e=>e.name)),video:l,runtime:p,poster_path:u,backdrop_path:m,release_date:h}}catch(e){console.error(`Failed to fetch movie details ${e.message}`)}}async function o(e){try{const t=await fetch(`https://api.themoviedb.org/3/movie/${e}/recommendations\n\t\t\t?api_key=${n}&language=en-US&page=1`,{mode:"cors"});if(!t.ok)throw new Error("Failed to fetch movie recommendations from API.");return(await t.json()).results.slice(0,5).map((e=>({mName:e.original_title,id:e.id,poster_path:e.poster_path,backdrop_path:e.backdrop_path,release_date:e.release_date,vote_count:e.vote_count,vote_average:e.vote_average})))}catch(e){console.error(`Failed to fetch movie recommendations: ${e.message}`)}}async function r(e){const t={};try{const o=await fetch(`https://api.themoviedb.org/3/movie/${e}/watch/providers\n\t\t\t?api_key=${n}`,{mode:"cors"}),r=await o.json();for(const e in r.results){const n=(a=e,new Intl.DisplayNames(["en"],{type:"region"}).of(a));t[n]={stream:[],rent:[],buy:[],countryCode:e};const o=(e,t)=>{e&&e.forEach((e=>{const n={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(n)}))};o(r.results[e].flatrate,t[n].stream),o(r.results[e].rent,t[n].rent),o(r.results[e].buy,t[n].buy)}return t}catch(e){console.erroror(`Failed to fetch movie providers: ${e.message}`)}var a}async function i(e){try{const a=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=\n\t\t\t${n}&mode=cors`);if(!a.ok)throw new Error("Failed to fetch movie trailers from API.");const o=(await a.json()).results.filter((e=>"Trailer"===e.type));if(0===o.length)return;const r=o.find((e=>!0===e.official))||o[0];return{tName:r.name,key:r.key,site:r.site,type:r.type,lang:(t=r.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(t))}}catch(e){console.error(`Failed to fetch movie trailers: ${e.message}`)}var t}async function s(e){try{let t=[];const a=await fetch(`https://api.themoviedb.org/3/movie/${e}/reviews?api_key=\n\t\t\t${n}&language=en-US&page=1`,{mode:"cors"}),o=await a.json();return 0!==o.results.length&&(o.results.forEach((e=>{t.push({author:e.author,rating:e.author_details.rating,pic_path:e.author_details.avatar_path,content:e.content,url:e.url,last_updated:e.updated_at})})),t.slice(0,5))}catch(e){console.error(`Fail to fetch movie reviews: ${e.message}`)}}const c="720d2150cf09bfa61e28a5042cd7468f";async function d(e){try{const t=await fetch(`https://api.themoviedb.org/3/tv/${e}?api_key=${c}\n\t\t\t&language=en-US`,{mode:"cors"});if(!t.ok)throw new Error("Failed to fetch TV details from API.");const n=await t.json(),a=n.genres.reduce(((e,t)=>[...e,t.name]),[]);return{tName:n.original_name,tagline:n.tagline,language:n.original_language,summary:n.overview,episode_run_time:n.episode_run_time[0],origin_country:n.origin_country,vote_average:n.vote_average,vote_count:n.vote_count,status:n.status,seasons:n.seasons,number_of_seasons:n.number_of_seasons,first_air_date:n.first_air_date,last_air_date:n.last_air_date,backdrop_path:n.backdrop_path,poster_path:n.poster_path,popularity:n.popularity,genres:a}}catch(e){console.error(`Failed to fetch relevant information for TV SHOW: ${e.message}`)}}async function l(e){try{const t=await fetch(`https://api.themoviedb.org/3/tv/${e}/recommendations?api_key=${c}&language=en-US&page=1`,{mode:"cors"});if(!t.ok)throw new Error("Failed to fetch TV recommendations from API.");const n=(await t.json()).results?.slice(0,5).reduce(((e,t)=>(e[t.original_name]={tName:t.original_name,id:t.id,first_air_date:t.first_air_date,poster_path:t.poster_path,backdrop_path:t.backdrop_path,vote_average:t.vote_average,vote_count:t.vote_count},e)),{});return n||{}}catch(e){console.error(`Failed to fetch TV recommendations: ${e.message}`)}}async function p(e){const t={};try{const a=await fetch(`https://api.themoviedb.org/3/tv/${e}/watch/providers?api_key=${c}`,{mode:"cors"});if(!a.ok)throw new Error("Failed to fetch TV show providers from API.");const o=await a.json();for(const e in o.results){const a=(n=e,new Intl.DisplayNames(["en"],{type:"region"}).of(n));t[a]={stream:[],rent:[],buy:[],countryCode:e};const r=(e,t)=>{e&&e.forEach((e=>{const n={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(n)}))};r(o.results[e].flatrate,t[a].stream),r(o.results[e].rent,t[a].rent),r(o.results[e].buy,t[a].buy)}return t}catch(e){console.error(`Failed to fetch TV providers: ${e.message}`)}var n}async function u(e){try{const n=await fetch(`https://api.themoviedb.org/3/tv/${e}/videos?api_key=${c}`,{mode:"cors"});if(!n.ok)throw new Error("Failed to fetch TV trailer from API.");const a=(await n.json()).results.filter((e=>"Trailer"===e.type));if(0===a.length)return;const o=a.find((e=>!0===e.official))||a[0];return{tName:o.name,key:o.key,site:o.site,type:o.type,lang:(t=o.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(t))}}catch(e){console.error(`Failed to fetch TV trailer: ${e.message}`)}var t}async function m(e){try{const t=await fetch(`https://api.themoviedb.org/3/tv/${e}/reviews?api_key=\n\t\t\t${c}&language=en-US&page=1`,{mode:"cors"});if(!t.ok)throw new Error("Failed to fetch TV reviews from API.");const n=await t.json();return 0!==n.results.length&&n.results.map((e=>({author:e.author,rating:e.author_details?.rating,pic_path:e.author_details?.avatar_path,content:e.content,url:e.url,last_updated:e.updated_at}))).slice(0,5)}catch(e){console.error(`Failed to fetch TV reviews: ${e.message}`)}}const h=async(e,t)=>{const n=document.createElement("section"),c=await b(e,a,d),h=await b(e,o,l),y=await b(e,r,p),v=await b(e,i,u),_=await b(e,s,m);function w(e){e&&n.appendChild(e)}function C(e,t){const n=document.createElement(e);return n.classList.add(t),n}async function b(e,n,a){return"movie"===t?await n(e):await a(e)}n.classList.add("section-container");const E=e=>{const t=document.createElement("div");t.classList.add("intro"),t.appendChild(function(){const e=document.createElement("h1");return e.textContent=c.mName?c.mName:c.tName,e.classList.add("title"),e}()),c.tagline&&t.appendChild(function(){const e=document.createElement("em");return e.textContent=`"${c.tagline}"`,e.classList.add("tagline"),e}());const n=function(e=""){const t=document.createElement("img"),n="https://image.tmdb.org/t/p";let a;if(t.classList.add("poster"),c.poster_path)a=c.poster_path;else{if(!c.backdrop_path)return;a=c.backdrop_path}return t.src=e?`${n}/w${e}/${a}`:`${n}/original/${a}`,t.alt="Movie picture poster",t.setAttribute("loading","lazy"),t}(e);return n&&t.appendChild(n),t},$=e=>{const t=C("div","rec-container"),n=C("img","rec-poster"),a=C("div","rec-info");n.src=`https://image.tmdb.org/t/p/w300/${e.poster_path}`,t.appendChild(n),function(e){if(e){const t=C("p","rec-name"),n=C("p","rec-date"),a=C("p","rec-vote-count"),o=C("p","rec-vote-avg");return t.textContent=e.tName?`Name: ${e.tName}`:`Name: ${e.mName}`,n.textContent=e.first_air_date?`First Air Date: ${e.first_air_date}`:`Release Date: ${e.release_date}`,a.textContent=`Vote Count: ${e.vote_count}`,o.textContent=`Vote Avg: ${e.vote_average}`,[t,n,a,o]}}(e).forEach((e=>a.appendChild(e)));const o=C("a","rec-link"),r=e.tName?"TV Show":"Movie";return o.textContent=`Search for this ${r} -> `,o.addEventListener("click",(async t=>{t.preventDefault(),g(),e.tName?await f(e.tName):await f(e.mName)})),a.appendChild(o),t.appendChild(a),t};return{section:n,addToSection:w,drawAll:function(){w(E())},drawIntro:E,drawSubInfos:()=>{const e=document.createElement("div");let t,n;e.classList.add("subinfo-container"),c.release_date?(t=o("Release Date:",c.release_date.split("-").reverse().join("/")),n=""):c.first_air_date?(t=o("First Aired: ",c.first_air_date.split("-").reverse().join("/")),n=o("Last Aired: ",c.last_air_date.split("-").reverse().join("/"))):t="";let a=c.runtime?function(e){const t=e/60,n=Math.floor(t),a=60*(t-n);return`${n}h ${Math.round(a)}min`}(c.runtime):"";function o(e,t){if(!t)return;const n=document.createElement("div"),a=document.createElement("span"),o=document.createElement("span");return n.classList.add("sub-info"),a.classList.add("category-name"),o.classList.add("category-info"),a.textContent=e,o.textContent=t,[a,o].forEach((e=>n.appendChild(e))),n}return[t,n,o("Show status:",c.status),o("Runtime: ",a),o("Genres: ",c.genres.join(", ")),o("Number of seasons: ",c.number_of_seasons),o("Est Avg Episode Runtime: ",c.episode_run_time),o("Country of Origin: ",c.origin_country),o("Vote Average: ",c.vote_average),o("Vote Count: ",c.vote_count),o("Popularity: ",c.popularity)].forEach((t=>t?e.appendChild(t):"")),e},drawSummaryHeading:()=>{const e=document.createElement("h2");return e.textContent="Synopsis: ",e},drawSummary:()=>{const e=document.createElement("p");return e.textContent=c.summary,e.classList.add("summary"),e},drawProviders:()=>{let e;const t=C("div","provider-container"),n=C("button","country-btn"),a=C("div","house-provider-container");if([n,a].forEach((e=>{t.appendChild(e)})),Object.keys(y).length)if(e=!0,Object.keys(y).includes("Australia")){const e=C("img","country-flag");e.setAttribute("crossorigin","anonymous"),e.src="https://countryflagsapi.com/png/Australia",e.alt="Australia flag",e.classList.add("btn-country-flag"),r("Australia"),n.textContent="Australia",n.appendChild(e)}else{const e=Object.keys(y)[0];try{const t=C("img","country-flag");t.setAttribute("crossorigin","anonymous"),t.src=`https://countryflagsapi.com/png/${e}`,t.alt=`${e} flag`,t.classList.add("btn-country-flag"),n.appendChild(t)}catch(e){console.log(e)}r(e),n.textContent=`${e}`}else{e=!1,n.textContent="No countries offer this tv/movie at the moment.",n.classList.add("lost-providers");const t=C("img","lost-gif");t.src="./img/lost-gif.gif",t.alt="Prover cannot be found picture.",a.style.display="flex",a.style.justifyContent="center",a.appendChild(t)}const o=C("i","fas");return o.classList.add("fa-angle-down"),n.appendChild(o),n.addEventListener("click",(t=>{t.preventDefault(),e&&(function(e){const t=Object.keys(y);let n,a={};t.forEach((t=>{a[t]=y[t].countryCode,e===t&&(n=y[t].countryCode)}));const o=C("form","modal-country-container"),r=C("div","modal-header"),i=C("div","modal-body"),s=C("div","modal-current-country"),c=C("input","modal-input-search"),d=C("ul","modal-list-countries"),l=C("button","modal-close-btn");function p(e,t){const n=C("img","country-flag");return n.setAttribute("crossorigin","anonymous"),n.src=`https://countryflagsapi.com/png/${e}`,n.alt=`${t} flag`,n}function u(){let e,t,n,a,o,r,i;for(e=document.getElementById("modal-input-search"),t=e.value.toUpperCase(),n=document.getElementById("countries-list"),a=n.getElementsByTagName("li"),r=0;r<a.length;r++)o=a[r].getElementsByTagName("a")[0],i=o.textContent||o.innerText,i.toUpperCase().indexOf(t)>-1?a[r].style.display="":a[r].style.display="none"}(()=>{const t=document.createElement("h2");t.textContent="Countries";const a=document.createElement("h3"),o=document.createElement("label"),i={id:"modal-input-search",type:"search",placeholder:"ðŸ” Search for countries...",title:"Type in a country name",role:"search"};for(let e in i)c.setAttribute(e,i[e]);c.addEventListener("keyup",u),c.addEventListener("submit",(e=>{e.preventDefault()}));const d=p(n,e);a.textContent=e,s.appendChild(d),s.appendChild(a),o.htmlFor=`${c.id}`,[t,s,o,c].forEach((e=>{r.appendChild(e)}))})(),(()=>{d.id="countries-list";for(let e in a){let t=a[e];const n=C("li","country-container"),o=p(t,e),r=C("a","country-name");r.textContent=e,r.setAttribute("href","#"),[o,r].forEach((e=>{n.appendChild(e)})),d.appendChild(n)}[d].forEach((e=>{i.appendChild(e)}))})(),(e=>{const t=C("i","fa");t.classList.add("fa-close"),l.appendChild(t),e()})((()=>{l.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(".modal-country-container");document.querySelector(".face-mask").style.display="none",setTimeout((function(){t.style.transform="translateY(-125%)"}),100),setTimeout((function(){t.style.opacity=0,t.style.visibility="hidden",t.remove()}),750)}))})),[r,i,l].forEach((e=>o.appendChild(e))),setTimeout((function(){o.style.visibility="visible",o.style.opacity=1,o.style.transform="translateY(0%)"}),100),document.querySelector("body").append(o),document.querySelector(".face-mask").style.display="block"}(n.textContent),function(e){let t,n,a,o,r;for(t=document.getElementById("countries-list"),n=t.getElementsByTagName("li"),a=0;a<n.length;a++)if(o=n[a].getElementsByTagName("a")[0],r=o.textContent||o.innerText,r===e){n[a].style.backgroundColor="rgba(25, 150, 150, 0.5)",n[a].style.transform="scale(1.025)";const e=C("i","fa");e.classList.add("fa-check"),n[a].append(e)}}(n.textContent),document.querySelectorAll(".country-container").forEach((e=>e.addEventListener("click",(t=>{if(t.preventDefault(),e.lastChild.textContent){const t=e.lastChild.textContent;a.innerHTML="",r(t)}document.querySelector(".modal-country-container").remove(),document.querySelector(".face-mask").style.display="none"})))))})),t;function r(e="Australia"){n.textContent=e;try{const t=C("img","country-flag");t.setAttribute("crossorigin","anonymous"),t.src=`https://countryflagsapi.com/png/${e}`,t.alt=`${e} flag`,t.classList.add("btn-country-flag"),n.appendChild(t)}catch(e){console.log(e)}const t=C("i","fas");t.classList.add("fa-angle-down"),n.appendChild(t);const o=y[e].stream,r=y[e].buy,i=y[e].rent,s=["Stream at:","Purchase at:","Rent at:"];let c=0;[o,r,i].forEach((e=>{const t=C("div","service-container"),n=C("div","service-name"),o=C("h2","service-name-bold"),r=C("div","provider-service-container");e.forEach((e=>{const t=C("div","provider-service"),n=C("img","provider-img"),a=C("span","provider-name");e.provider_logo_path&&(n.src=`https://image.tmdb.org/t/p/original/${e.provider_logo_path}`,n.alt=`${e.provider_name} picture.`,n.setAttribute("loading","lazy"),a.textContent=e.provider_name),[n,a].forEach((e=>{t.appendChild(e)})),r.appendChild(t)})),e.length&&(o.textContent=`${s[c]}`,n.appendChild(o)),c++,t.appendChild(n),t.appendChild(r),a.appendChild(t)}))}},drawReviews:()=>{if(!_)return;const e=C("div","review-container"),t=C("h2","review-title");return t.textContent="Reviews:",e.appendChild(t),_.forEach((t=>((e,t)=>{function n(t,n,a,o){const r=C(a,o);t&&(r.textContent=t),t===e.rating&&(r.textContent=e.rating?`${t}/10`:"Rating not provided.."),n.appendChild(r)}t.appendChild((()=>{const t=C("div","review-heading");if(e.pic_path){const n=C("img","author-pic");"http"!==e.pic_path.slice(1,5)?n.src=`https://image.tmdb.org/t/p/w300/${e.pic_path}`:n.src=e.pic_path.slice(1),n.alt=`${e.author} profile picture.`,t.appendChild(n)}return n(e.author,t,"h3","review-author"),n(e.rating,t,"span","review-rating"),t})()),t.appendChild((()=>{const t=C("p","review-content");return t.textContent=`"${e.content}"`,t})()),t.appendChild((()=>{const t=C("div","review-footer"),n=C("a","review-link"),a=C("span","review-updated");var o;return n.setAttribute("href",`${e.url}`),n.setAttribute("target","_blank"),n.textContent="Click for review link",a.textContent=`Last updated: ${o=e.last_updated,(o=o.split("-"))[2]=o[2].slice(0,2)+"/",o[2].concat(o.slice(0,2).reverse().join("/"))}`,t.appendChild(n),t.appendChild(a),t})())})(t,e))),e},drawTrailer:()=>{const e=C("div","trailer-container"),t=C("div","trailer-heading");if(v){(function(){const e=C("h2","trailer-name"),t=C("h3","trailer-lang");return e.textContent=`${v.tName}`,t.textContent=`Language: ${v.lang}`,[e,t]})().forEach((e=>t.appendChild(e))),e.appendChild(t);const n=C("div","video-wrapper");n.appendChild(function(e,t){const n=C("iframe","trailer-video"),a={loading:"lazy",width:"560",height:"315",src:`https://youtube.com/embed/${e}`,title:`${t} video player`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted media; gyroscope; picture-in-picture; web-share"};for(let e in a)n.setAttribute(e,a[e]),n.setAttribute("allowfullscreen",!0);return n}(v.key,v.site)),e.appendChild(n)}return e},drawRecs:()=>{const e=C("div","recs-container");if(0===Object.keys(h).length){const t=C("h4","no-review-msg");return t.textContent="No recommendations found.",e.appendChild(t),e.style="display: flex; justify-content: center;",e}for(let t in h)e.appendChild($(h[t]));return e}}};async function f(e){const n=await async function(e){const n=function(e){return e.split(" ").join("+")}(e);try{const a=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${t}\n\t\t\t&language=en-US&query=${n}&page=1`,{mode:"cors"}),o=await a.json();let r=o.results.reduce(((e,t)=>(e[t.id]=t.media_type,e)),{});return o.results.sort(((e,t)=>t.popularity-e.popularity)).length?r:void alert(`No results found for "${e}".\nPlease check your spelling.`)}catch(e){throw e}}(e),a=document.querySelector(".main-container");document.querySelector(".loader").style.visibility="visible";let o=[];for(let e in n)o.push([e,n[e]]);const r=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("show")}))}));o.forEach((async e=>{await async function(e,t){const n=await h(e,t),o=document.createElement("div");o.classList.add("intro-sub-info"),o.appendChild(n.drawIntro("300")),o.appendChild(n.drawSubInfos());const r=document.createElement("div");r.classList.add("synopsis-watch-providers"),r.appendChild(n.drawSummaryHeading()),r.appendChild(n.drawSummary()),r.appendChild(n.drawProviders());const i=document.createElement("h2");i.classList.add("rec-heading"),i.textContent="RECOMMENDATIONS:",n.addToSection(o),n.addToSection(r),n.addToSection(n.drawReviews()),n.addToSection(n.drawTrailer()),n.addToSection(i),n.addToSection(n.drawRecs()),a.appendChild(n.section)}(e[0],e[1]).then((()=>{document.querySelector(".loader").style.visibility="hidden"})),document.getElementById("check-animation").checked&&[...document.getElementsByTagName("div")].forEach((e=>{e.classList.add("hidden"),r.observe(e)}))})),document.getElementById("input-search").value=e.split("+").join(" ")}function g(){const e=document.querySelector(".main-container");document.querySelector(".loader"),[...e.getElementsByTagName("section")].forEach((e=>e.remove()))}(async function(){document.querySelector(".search-query").addEventListener("click",(async e=>{e.preventDefault();const t=document.getElementById("input-search").value.split(" ").join("+");t?(document.getElementById("title-page")&&document.getElementById("title-page").remove(),document.querySelector(".intro-container2")&&document.querySelector(".intro-container2").remove(),g(),await f(t)):alert("Please enter a valid movie/tv show")}))})(),function(){const t=document.getElementById("check-animation");t.addEventListener("click",(()=>{const n=document.querySelectorAll("div");t.checked?n.forEach((t=>{t.classList.add("hidden"),e.observe(t)})):n.forEach((t=>{t.classList.remove("hidden"),e.disconnect()}))}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LElBR3JCTSxFQUFTL1UsU0FBU3lVLElBQ2pCQSxFQUFHclUsVUFBVXdQLE9BQU8sVUFDcEIvUCxFQUFTbVYsWUFBWSxHQUV2QixHQUVGLENPcEJJQyxFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL1VJL2NoZWNrQW5pbWF0aW9uLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9hcGlGdW5jdGlvbnMvZmV0Y2hJZC5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvYXBpRnVuY3Rpb25zL2ZldGNoTW92aWVJbmZvLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9hcGlGdW5jdGlvbnMvZmV0Y2hUdkluZm8uanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL0RPTUZ1bmN0aW9ucy9kcmF3U2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvRE9NRnVuY3Rpb25zL2RyYXdTZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvVUkvc3VibWl0U2VhcmNoLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyIvLyBBZGQgY2xpY2sgZXZlbnQgbGlzdGVuZXIgZm9yIGNoZWNrYm94IHRoYXQgYXV0b21hdGljYWxseSBkaXNhYmxlcyBhbmltYXRpb25cbi8vIGFuZCByZWxvYWRzIHRoZSBwYWdlLlxuY29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcblx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0ZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHR9KTtcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBhZGRUb2dnbGVBbmltYXRpb25GbmMoKSB7XG5cdGNvbnN0IGFuaW1hdGlvbkNoZWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGVjay1hbmltYXRpb25cIik7XG5cdGFuaW1hdGlvbkNoZWNrLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG5cdFx0Y29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiZGl2XCIpO1xuXHRcdGlmIChhbmltYXRpb25DaGVjay5jaGVja2VkKSB7XG5cdFx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRlbC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuXHRcdFx0XHRvYnNlcnZlci5vYnNlcnZlKGVsKTtcblx0XHRcdH0pO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRlbGVtZW50cy5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRlbC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xuXHRcdFx0XHRvYnNlcnZlci5kaXNjb25uZWN0KCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xufVxuIiwiY29uc3QgQVBJX0tFWSA9IFwiNzIwZDIxNTBjZjA5YmZhNjFlMjhhNTA0MmNkNzQ2OGZcIjtcbi8qKlxuICogRmV0Y2hlcyB0aGUgZmlyc3QgcGFnZSBvZiB0aGUgbW92aWUvc2hvdyBpZHMgYW5kIHJldHVybnMgaXQgYXMgYW4gb2JqZWN0IHdpdGhcbiAqIHRoZSBtb3ZpZS90diBzaG93IGlkIGFuZCBpdCdzIG1lZGlhIHR5cGUgYXMga2V5LXZhbHVlIHBhaXJzLlxuICogQHBhcmFtIHtTdHJpbmd9IFx0bmFtZVx0VGhlIHNwZWNpZmljIG5hbWUgb2YgdGhlIG1vdmllL1RWIHNob3cuXG4gKiBAcmV0dXJuIHtPYmplY3R9XHRcdFx0VGhlIGxpc3Qgb2YgaWRzIGFuZCB0aGVpciByZXNwZWN0aXZlIG1lZGlhIHR5cGUgYXNcbiAqIFx0XHRcdFx0XHRcdFx0a2V5LXZhbHVlIHBhaXJzLlxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaElkcyhuYW1lKSB7XG5cdGNvbnN0IHF1ZXJ5ID0gaW50ZXJwcmV0VG9RdWVyeShuYW1lKTtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvc2VhcmNoL211bHRpP2FwaV9rZXk9JHtBUElfS0VZfVxuXHRcdFx0Jmxhbmd1YWdlPWVuLVVTJnF1ZXJ5PSR7cXVlcnl9JnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0bGV0IGlkcyA9IGRhdGEucmVzdWx0cy5yZWR1Y2UoKGFjYywgcmVzdWx0KSA9PiB7XG5cdFx0XHRhY2NbcmVzdWx0LmlkXSA9IHJlc3VsdC5tZWRpYV90eXBlO1xuXHRcdFx0cmV0dXJuIGFjYztcblx0XHR9LCB7fSk7XG5cblx0XHQvLyBTb3J0IG1vdmllL3Nob3cgYnkgcG9wdWxhcml0eS5cblx0XHRsZXQgcmVzdWx0ID0gZGF0YS5yZXN1bHRzLnNvcnQoXG5cdFx0XHQocDEsIHAyKSA9PiBwMi5wb3B1bGFyaXR5IC0gcDEucG9wdWxhcml0eVxuXHRcdCk7XG5cblx0XHRpZiAocmVzdWx0Lmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIGlkcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWxlcnQoXG5cdFx0XHRcdGBObyByZXN1bHRzIGZvdW5kIGZvciBcIiR7bmFtZX1cIi5cXG5QbGVhc2UgY2hlY2sgeW91ciBzcGVsbGluZy5gXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0dGhyb3cgZXJyO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGludGVycHJldFRvUXVlcnkobmFtZSkge1xuXHRyZXR1cm4gbmFtZS5zcGxpdChcIiBcIikuam9pbihcIitcIik7XG59XG5cbmV4cG9ydCB7IGZldGNoSWRzIH07XG4iLCJjb25zdCBBUElfS0VZID0gXCI3MjBkMjE1MGNmMDliZmE2MWUyOGE1MDQyY2Q3NDY4ZlwiO1xuXG4vKipcbiAqIEZldGNoZXMgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIGRldGFpbHMgb2YgYSBtb3ZpZSBhbmQgcmV0dXJuIG9ubHkgdGhlIG1vc3RcbiAqIHJlbGV2YW50IGluZm9ybWF0aW9uLlxuICogQHBhcmFtIHtOdW1iZXJ9IG1vdmllX2lkIElkZW50aWZpZXMgdGhlIG1vdmllIGFzIGFuIGludGVnZXJcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVEZXRhaWxzKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL21vdmllLyR7bW92aWVfaWR9P2FwaV9rZXk9JHtBUElfS0VZfVxuXHRcdFx0Jmxhbmd1YWdlPWVuLVVTYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3Qge1xuXHRcdFx0b3JpZ2luYWxfdGl0bGUsXG5cdFx0XHRvdmVydmlldyxcblx0XHRcdHRhZ2xpbmUsXG5cdFx0XHRwb3B1bGFyaXR5LFxuXHRcdFx0dm90ZV9hdmVyYWdlLFxuXHRcdFx0dm90ZV9jb3VudCxcblx0XHRcdGdlbnJlcyxcblx0XHRcdHZpZGVvLFxuXHRcdFx0cnVudGltZSxcblx0XHRcdHBvc3Rlcl9wYXRoLFxuXHRcdFx0YmFja2Ryb3BfcGF0aCxcblx0XHRcdHJlbGVhc2VfZGF0ZSxcblx0XHR9ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgZ2VucmVOYW1lcyA9IGdlbnJlcy5tYXAoKGdlbnJlKSA9PiBnZW5yZS5uYW1lKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRtTmFtZTogb3JpZ2luYWxfdGl0bGUsXG5cdFx0XHRzdW1tYXJ5OiBvdmVydmlldyxcblx0XHRcdHRhZ2xpbmUsXG5cdFx0XHRwb3B1bGFyaXR5LFxuXHRcdFx0dm90ZV9hdmVyYWdlLFxuXHRcdFx0dm90ZV9jb3VudCxcblx0XHRcdGdlbnJlczogZ2VucmVOYW1lcyxcblx0XHRcdHZpZGVvLFxuXHRcdFx0cnVudGltZSxcblx0XHRcdHBvc3Rlcl9wYXRoLFxuXHRcdFx0YmFja2Ryb3BfcGF0aCxcblx0XHRcdHJlbGVhc2VfZGF0ZSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFNxdWFzaGVkXG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIG1vdmllIGRldGFpbHMgJHtlcnJvci5tZXNzYWdlfWApO1xuXHR9XG59XG5cbi8qKlxuICogUmV1cm5zIG1vdmllIHJlY29tbWVuZGF0aW9ucyBhcyBhbiBvYmplY3Qgd2l0aCBpdHMgcmVsZXZhbnQgaW5mb3JtYXRpb24uXG4gKiBNYXhpbXVtIDUgbW92aWVzIGNhbiBiZSByZWNvbW1lbmRlZCBhbmQgdGhlIC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBtb3ZpZV9pZCBJZGVudGlmaWVzIHRoZSBtb3ZpZSBhcyBhbiBJbnRlZ2VyLlxuICogQHJldHVybnMge09iamVjdH1cdFx0QW4gb2JqZWN0IHRoYXQgaGFzIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiB3aXRoXG4gKiBcdFx0XHRcdFx0XHRcdGl0J3MgaW1hZ2VzLCB0aXRsZSwgaWQgYW5kIHJlbGV2YW50IHZvdGUgaW5mby5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVJlY2Nvcyhtb3ZpZV9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS9yZWNvbW1lbmRhdGlvbnNcblx0XHRcdD9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggbW92aWUgcmVjb21tZW5kYXRpb25zIGZyb20gQVBJLlwiKTtcblx0XHR9XG5cblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Ly8gT25seSByZXRyaWV2ZSB0aGUgaW5mbyBvbiB0aGUgZmlyc3QgNSBtb3ZpZSByZWNvbW1lbmRhdGlvbnMuXG5cdFx0Y29uc3QgcmVjY29zID0gZGF0YS5yZXN1bHRzLnNsaWNlKDAsIDUpLm1hcCgobW92aWUpID0+ICh7XG5cdFx0XHRtTmFtZTogbW92aWUub3JpZ2luYWxfdGl0bGUsXG5cdFx0XHRpZDogbW92aWUuaWQsXG5cdFx0XHRwb3N0ZXJfcGF0aDogbW92aWUucG9zdGVyX3BhdGgsXG5cdFx0XHRiYWNrZHJvcF9wYXRoOiBtb3ZpZS5iYWNrZHJvcF9wYXRoLFxuXHRcdFx0cmVsZWFzZV9kYXRlOiBtb3ZpZS5yZWxlYXNlX2RhdGUsXG5cdFx0XHR2b3RlX2NvdW50OiBtb3ZpZS52b3RlX2NvdW50LFxuXHRcdFx0dm90ZV9hdmVyYWdlOiBtb3ZpZS52b3RlX2F2ZXJhZ2UsXG5cdFx0fSkpO1xuXG5cdFx0cmV0dXJuIHJlY2Nvcztcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKFxuXHRcdFx0YEZhaWxlZCB0byBmZXRjaCBtb3ZpZSByZWNvbW1lbmRhdGlvbnM6ICR7ZXJyb3IubWVzc2FnZX1gXG5cdFx0KTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIChzdHJlYW1pbmcsIHB1cmNoYXNlIGFuZC9vciByZW50KSBvZiB0aGVcbiAqIG1vdmllIHByb3ZpZGVycy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBtb3ZpZV9pZCBJZGVudGlmaWVzIHRoZSBtb3ZpZSBhcyBhbiBJbnRlZ2VyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllUHJvdmlkZXJzKG1vdmllX2lkKSB7XG5cdGNvbnN0IHByb3ZpZGVyc0J5Q291bnRyeSA9IHt9O1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS93YXRjaC9wcm92aWRlcnNcblx0XHRcdD9hcGlfa2V5PSR7QVBJX0tFWX1gLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Zm9yIChjb25zdCBjb3VudHJ5Q29kZSBpbiBkYXRhLnJlc3VsdHMpIHtcblx0XHRcdGNvbnN0IGNvdW50cnkgPSBnZXRDb3VudHJ5TmFtZShjb3VudHJ5Q29kZSk7XG5cdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0gPSB7XG5cdFx0XHRcdHN0cmVhbTogW10sXG5cdFx0XHRcdHJlbnQ6IFtdLFxuXHRcdFx0XHRidXk6IFtdLFxuXHRcdFx0XHRjb3VudHJ5Q29kZTogY291bnRyeUNvZGUsXG5cdFx0XHR9O1xuXG5cdFx0XHQvKlxuXHRcdFx0U29ydHMgcHJvdmlkZXJzIGJhc2VkIG9uIGNvdW50cnkgYW5kIHNlcnZpY2VzIHRoZXkgcHJvdmlkZS5cblxuXHRcdFx0VGFrZXMgaW4gdHlwZSBvZiBzZXJ2aWNlcyBhcyBwYXJhbSA9PiBbXCJmbGF0cmF0ZSAoc3RyZWFtaW5nKVwiLCBcblx0XHRcdFwicmVudFwiLCBcImJ1eVwiXSBhbmQgYW4gYXJyYXkgdG8gYXBwZW5kIGl0IHRvLlxuXHRcdFx0Ki9cblx0XHRcdGNvbnN0IHNvcnRQcm92aWRlcnMgPSAoc2VydmljZXMsIGNvbGxlY3Rpb24pID0+IHtcblx0XHRcdFx0aWYgKHNlcnZpY2VzKSB7XG5cdFx0XHRcdFx0c2VydmljZXMuZm9yRWFjaCgoc2VydmljZSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJJbmZvID0ge1xuXHRcdFx0XHRcdFx0XHRwcm92aWRlcl9uYW1lOiBzZXJ2aWNlLnByb3ZpZGVyX25hbWUsXG5cdFx0XHRcdFx0XHRcdHByb3ZpZGVyX2xvZ29fcGF0aDogc2VydmljZS5sb2dvX3BhdGgsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0Y29sbGVjdGlvbi5wdXNoKHByb3ZpZGVySW5mbyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdC8vIEFkZCBzdHJlYW1pbmcgc2VydmljZXMgZm9yIHNwZWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLmZsYXRyYXRlLFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0uc3RyZWFtXG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBBZGQgcmVudGluZyBzZXJ2aWNlcyBmb3Igc3BlaWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLnJlbnQsXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5yZW50XG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBBZGQgYnV5aW5nIHNlcnZpY2VzIGZvciBzcGVjaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5idXksXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5idXlcblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBwcm92aWRlcnNCeUNvdW50cnk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcm9yKGBGYWlsZWQgdG8gZmV0Y2ggbW92aWUgcHJvdmlkZXJzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiBvZiB0aGUgbW92aWUgdHJhaWxlci4gVGhlIGlkIHNob3VsZCBhbHNvXG4gKiBiZSByZXRyaWV2ZWQgc28gdGhhdCB0aGUgdXNlciBjYW4gc2VhcmNoIGZvciB0aGUgbW92aWUgcmVzcGVjdGl2ZWx5LlxuICogQHBhcmFtIHtOdW1iZXJ9IG1vdmllX2lkIElkZW50aWZpZXMgdGhlIG1vdmllIGFzIGFuIEludGVnZXIuXG4gKiBAcmV0dXJucyB7T2JqZWN0fVx0XHRSZWxldmFudCBpbmZvIG9mIHRyYWlsZXIgaW5jbHVkaW5nIHZpZGVvIG5hbWUsIHNpdGVcbiAqIFx0XHRcdFx0XHRcdFx0bGFuZ3VhZ2UgYW5kIHR5cGUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVUcmFpbGVyKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL21vdmllLyR7bW92aWVfaWR9L3ZpZGVvcz9hcGlfa2V5PVxuXHRcdFx0JHtBUElfS0VZfSZtb2RlPWNvcnNgXG5cdFx0KTtcblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggbW92aWUgdHJhaWxlcnMgZnJvbSBBUEkuXCIpO1xuXHRcdH1cblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Ly8gRmluZCBhbGwgdHJhaWxlcnNcblx0XHRjb25zdCB0cmFpbGVycyA9IGRhdGEucmVzdWx0cy5maWx0ZXIoXG5cdFx0XHQodmlkZW8pID0+IHZpZGVvLnR5cGUgPT09IFwiVHJhaWxlclwiXG5cdFx0KTtcblx0XHRpZiAodHJhaWxlcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cblx0XHQvLyBGaW5kIG9mZmljaWFsIHRyYWlsZXIuT1IgdXNlIGZpcnN0IHRyYWlsZXJcblx0XHRjb25zdCBtb3ZpZVRyYWlsZXIgPVxuXHRcdFx0dHJhaWxlcnMuZmluZCgodmlkZW8pID0+IHZpZGVvLm9mZmljaWFsID09PSB0cnVlKSB8fCB0cmFpbGVyc1swXTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0TmFtZTogbW92aWVUcmFpbGVyLm5hbWUsXG5cdFx0XHRrZXk6IG1vdmllVHJhaWxlci5rZXksXG5cdFx0XHRzaXRlOiBtb3ZpZVRyYWlsZXIuc2l0ZSxcblx0XHRcdHR5cGU6IG1vdmllVHJhaWxlci50eXBlLFxuXHRcdFx0bGFuZzogZ2V0TGFuZ3VhZ2UobW92aWVUcmFpbGVyLmlzb182MzlfMSksXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggbW92aWUgdHJhaWxlcnM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IDUgcmV2aWV3cyB3aXRoIHRoZWlyIHJhdGluZ3MsIGF1dGhvciBpbmZvcm1hdGlvbiBhbmQgbGlua3MuXG4gKiBAcGFyYW0ge051bWJlcn0gbW92aWVfaWQgSWRlbnRpZmllcyB0aGUgbW92aWUgYXMgYW4gSW50ZWdlclxuICogQHJldHVybnMge09iamVjdH1cdFx0UmV2aWV3IGluZm9ybWF0aW9uIGluY2x1ZGluZyB0aGUgY29udGVudCwgYXV0aG9yLFxuICogXHRcdFx0XHRcdFx0XHRsaW5rcyBhbmQgcmF0aW5ncy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVJldmlld3MobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRsZXQgcmV2aWV3cyA9IFtdO1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS9yZXZpZXdzP2FwaV9rZXk9XG5cdFx0XHQke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0aWYgKGRhdGEucmVzdWx0cy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblxuXHRcdGRhdGEucmVzdWx0cy5mb3JFYWNoKChyZXZpZXcpID0+IHtcblx0XHRcdHJldmlld3MucHVzaCh7XG5cdFx0XHRcdGF1dGhvcjogcmV2aWV3LmF1dGhvcixcblx0XHRcdFx0cmF0aW5nOiByZXZpZXcuYXV0aG9yX2RldGFpbHMucmF0aW5nLFxuXHRcdFx0XHRwaWNfcGF0aDogcmV2aWV3LmF1dGhvcl9kZXRhaWxzLmF2YXRhcl9wYXRoLFxuXHRcdFx0XHRjb250ZW50OiByZXZpZXcuY29udGVudCxcblx0XHRcdFx0dXJsOiByZXZpZXcudXJsLFxuXHRcdFx0XHRsYXN0X3VwZGF0ZWQ6IHJldmlldy51cGRhdGVkX2F0LFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHJldmlld3Muc2xpY2UoMCwgNSk7IC8vIEZpcnN0IDUgcmV2aWV3cyByZXR1cm5lZFxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEZhaWwgdG8gZmV0Y2ggbW92aWUgcmV2aWV3czogJHtlcnJvci5tZXNzYWdlfWApO1xuXHR9XG59XG5cbi8vIEhlbHBlciBmbmNzXG5mdW5jdGlvbiBnZXRDb3VudHJ5TmFtZShjb2RlKSB7XG5cdGxldCByZWdpb25OYW1lcyA9IG5ldyBJbnRsLkRpc3BsYXlOYW1lcyhbXCJlblwiXSwgeyB0eXBlOiBcInJlZ2lvblwiIH0pO1xuXHRyZXR1cm4gcmVnaW9uTmFtZXMub2YoY29kZSk7XG59XG5cbmZ1bmN0aW9uIGdldExhbmd1YWdlKGNvZGUpIHtcblx0Y29uc3QgbGFuZyA9IG5ldyBJbnRsLkRpc3BsYXlOYW1lcyhbXCJlblwiXSwgeyB0eXBlOiBcImxhbmd1YWdlXCIgfSk7XG5cdHJldHVybiBsYW5nLm9mKGNvZGUpO1xufVxuZXhwb3J0IHtcblx0ZmV0Y2hNb3ZpZURldGFpbHMsXG5cdGZldGNoTW92aWVSZWNjb3MsXG5cdGZldGNoTW92aWVQcm92aWRlcnMsXG5cdGZldGNoTW92aWVUcmFpbGVyLFxuXHRmZXRjaE1vdmllUmV2aWV3cyxcblx0Z2V0Q291bnRyeU5hbWUsXG59O1xuIiwiY29uc3QgQVBJX0tFWSA9IFwiNzIwZDIxNTBjZjA5YmZhNjFlMjhhNTA0MmNkNzQ2OGZcIjtcblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiBvZiBhIHR2IHNob3cgYmFzZWQgb24gaXRzIGlkLlxuICogQHBhcmFtIHtOdW1iZXJ9IHR2X2lkIElkZW50aWZpZXMgdHYgc2hvdyBieSBhbiBpbnRlZ2VyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVx0IFJlbGV2YW50IGluZm9ybWF0aW9uIG9mIFRWIFNIT1cuIGkuZS4gbmFtZSBhbmQgbnVtYmVyXG4gKiBcdFx0XHRcdFx0XHQgc2Vhc29uc1xuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaFR2RGV0YWlscyh0dl9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy90di8ke3R2X2lkfT9hcGlfa2V5PSR7QVBJX0tFWX1cblx0XHRcdCZsYW5ndWFnZT1lbi1VU2AsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIFRWIGRldGFpbHMgZnJvbSBBUEkuXCIpO1xuXHRcdH1cblxuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRjb25zdCBnZW5yZXMgPSBkYXRhLmdlbnJlcy5yZWR1Y2UoKGFjYywgdmFsKSA9PiBbLi4uYWNjLCB2YWwubmFtZV0sIFtdKTtcblxuXHRcdGNvbnN0IGdlbmVyYWxJbmZvID0ge1xuXHRcdFx0dE5hbWU6IGRhdGEub3JpZ2luYWxfbmFtZSxcblx0XHRcdHRhZ2xpbmU6IGRhdGEudGFnbGluZSxcblx0XHRcdGxhbmd1YWdlOiBkYXRhLm9yaWdpbmFsX2xhbmd1YWdlLFxuXHRcdFx0c3VtbWFyeTogZGF0YS5vdmVydmlldyxcblx0XHRcdGVwaXNvZGVfcnVuX3RpbWU6IGRhdGEuZXBpc29kZV9ydW5fdGltZVswXSxcblx0XHRcdG9yaWdpbl9jb3VudHJ5OiBkYXRhLm9yaWdpbl9jb3VudHJ5LFxuXHRcdFx0dm90ZV9hdmVyYWdlOiBkYXRhLnZvdGVfYXZlcmFnZSxcblx0XHRcdHZvdGVfY291bnQ6IGRhdGEudm90ZV9jb3VudCxcblx0XHRcdHN0YXR1czogZGF0YS5zdGF0dXMsXG5cdFx0XHRzZWFzb25zOiBkYXRhLnNlYXNvbnMsXG5cdFx0XHRudW1iZXJfb2Zfc2Vhc29uczogZGF0YS5udW1iZXJfb2Zfc2Vhc29ucyxcblx0XHRcdGZpcnN0X2Fpcl9kYXRlOiBkYXRhLmZpcnN0X2Fpcl9kYXRlLFxuXHRcdFx0bGFzdF9haXJfZGF0ZTogZGF0YS5sYXN0X2Fpcl9kYXRlLFxuXHRcdFx0YmFja2Ryb3BfcGF0aDogZGF0YS5iYWNrZHJvcF9wYXRoLFxuXHRcdFx0cG9zdGVyX3BhdGg6IGRhdGEucG9zdGVyX3BhdGgsXG5cdFx0XHRwb3B1bGFyaXR5OiBkYXRhLnBvcHVsYXJpdHksXG5cdFx0XHRnZW5yZXM6IGdlbnJlcyxcblx0XHR9O1xuXHRcdHJldHVybiBnZW5lcmFsSW5mbztcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKFxuXHRcdFx0YEZhaWxlZCB0byBmZXRjaCByZWxldmFudCBpbmZvcm1hdGlvbiBmb3IgVFYgU0hPVzogJHtlcnJvci5tZXNzYWdlfWBcblx0XHQpO1xuXHR9XG59XG5cbi8qXG5SZXR1cm5zIGFuIGFycmF5IG9mIHJlY29tbWVuZGVkIHR2IHNob3dzIHdpdGggdGhlaXIgbmFtZSwgaWQsIHBvc3Rlcl9wYXRoIGFuZFxuYmFja2Ryb3BfcGF0aCByZWNvcmRlZC4gXG5JZiBubyBtb3ZpZXMgYXJlIHJlY29tbWVuZGVkLCByZXR1cm4gbnVsbDtcbiovXG4vKipcbiAqIFJldHVybnMsIGF0IG1vc3QgNSwgcmVjb21tZW5kYXRpb24gYmFzZWQgb24gdGhlIHNwZWNpZmllZCBUViBTSE9XLiBUaGVcbiAqIG1vc3QgcmVsZXZhbnQgaW5mb3JtYXRpb24gZm9yIGVhY2ggcmVjY28gaXMgcmV0dXJuZWQgYXMgYW4gb2JqZWN0LlxuICogQHBhcmFtIHtOdW1iZXJ9IHR2X2lkIElkZW50aWZpZXMgdGhlIHNwZWNpZmllZCBUViBzaG93IGJ5IGFuIEludGVnZXJcbiAqIEByZXR1cm5zIHtPYmplY3R9IFx0IE1heCA1IHJlY29tbWVuZGF0aW9ucyB3aXRoIGl0cyByZWxldmFudCBpbmZvcm1hdGlvblxuICogXHRcdFx0XHRcdFx0IGFzIGFuIG9iamVjdC5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hUdlJlY2Nvcyh0dl9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy90di8ke3R2X2lkfS9yZWNvbW1lbmRhdGlvbnM/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBUViByZWNvbW1lbmRhdGlvbnMgZnJvbSBBUEkuXCIpO1xuXHRcdH1cblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgcmVjVHZzID0gZGF0YS5yZXN1bHRzPy5zbGljZSgwLCA1KS5yZWR1Y2UoKGFjYywgdHYpID0+IHtcblx0XHRcdGFjY1t0di5vcmlnaW5hbF9uYW1lXSA9IHtcblx0XHRcdFx0dE5hbWU6IHR2Lm9yaWdpbmFsX25hbWUsXG5cdFx0XHRcdGlkOiB0di5pZCxcblx0XHRcdFx0Zmlyc3RfYWlyX2RhdGU6IHR2LmZpcnN0X2Fpcl9kYXRlLFxuXHRcdFx0XHRwb3N0ZXJfcGF0aDogdHYucG9zdGVyX3BhdGgsXG5cdFx0XHRcdGJhY2tkcm9wX3BhdGg6IHR2LmJhY2tkcm9wX3BhdGgsXG5cdFx0XHRcdHZvdGVfYXZlcmFnZTogdHYudm90ZV9hdmVyYWdlLFxuXHRcdFx0XHR2b3RlX2NvdW50OiB0di52b3RlX2NvdW50LFxuXHRcdFx0fTtcblx0XHRcdHJldHVybiBhY2M7XG5cdFx0fSwge30pO1xuXG5cdFx0cmV0dXJuIHJlY1R2cyB8fCB7fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggVFYgcmVjb21tZW5kYXRpb25zOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHJlbGV2YW50IFRWIHByb3ZpZGVycyBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgVFYgc2hvdy5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0dl9pZCBJZGVudGlmaWVzIHRoZSBzcGVjaWZpZWQgVFYgc2hvdyBieSBhbiBJbnRlZ2VyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVx0IFRWIHByb3ZpZGVycyBmb3Igc3RyZWFtaW5nLCBwdXJjaGFzZSBhbmQvb3IgcmVudFxuICogXHRcdFx0XHRcdFx0IGZvciB0aGUgc3BlY2lmaWVkIFRWIHNob3cuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVHZQcm92aWRlcnModHZfaWQpIHtcblx0Y29uc3QgcHJvdmlkZXJzQnlDb3VudHJ5ID0ge307XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3R2LyR7dHZfaWR9L3dhdGNoL3Byb3ZpZGVycz9hcGlfa2V5PSR7QVBJX0tFWX1gLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblxuXHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihgRmFpbGVkIHRvIGZldGNoIFRWIHNob3cgcHJvdmlkZXJzIGZyb20gQVBJLmApO1xuXHRcdH1cblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Zm9yIChjb25zdCBjb3VudHJ5Q29kZSBpbiBkYXRhLnJlc3VsdHMpIHtcblx0XHRcdGNvbnN0IGNvdW50cnkgPSBnZXRDb3VudHJ5TmFtZShjb3VudHJ5Q29kZSk7XG5cdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0gPSB7XG5cdFx0XHRcdHN0cmVhbTogW10sXG5cdFx0XHRcdHJlbnQ6IFtdLFxuXHRcdFx0XHRidXk6IFtdLFxuXHRcdFx0XHRjb3VudHJ5Q29kZTogY291bnRyeUNvZGUsXG5cdFx0XHR9O1xuXG5cdFx0XHQvKlxuXHRcdFx0U29ydHMgcHJvdmlkZXJzIGJhc2VkIG9uIGNvdW50cnkgYW5kIHNlcnZpY2VzIHRoZXkgcHJvdmlkZS5cblxuXHRcdFx0VGFrZXMgaW4gdHlwZSBvZiBzZXJ2aWNlcyBhcyBwYXJhbSA9PiBbXCJmbGF0cmF0ZSAoc3RyZWFtaW5nKVwiLCBcblx0XHRcdFwicmVudFwiLCBcImJ1eVwiXSBhbmQgYW4gYXJyYXkgdG8gYXBwZW5kIGl0IHRvLlxuXHRcdFx0Ki9cblx0XHRcdGNvbnN0IHNvcnRQcm92aWRlcnMgPSAoc2VydmljZXMsIGNvbGxlY3Rpb24pID0+IHtcblx0XHRcdFx0aWYgKHNlcnZpY2VzKSB7XG5cdFx0XHRcdFx0c2VydmljZXMuZm9yRWFjaCgoc2VydmljZSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJJbmZvID0ge1xuXHRcdFx0XHRcdFx0XHRwcm92aWRlcl9uYW1lOiBzZXJ2aWNlLnByb3ZpZGVyX25hbWUsXG5cdFx0XHRcdFx0XHRcdHByb3ZpZGVyX2xvZ29fcGF0aDogc2VydmljZS5sb2dvX3BhdGgsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0Y29sbGVjdGlvbi5wdXNoKHByb3ZpZGVySW5mbyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdC8vIEFkZCBzdHJlYW1pbmcgc2VydmljZXMgZm9yIHNwZWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLmZsYXRyYXRlLFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0uc3RyZWFtXG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBBZGQgcmVudGluZyBzZXJ2aWNlcyBmb3Igc3BlaWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLnJlbnQsXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5yZW50XG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBBZGQgYnV5aW5nIHNlcnZpY2VzIGZvciBzcGVjaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5idXksXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5idXlcblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBwcm92aWRlcnNCeUNvdW50cnk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIFRWIHByb3ZpZGVyczogJHtlcnJvci5tZXNzYWdlfWApO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcmVsZXZhbnQgaW5mb3JtYXRpb24gb2YgdGhlIHR2IHRyYWlsZXIuIFRoZSBpZCBzaG91bGQgYWxzb1xuICogYmUgcmV0cmlldmVkIHNvIHRoYXQgdGhlIHVzZXIgY2FuIHNlYXJjaCBmb3IgdGhlIHR2IHJlc3BlY3RpdmVseS5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0dl9pZCBJZGVudGlmaWVzIHRoZSB0diBzaG93IGFzIGFuIEludGVnZXIuXG4gKiBAcmV0dXJucyB7T2JqZWN0fVx0IFJlbGV2YW50IGluZm8gb2YgdHJhaWxlciBpbmNsdWRpbmcgdmlkZW8gbmFtZSwgc2l0ZVxuICogXHRcdFx0XHRcdFx0IGxhbmd1YWdlIGFuZCB0eXBlLlxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaFR2VHJhaWxlcih0dl9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy90di8ke3R2X2lkfS92aWRlb3M/YXBpX2tleT0ke0FQSV9LRVl9YCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIFRWIHRyYWlsZXIgZnJvbSBBUEkuXCIpO1xuXHRcdH1cblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgdHJhaWxlcnMgPSBkYXRhLnJlc3VsdHMuZmlsdGVyKFxuXHRcdFx0KHZpZGVvKSA9PiB2aWRlby50eXBlID09PSBcIlRyYWlsZXJcIlxuXHRcdCk7XG5cblx0XHRpZiAodHJhaWxlcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cblx0XHQvLyBGaW5kIG9mZmljaWFsIHRyYWlsZXIgb3IgdXNlIHRoZSBmaXJzdCB0cmFpbGVyLlxuXHRcdGNvbnN0IHR2VHJhaWxlciA9XG5cdFx0XHR0cmFpbGVycy5maW5kKCh2aWRlbykgPT4gdmlkZW8ub2ZmaWNpYWwgPT09IHRydWUpIHx8IHRyYWlsZXJzWzBdO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHROYW1lOiB0dlRyYWlsZXIubmFtZSxcblx0XHRcdGtleTogdHZUcmFpbGVyLmtleSxcblx0XHRcdHNpdGU6IHR2VHJhaWxlci5zaXRlLFxuXHRcdFx0dHlwZTogdHZUcmFpbGVyLnR5cGUsXG5cdFx0XHRsYW5nOiBnZXRMYW5ndWFnZSh0dlRyYWlsZXIuaXNvXzYzOV8xKSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBUViB0cmFpbGVyOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCA1IHJldmlld3Mgd2l0aCB0aGVpciByYXRpbmdzLCBhdXRob3IgaW5mb3JtYXRpb24gYW5kIGxpbmtzLlxuICogQHBhcmFtIHtOdW1iZXJ9IG1vdmllX2lkIElkZW50aWZpZXMgdGhlIFRWIHNob3cgYXMgYW4gSW50ZWdlclxuICogQHJldHVybnMge09iamVjdH1cdFx0UmV2aWV3IGluZm9ybWF0aW9uIGluY2x1ZGluZyB0aGUgY29udGVudCwgYXV0aG9yLFxuICogXHRcdFx0XHRcdFx0XHRsaW5rcyBhbmQgcmF0aW5ncy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hUdlJldmlld3ModHZfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvdHYvJHt0dl9pZH0vcmV2aWV3cz9hcGlfa2V5PVxuXHRcdFx0JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZwYWdlPTFgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggVFYgcmV2aWV3cyBmcm9tIEFQSS5cIik7XG5cdFx0fVxuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0aWYgKGRhdGEucmVzdWx0cy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblxuXHRcdC8vIE9ubHkgcmV0dXJuIHRoZSBmaXJzdCA1IHJldmlld3MgbWF4aW11bS5cblx0XHRjb25zdCByZXZpZXdzID0gZGF0YS5yZXN1bHRzXG5cdFx0XHQubWFwKChyZXZpZXcpID0+ICh7XG5cdFx0XHRcdGF1dGhvcjogcmV2aWV3LmF1dGhvcixcblx0XHRcdFx0cmF0aW5nOiByZXZpZXcuYXV0aG9yX2RldGFpbHM/LnJhdGluZyxcblx0XHRcdFx0cGljX3BhdGg6IHJldmlldy5hdXRob3JfZGV0YWlscz8uYXZhdGFyX3BhdGgsXG5cdFx0XHRcdGNvbnRlbnQ6IHJldmlldy5jb250ZW50LFxuXHRcdFx0XHR1cmw6IHJldmlldy51cmwsXG5cdFx0XHRcdGxhc3RfdXBkYXRlZDogcmV2aWV3LnVwZGF0ZWRfYXQsXG5cdFx0XHR9KSlcblx0XHRcdC5zbGljZSgwLCA1KTtcblxuXHRcdHJldHVybiByZXZpZXdzO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBUViByZXZpZXdzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdH1cbn1cblxuLy8gSGVscGVyIGZuY3NcbmZ1bmN0aW9uIGdldENvdW50cnlOYW1lKGNvZGUpIHtcblx0bGV0IHJlZ2lvbk5hbWVzID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwicmVnaW9uXCIgfSk7XG5cdHJldHVybiByZWdpb25OYW1lcy5vZihjb2RlKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFuZ3VhZ2UoY29kZSkge1xuXHRjb25zdCBsYW5nID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwibGFuZ3VhZ2VcIiB9KTtcblx0cmV0dXJuIGxhbmcub2YoY29kZSk7XG59XG5leHBvcnQge1xuXHRmZXRjaFR2RGV0YWlscyxcblx0ZmV0Y2hUdlJlY2Nvcyxcblx0ZmV0Y2hUdlByb3ZpZGVycyxcblx0ZmV0Y2hUdlRyYWlsZXIsXG5cdGZldGNoVHZSZXZpZXdzLFxufTtcbiIsImltcG9ydCAqIGFzIG1vdmllIGZyb20gXCIuLi9hcGlGdW5jdGlvbnMvZmV0Y2hNb3ZpZUluZm9cIjtcbmltcG9ydCAqIGFzIHR2IGZyb20gXCIuLi9hcGlGdW5jdGlvbnMvZmV0Y2hUdkluZm9cIjtcbmltcG9ydCAqIGFzIHBhZ2UgZnJvbSBcIi4vZHJhd1NlY3Rpb25zXCI7XG5cbi8qXG5EcmF3IGFuIGluZGl2aWR1YWwgc2VjdGlvbiBiYXNlZCBvbiB1c2VyIGlucHV0IHF1ZXJ5LlxuVGhpcyBzZWN0aW9uIHdpbGwgY29uc3RzIG9mIHRoZSBvdmVyYWxsIG1vdmllL3R2J3MgXG4gICAgLSBEZXRhaWxzLFxuICAgIC0gVGhlIHdhdGNoIHByb3ZpZGVycyBiYXNlZCBvbiBzcGVjaWZpYyBjb3VudHJpZXNcbiAgICAtIEF2YWlsYWJsZSB0cmFpbGVycyxcbiAgICAtIE90aGVyIHJlY29tbWVuZGF0aW9ucy5cbiAgICAtIFJldmlld3MgYnkgZXN0YWJsaXNoZWQgYXV0aG9ycyBiYXNlZCBmcm9tIHJhbmRvbSBzb3VyY2VzLlxuKi9cblxuY29uc3QgZHJhd1NlY3Rpb24gPSBhc3luYyAoaWQsIG1lZGlhKSA9PiB7XG5cdGNvbnN0IHNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiKTtcblx0Y29uc3QgZGV0YWlscyA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVEZXRhaWxzLCB0di5mZXRjaFR2RGV0YWlscyk7XG5cdGNvbnN0IHJlY3MgPSBhd2FpdCBnZXRJbmZvKGlkLCBtb3ZpZS5mZXRjaE1vdmllUmVjY29zLCB0di5mZXRjaFR2UmVjY29zKTtcblx0Y29uc3QgcHJvdmlkZXJzID0gYXdhaXQgZ2V0SW5mbyhcblx0XHRpZCxcblx0XHRtb3ZpZS5mZXRjaE1vdmllUHJvdmlkZXJzLFxuXHRcdHR2LmZldGNoVHZQcm92aWRlcnNcblx0KTtcblx0Y29uc3QgdHJhaWxlciA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVUcmFpbGVyLCB0di5mZXRjaFR2VHJhaWxlcik7XG5cdGNvbnN0IHJldmlld3MgPSBhd2FpdCBnZXRJbmZvKGlkLCBtb3ZpZS5mZXRjaE1vdmllUmV2aWV3cywgdHYuZmV0Y2hUdlJldmlld3MpO1xuXG5cdHNlY3Rpb24uY2xhc3NMaXN0LmFkZChcInNlY3Rpb24tY29udGFpbmVyXCIpO1xuXHRmdW5jdGlvbiBkcmF3QWxsKCkge1xuXHRcdGFkZFRvU2VjdGlvbihkcmF3SW50cm8oKSk7XG5cdH1cblxuXHRmdW5jdGlvbiBhZGRUb1NlY3Rpb24ocGFydCkge1xuXHRcdHBhcnQgPyBzZWN0aW9uLmFwcGVuZENoaWxkKHBhcnQpIDogXCJcIjtcblx0fVxuXG5cdGZ1bmN0aW9uIHJlbmRlckVsZW1lbnQodGFnLCBjbGFzc05hbWUpIHtcblx0XHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KHRhZyk7XG5cdFx0Y29udGFpbmVyLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTtcblx0XHRyZXR1cm4gY29udGFpbmVyO1xuXHR9XG5cblx0YXN5bmMgZnVuY3Rpb24gZ2V0SW5mbyhpZCwgbW92aWVGbmMsIHR2Rm5jKSB7XG5cdFx0cmV0dXJuIG1lZGlhID09PSBcIm1vdmllXCIgPyBhd2FpdCBtb3ZpZUZuYyhpZCkgOiBhd2FpdCB0dkZuYyhpZCk7XG5cdH1cblxuXHQvLyBEcmF3IChpZiBhbnkpIHRpdGxlLCBwaG90bywgdGFnbGluZSwgYW5kIHN1bW1hcnkuXG5cdGNvbnN0IGRyYXdJbnRybyA9IChpbWdTaXplKSA9PiB7XG5cdFx0Y29uc3QgaW50cm9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGludHJvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpbnRyb1wiKTtcblxuXHRcdGludHJvQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZVRpdGxlKCkpO1xuXHRcdGRldGFpbHMudGFnbGluZSA/IGludHJvQ29udGFpbmVyLmFwcGVuZENoaWxkKHdyaXRlVGFnbGluZSgpKSA6IFwiXCI7XG5cblx0XHRjb25zdCBpbWcgPSByZW5kZXJJbWcoaW1nU2l6ZSk7XG5cdFx0aW1nID8gaW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQoaW1nKSA6IFwiXCI7XG5cblx0XHRmdW5jdGlvbiBjcmVhdGVUaXRsZSgpIHtcblx0XHRcdGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xuXHRcdFx0dGl0bGUudGV4dENvbnRlbnQgPSBkZXRhaWxzLm1OYW1lID8gZGV0YWlscy5tTmFtZSA6IGRldGFpbHMudE5hbWU7XG5cdFx0XHR0aXRsZS5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIik7XG5cdFx0XHRyZXR1cm4gdGl0bGU7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVuZGVySW1nKGltZ1NpemUgPSBcIlwiKSB7XG5cdFx0XHRjb25zdCBwb3N0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuXHRcdFx0Y29uc3QgYmFzZUltZ1VybCA9IFwiaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3BcIjtcblx0XHRcdGxldCBpbWdfcGF0aDtcblx0XHRcdHBvc3Rlci5jbGFzc0xpc3QuYWRkKFwicG9zdGVyXCIpO1xuXG5cdFx0XHRpZiAoZGV0YWlscy5wb3N0ZXJfcGF0aCkge1xuXHRcdFx0XHRpbWdfcGF0aCA9IGRldGFpbHMucG9zdGVyX3BhdGg7XG5cdFx0XHR9IGVsc2UgaWYgKGRldGFpbHMuYmFja2Ryb3BfcGF0aCkge1xuXHRcdFx0XHRpbWdfcGF0aCA9IGRldGFpbHMuYmFja2Ryb3BfcGF0aDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdCFpbWdTaXplXG5cdFx0XHRcdD8gKHBvc3Rlci5zcmMgPSBgJHtiYXNlSW1nVXJsfS9vcmlnaW5hbC8ke2ltZ19wYXRofWApXG5cdFx0XHRcdDogKHBvc3Rlci5zcmMgPSBgJHtiYXNlSW1nVXJsfS93JHtpbWdTaXplfS8ke2ltZ19wYXRofWApO1xuXHRcdFx0cG9zdGVyLmFsdCA9IFwiTW92aWUgcGljdHVyZSBwb3N0ZXJcIjtcblx0XHRcdHBvc3Rlci5zZXRBdHRyaWJ1dGUoXCJsb2FkaW5nXCIsIFwibGF6eVwiKTtcblx0XHRcdHJldHVybiBwb3N0ZXI7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gd3JpdGVUYWdsaW5lKCkge1xuXHRcdFx0Y29uc3QgdGFnUGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJlbVwiKTtcblx0XHRcdHRhZ1BhcmEudGV4dENvbnRlbnQgPSBgXCIke2RldGFpbHMudGFnbGluZX1cImA7XG5cdFx0XHR0YWdQYXJhLmNsYXNzTGlzdC5hZGQoXCJ0YWdsaW5lXCIpO1xuXHRcdFx0cmV0dXJuIHRhZ1BhcmE7XG5cdFx0fVxuXHRcdHJldHVybiBpbnRyb0NvbnRhaW5lcjtcblx0fTtcblxuXHRjb25zdCBkcmF3U3ViSW5mb3MgPSAoKSA9PiB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRjb250YWluZXIuY2xhc3NMaXN0LmFkZChcInN1YmluZm8tY29udGFpbmVyXCIpO1xuXG5cdFx0Ly8gUmVsZWFzZSBkYXRlIGZvciBtb3ZpZXMgYW5kIGZpcnN0IGFpcmVkIGZvciB0diBzaG93LlxuXHRcdGxldCBkYXRlLCBsYXN0QWlyZWQ7XG5cdFx0aWYgKGRldGFpbHMucmVsZWFzZV9kYXRlKSB7XG5cdFx0XHRkYXRlID0gY3JlYXRlU3ViSW5mbyhcblx0XHRcdFx0XCJSZWxlYXNlIERhdGU6XCIsXG5cdFx0XHRcdGRldGFpbHMucmVsZWFzZV9kYXRlLnNwbGl0KFwiLVwiKS5yZXZlcnNlKCkuam9pbihcIi9cIilcblx0XHRcdCk7XG5cdFx0XHRsYXN0QWlyZWQgPSBcIlwiO1xuXHRcdH0gZWxzZSBpZiAoZGV0YWlscy5maXJzdF9haXJfZGF0ZSkge1xuXHRcdFx0ZGF0ZSA9IGNyZWF0ZVN1YkluZm8oXG5cdFx0XHRcdFwiRmlyc3QgQWlyZWQ6IFwiLFxuXHRcdFx0XHRkZXRhaWxzLmZpcnN0X2Fpcl9kYXRlLnNwbGl0KFwiLVwiKS5yZXZlcnNlKCkuam9pbihcIi9cIilcblx0XHRcdCk7XG5cdFx0XHRsYXN0QWlyZWQgPSBjcmVhdGVTdWJJbmZvKFxuXHRcdFx0XHRcIkxhc3QgQWlyZWQ6IFwiLFxuXHRcdFx0XHRkZXRhaWxzLmxhc3RfYWlyX2RhdGUuc3BsaXQoXCItXCIpLnJldmVyc2UoKS5qb2luKFwiL1wiKVxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0ZSA9IFwiXCI7XG5cdFx0fVxuXHRcdGxldCBydW50aW1lID0gZGV0YWlscy5ydW50aW1lID8gY29udmVydE1pblRvSHIoZGV0YWlscy5ydW50aW1lKSA6IFwiXCI7XG5cblx0XHRjb25zdCBpbmZvcm1hdGlvbiA9IFtcblx0XHRcdGRhdGUsXG5cdFx0XHRsYXN0QWlyZWQsXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiU2hvdyBzdGF0dXM6XCIsIGRldGFpbHMuc3RhdHVzKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJSdW50aW1lOiBcIiwgcnVudGltZSksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiR2VucmVzOiBcIiwgZGV0YWlscy5nZW5yZXMuam9pbihcIiwgXCIpKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJOdW1iZXIgb2Ygc2Vhc29uczogXCIsIGRldGFpbHMubnVtYmVyX29mX3NlYXNvbnMpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIkVzdCBBdmcgRXBpc29kZSBSdW50aW1lOiBcIiwgZGV0YWlscy5lcGlzb2RlX3J1bl90aW1lKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJDb3VudHJ5IG9mIE9yaWdpbjogXCIsIGRldGFpbHMub3JpZ2luX2NvdW50cnkpLFxuXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiVm90ZSBBdmVyYWdlOiBcIiwgZGV0YWlscy52b3RlX2F2ZXJhZ2UpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIlZvdGUgQ291bnQ6IFwiLCBkZXRhaWxzLnZvdGVfY291bnQpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIlBvcHVsYXJpdHk6IFwiLCBkZXRhaWxzLnBvcHVsYXJpdHkpLFxuXHRcdF07XG5cblx0XHRpbmZvcm1hdGlvbi5mb3JFYWNoKChpbmZvKSA9PiAoaW5mbyA/IGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvKSA6IFwiXCIpKTtcblxuXHRcdGZ1bmN0aW9uIGNyZWF0ZVN1YkluZm8oY2F0ZWdvcnksIGluZm8pIHtcblx0XHRcdC8vIElnbm9yZXMgdHYgc3ViaW5mbyB0byBiZSBkaXNwbGF5ZWQgaWYgaXQncyBhIG1vdmllIGFuZFxuXHRcdFx0Ly8gdmljZXZlcnNhXG5cdFx0XHRpZiAoIWluZm8pIHJldHVybjtcblx0XHRcdGNvbnN0IHN1YkluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdFx0Y29uc3QgY2F0ZWdvcnlOYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5cdFx0XHRjb25zdCBjYXRlZ29yeUluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcblxuXHRcdFx0c3ViSW5mby5jbGFzc0xpc3QuYWRkKFwic3ViLWluZm9cIik7XG5cdFx0XHRjYXRlZ29yeU5hbWUuY2xhc3NMaXN0LmFkZChcImNhdGVnb3J5LW5hbWVcIik7XG5cdFx0XHRjYXRlZ29yeUluZm8uY2xhc3NMaXN0LmFkZChcImNhdGVnb3J5LWluZm9cIik7XG5cblx0XHRcdGNhdGVnb3J5TmFtZS50ZXh0Q29udGVudCA9IGNhdGVnb3J5O1xuXHRcdFx0Y2F0ZWdvcnlJbmZvLnRleHRDb250ZW50ID0gaW5mbztcblxuXHRcdFx0W2NhdGVnb3J5TmFtZSwgY2F0ZWdvcnlJbmZvXS5mb3JFYWNoKChpbmZvKSA9PiBzdWJJbmZvLmFwcGVuZENoaWxkKGluZm8pKTtcblx0XHRcdHJldHVybiBzdWJJbmZvO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGNvbnZlcnRNaW5Ub0hyKG1pbnMpIHtcblx0XHRcdGNvbnN0IGhvdXJzID0gbWlucyAvIDYwO1xuXHRcdFx0Y29uc3QgckhvdXJzID0gTWF0aC5mbG9vcihob3Vycyk7XG5cdFx0XHRjb25zdCBtaW51dGVzID0gKGhvdXJzIC0gckhvdXJzKSAqIDYwO1xuXHRcdFx0Y29uc3Qgck1pbnV0ZXMgPSBNYXRoLnJvdW5kKG1pbnV0ZXMpO1xuXHRcdFx0cmV0dXJuIGAke3JIb3Vyc31oICR7ck1pbnV0ZXN9bWluYDtcblx0XHR9XG5cblx0XHRyZXR1cm4gY29udGFpbmVyO1xuXHR9O1xuXG5cdGNvbnN0IGRyYXdTdW1tYXJ5SGVhZGluZyA9ICgpID0+IHtcblx0XHRjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuXHRcdGhlYWRpbmcudGV4dENvbnRlbnQgPSBcIlN5bm9wc2lzOiBcIjtcblx0XHRyZXR1cm4gaGVhZGluZztcblx0fTtcblx0Y29uc3QgZHJhd1N1bW1hcnkgPSAoKSA9PiB7XG5cdFx0Y29uc3QgcGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuXHRcdHBhcmEudGV4dENvbnRlbnQgPSBkZXRhaWxzLnN1bW1hcnk7XG5cdFx0cGFyYS5jbGFzc0xpc3QuYWRkKFwic3VtbWFyeVwiKTtcblx0XHRyZXR1cm4gcGFyYTtcblx0fTtcblxuXHRjb25zdCBkcmF3UHJvdmlkZXJzID0gKCkgPT4ge1xuXHRcdGxldCBhdmFpbFByb3ZpZGVyczsgLy8gQm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVyZSBhcmUgYW55IHdhdGNoXG5cdFx0Ly8gcHJvdmlkZXJzIGZvciB0aGlzIHNob3cuXG5cblx0XHQvLyBIb3VzZXMgdGhlIGJ0biB0aGF0IG9wZW5zIHRoZSBtb2RhbCBhbmQgb3ZlcmxheSwgYW5kIHRoZSBhdmFpbGFibGUgcHJvdmlkZXJzIGZvciAnc3RyZWFtaW5nJywgJ3JlbnQnIGFuZCAncHVyY2hhc2UnLlxuXHRcdGNvbnN0IHByb3ZpZGVyQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInByb3ZpZGVyLWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCBjb3VudHJ5QnRuID0gcmVuZGVyRWxlbWVudChcImJ1dHRvblwiLCBcImNvdW50cnktYnRuXCIpO1xuXHRcdGNvbnN0IGhvdXNlQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcImhvdXNlLXByb3ZpZGVyLWNvbnRhaW5lclwiKTtcblx0XHRbY291bnRyeUJ0biwgaG91c2VDb250YWluZXJdLmZvckVhY2goKGVsZW0pID0+IHtcblx0XHRcdHByb3ZpZGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU2VhcmNoIGZvciBkZWZhdWx0IGNvdW50cnkgXCJBdXN0cmFsaWFcIi4gSWYgbm9uZSBmb3VuZC4gRHJhdyB0aGUgZmlyc3QgY291bnRyeSdzIHByb3ZpZGVyLlxuXHRcdGlmIChPYmplY3Qua2V5cyhwcm92aWRlcnMpLmxlbmd0aCkge1xuXHRcdFx0YXZhaWxQcm92aWRlcnMgPSB0cnVlO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKHByb3ZpZGVycykuaW5jbHVkZXMoXCJBdXN0cmFsaWFcIikpIHtcblx0XHRcdFx0Ly8gRHJhdyBBdXMgZmxhZyBpbiBidG4uXG5cdFx0XHRcdGNvbnN0IGZsYWcgPSByZW5kZXJFbGVtZW50KFwiaW1nXCIsIFwiY291bnRyeS1mbGFnXCIpO1xuXHRcdFx0XHRmbGFnLnNldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIsIFwiYW5vbnltb3VzXCIpO1xuXHRcdFx0XHRmbGFnLnNyYyA9IGBodHRwczovL2NvdW50cnlmbGFnc2FwaS5jb20vcG5nL0F1c3RyYWxpYWA7XG5cdFx0XHRcdGZsYWcuYWx0ID0gYEF1c3RyYWxpYSBmbGFnYDtcblx0XHRcdFx0ZmxhZy5jbGFzc0xpc3QuYWRkKFwiYnRuLWNvdW50cnktZmxhZ1wiKTtcblx0XHRcdFx0ZHJhd1Byb3ZpZGVyKFwiQXVzdHJhbGlhXCIpO1xuXHRcdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID0gXCJBdXN0cmFsaWFcIjtcblx0XHRcdFx0Y291bnRyeUJ0bi5hcHBlbmRDaGlsZChmbGFnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIERyYXcgZmlyc3QgY291bnRyeSdzIGZsYWcgaW4gYnRuLlxuXHRcdFx0XHRjb25zdCBmaXJzdFByb3ZpZGVyID0gT2JqZWN0LmtleXMocHJvdmlkZXJzKVswXTtcblx0XHRcdFx0dHJ5IHtcblx0XHRcdFx0XHRjb25zdCBmbGFnID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcImNvdW50cnktZmxhZ1wiKTtcblx0XHRcdFx0XHRmbGFnLnNldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIsIFwiYW5vbnltb3VzXCIpO1xuXHRcdFx0XHRcdGZsYWcuc3JjID0gYGh0dHBzOi8vY291bnRyeWZsYWdzYXBpLmNvbS9wbmcvJHtmaXJzdFByb3ZpZGVyfWA7XG5cdFx0XHRcdFx0ZmxhZy5hbHQgPSBgJHtmaXJzdFByb3ZpZGVyfSBmbGFnYDtcblx0XHRcdFx0XHRmbGFnLmNsYXNzTGlzdC5hZGQoXCJidG4tY291bnRyeS1mbGFnXCIpO1xuXHRcdFx0XHRcdGNvdW50cnlCdG4uYXBwZW5kQ2hpbGQoZmxhZyk7XG5cdFx0XHRcdH0gY2F0Y2ggKGVycikge1xuXHRcdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0XHRcdH1cblx0XHRcdFx0ZHJhd1Byb3ZpZGVyKGZpcnN0UHJvdmlkZXIpO1xuXHRcdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID0gYCR7Zmlyc3RQcm92aWRlcn1gO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRhdmFpbFByb3ZpZGVycyA9IGZhbHNlO1xuXHRcdFx0Y291bnRyeUJ0bi50ZXh0Q29udGVudCA9XG5cdFx0XHRcdFwiTm8gY291bnRyaWVzIG9mZmVyIHRoaXMgdHYvbW92aWUgYXQgdGhlIG1vbWVudC5cIjtcblx0XHRcdGNvdW50cnlCdG4uY2xhc3NMaXN0LmFkZChcImxvc3QtcHJvdmlkZXJzXCIpO1xuXHRcdFx0Y29uc3QgbG9zdEdpZiA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJsb3N0LWdpZlwiKTtcblx0XHRcdGxvc3RHaWYuc3JjID0gXCIuL2ltZy9sb3N0LWdpZi5naWZcIjtcblx0XHRcdGxvc3RHaWYuYWx0ID0gXCJQcm92ZXIgY2Fubm90IGJlIGZvdW5kIHBpY3R1cmUuXCI7XG5cdFx0XHRob3VzZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG5cdFx0XHRob3VzZUNvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IFwiY2VudGVyXCI7XG5cdFx0XHRob3VzZUNvbnRhaW5lci5hcHBlbmRDaGlsZChsb3N0R2lmKTtcblx0XHR9XG5cdFx0Ly8gcmVuZGVyIGRvd24gYXJyb3cuXG5cdFx0Y29uc3QgZG93bkFycm93ID0gcmVuZGVyRWxlbWVudChcImlcIiwgXCJmYXNcIik7XG5cdFx0ZG93bkFycm93LmNsYXNzTGlzdC5hZGQoXCJmYS1hbmdsZS1kb3duXCIpO1xuXHRcdGNvdW50cnlCdG4uYXBwZW5kQ2hpbGQoZG93bkFycm93KTtcblxuXHRcdC8vIGF2YWlsUHJvdmlkZXJzID8gcmVuZGVyQ291bnRyaWVzTW9kYWwoY291bnRyeUJ0bi50ZXh0Q29udGVudCkgOiBcIlwiOyAvLyB0ZW1wXG5cdFx0Ly8gQWRkIGJ0biBldmVudCBjbGljayBsaXN0ZW5lciB0byBvcGVuIG1vZGFsXG5cdFx0Y291bnRyeUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGlmIChhdmFpbFByb3ZpZGVycykge1xuXHRcdFx0XHRyZW5kZXJDb3VudHJpZXNNb2RhbChjb3VudHJ5QnRuLnRleHRDb250ZW50KTtcblx0XHRcdFx0aGlnaGxpZ2h0Q3VyckNvdW50cnkoY291bnRyeUJ0bi50ZXh0Q29udGVudCk7XG5cdFx0XHRcdC8vIGFkZCBjb3VudHJ5IGV2ZW50IGhlcmVcblx0XHRcdFx0YXBwbHlDaG9vc2VDb3VudHJ5Rm5jcygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGZ1bmN0aW9uIGFwcGx5Q2hvb3NlQ291bnRyeUZuY3MoKSB7XG5cdFx0XHRjb25zdCBjb3VudHJpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvdW50cnktY29udGFpbmVyXCIpO1xuXHRcdFx0Y291bnRyaWVzLmZvckVhY2goKGNvdW50cnkpID0+XG5cdFx0XHRcdGNvdW50cnkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdGlmIChjb3VudHJ5Lmxhc3RDaGlsZC50ZXh0Q29udGVudCkge1xuXHRcdFx0XHRcdFx0Y29uc3Qgc2VsZWN0ZWRDb3VudHJ5ID0gY291bnRyeS5sYXN0Q2hpbGQudGV4dENvbnRlbnQ7XG5cdFx0XHRcdFx0XHRjbGVhclByb3ZpZGVyKCk7XG5cdFx0XHRcdFx0XHRkcmF3UHJvdmlkZXIoc2VsZWN0ZWRDb3VudHJ5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb3VudHJ5LWNvbnRhaW5lclwiKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhY2UtbWFza1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBwcm92aWRlckNvbnRhaW5lcjtcblxuXHRcdGZ1bmN0aW9uIGRyYXdQcm92aWRlcihjb3VudHJ5TmFtZSA9IFwiQXVzdHJhbGlhXCIpIHtcblx0XHRcdC8vIENoYW5nZSB0ZXh0IG9mIGJ0biB0byBjb3VudHJ5TmFtZVxuXHRcdFx0Y291bnRyeUJ0bi50ZXh0Q29udGVudCA9IGNvdW50cnlOYW1lO1xuXG5cdFx0XHQvLyBBZGQgYXJyb3dzIGFuZCBmbGFncyBpbnRvIGJ0biBhZnRlciBldmVyeSBzZWxlY3Rpb24uXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBmbGFnID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcImNvdW50cnktZmxhZ1wiKTtcblx0XHRcdFx0ZmxhZy5zZXRBdHRyaWJ1dGUoXCJjcm9zc29yaWdpblwiLCBcImFub255bW91c1wiKTtcblx0XHRcdFx0ZmxhZy5zcmMgPSBgaHR0cHM6Ly9jb3VudHJ5ZmxhZ3NhcGkuY29tL3BuZy8ke2NvdW50cnlOYW1lfWA7XG5cdFx0XHRcdGZsYWcuYWx0ID0gYCR7Y291bnRyeU5hbWV9IGZsYWdgO1xuXHRcdFx0XHRmbGFnLmNsYXNzTGlzdC5hZGQoXCJidG4tY291bnRyeS1mbGFnXCIpO1xuXHRcdFx0XHRjb3VudHJ5QnRuLmFwcGVuZENoaWxkKGZsYWcpO1xuXHRcdFx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0XHRcdGNvbnNvbGUubG9nKGVycik7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBkb3duQXJyb3cgPSByZW5kZXJFbGVtZW50KFwiaVwiLCBcImZhc1wiKTtcblx0XHRcdGRvd25BcnJvdy5jbGFzc0xpc3QuYWRkKFwiZmEtYW5nbGUtZG93blwiKTtcblx0XHRcdGNvdW50cnlCdG4uYXBwZW5kQ2hpbGQoZG93bkFycm93KTtcblxuXHRcdFx0Y29uc3Qgc3RyZWFtSW5mbyA9IHByb3ZpZGVyc1tjb3VudHJ5TmFtZV0uc3RyZWFtO1xuXHRcdFx0Y29uc3QgYnV5SW5mbyA9IHByb3ZpZGVyc1tjb3VudHJ5TmFtZV0uYnV5O1xuXHRcdFx0Y29uc3QgcmVudEluZm8gPSBwcm92aWRlcnNbY291bnRyeU5hbWVdLnJlbnQ7XG5cblx0XHRcdGNvbnN0IHNlcnZpY2VOYW1lcyA9IFtcIlN0cmVhbSBhdDpcIiwgXCJQdXJjaGFzZSBhdDpcIiwgXCJSZW50IGF0OlwiXTtcblx0XHRcdC8vIFRvIGFzc2lnbiBuYW1lcyBmb3IgZWFjaCBzZXZpY2UgcHJvdmlkZXJzLlxuXHRcdFx0Ly8gVGhpcyBpbmNyZW1lbnRzIGFzIHByb3ZpZGVycyBhcmUgbGlzdGVkIGZvciBlYWNoIHNlcnZpY2UuXG5cdFx0XHRsZXQgaWR4ID0gMDtcblxuXHRcdFx0W3N0cmVhbUluZm8sIGJ1eUluZm8sIHJlbnRJbmZvXS5mb3JFYWNoKChpbmZvKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHNlcnZpY2VDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwic2VydmljZS1jb250YWluZXJcIik7XG5cdFx0XHRcdGNvbnN0IHNlcnZpY2VOYW1lID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInNlcnZpY2UtbmFtZVwiKTtcblx0XHRcdFx0Y29uc3Qgc2VydmljZU5hbWVCb2xkID0gcmVuZGVyRWxlbWVudChcImgyXCIsIFwic2VydmljZS1uYW1lLWJvbGRcIik7XG5cdFx0XHRcdGNvbnN0IHByb3ZpZGVyU2VydmljZUNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXG5cdFx0XHRcdFx0XCJkaXZcIixcblx0XHRcdFx0XHRcInByb3ZpZGVyLXNlcnZpY2UtY29udGFpbmVyXCJcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpbmZvLmZvckVhY2goKHByb3ZpZGVyKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJTZXJ2aWNlID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInByb3ZpZGVyLXNlcnZpY2VcIik7XG5cdFx0XHRcdFx0Ly8gQWRkIGltZyBhbmQgbmFtZSBvZiBwcm92aWRlci5cblx0XHRcdFx0XHRjb25zdCBwcm92aWRlckltZyA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJwcm92aWRlci1pbWdcIik7XG5cdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJOYW1lID0gcmVuZGVyRWxlbWVudChcInNwYW5cIiwgXCJwcm92aWRlci1uYW1lXCIpO1xuXG5cdFx0XHRcdFx0aWYgKHByb3ZpZGVyLnByb3ZpZGVyX2xvZ29fcGF0aCkge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJJbWcuc3JjID0gYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL29yaWdpbmFsLyR7cHJvdmlkZXIucHJvdmlkZXJfbG9nb19wYXRofWA7XG5cdFx0XHRcdFx0XHRwcm92aWRlckltZy5hbHQgPSBgJHtwcm92aWRlci5wcm92aWRlcl9uYW1lfSBwaWN0dXJlLmA7XG5cdFx0XHRcdFx0XHRwcm92aWRlckltZy5zZXRBdHRyaWJ1dGUoXCJsb2FkaW5nXCIsIFwibGF6eVwiKTtcblx0XHRcdFx0XHRcdHByb3ZpZGVyTmFtZS50ZXh0Q29udGVudCA9IHByb3ZpZGVyLnByb3ZpZGVyX25hbWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0W3Byb3ZpZGVySW1nLCBwcm92aWRlck5hbWVdLmZvckVhY2goKGVsZW0pID0+IHtcblx0XHRcdFx0XHRcdHByb3ZpZGVyU2VydmljZS5hcHBlbmRDaGlsZChlbGVtKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRwcm92aWRlclNlcnZpY2VDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvdmlkZXJTZXJ2aWNlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aWYgKGluZm8ubGVuZ3RoKSB7XG5cdFx0XHRcdFx0c2VydmljZU5hbWVCb2xkLnRleHRDb250ZW50ID0gYCR7c2VydmljZU5hbWVzW2lkeF19YDtcblx0XHRcdFx0XHRzZXJ2aWNlTmFtZS5hcHBlbmRDaGlsZChzZXJ2aWNlTmFtZUJvbGQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0XHRzZXJ2aWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlcnZpY2VOYW1lKTtcblx0XHRcdFx0c2VydmljZUNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm92aWRlclNlcnZpY2VDb250YWluZXIpO1xuXHRcdFx0XHRob3VzZUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZXJ2aWNlQ29udGFpbmVyKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRmdW5jdGlvbiBjbGVhclByb3ZpZGVyKCkge1xuXHRcdFx0aG91c2VDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgZHJhd1Jldmlld3MgPSAoKSA9PiB7XG5cdFx0aWYgKCFyZXZpZXdzKSByZXR1cm47XG5cdFx0Y29uc3QgcmV2aWV3Q29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInJldmlldy1jb250YWluZXJcIik7XG5cdFx0Y29uc3QgdGl0bGUgPSByZW5kZXJFbGVtZW50KFwiaDJcIiwgXCJyZXZpZXctdGl0bGVcIik7XG5cdFx0dGl0bGUudGV4dENvbnRlbnQgPSBcIlJldmlld3M6XCI7XG5cdFx0cmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHRpdGxlKTtcblxuXHRcdHJldmlld3MuZm9yRWFjaCgocmV2aWV3KSA9PiBkcmF3UmV2aWV3KHJldmlldywgcmV2aWV3Q29udGFpbmVyKSk7XG5cdFx0cmV0dXJuIHJldmlld0NvbnRhaW5lcjtcblx0fTtcblxuXHRjb25zdCBkcmF3UmV2aWV3ID0gKHJldmlldywgY29udGFpbmVyKSA9PiB7XG5cdFx0Y29uc3QgcmVuZGVyUmV2aWV3SGVhZGluZyA9ICgpID0+IHtcblx0XHRcdGNvbnN0IHJldmlld0hlYWRpbmcgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmV2aWV3LWhlYWRpbmdcIik7XG5cdFx0XHQvLyBSZW5kZXIgYXV0aG9yJ3MgcHJvZmlsZSBwaWMgaWYgYW55LlxuXHRcdFx0aWYgKHJldmlldy5waWNfcGF0aCkge1xuXHRcdFx0XHRjb25zdCBhdXRob3JQaWMgPSByZW5kZXJFbGVtZW50KFwiaW1nXCIsIFwiYXV0aG9yLXBpY1wiKTtcblx0XHRcdFx0aWYgKHJldmlldy5waWNfcGF0aC5zbGljZSgxLCA1KSAhPT0gXCJodHRwXCIpIHtcblx0XHRcdFx0XHRhdXRob3JQaWMuc3JjID0gYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL3czMDAvJHtyZXZpZXcucGljX3BhdGh9YDtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRhdXRob3JQaWMuc3JjID0gcmV2aWV3LnBpY19wYXRoLnNsaWNlKDEpO1xuXHRcdFx0XHR9XG5cblx0XHRcdFx0YXV0aG9yUGljLmFsdCA9IGAke3Jldmlldy5hdXRob3J9IHByb2ZpbGUgcGljdHVyZS5gO1xuXHRcdFx0XHRyZXZpZXdIZWFkaW5nLmFwcGVuZENoaWxkKGF1dGhvclBpYyk7XG5cdFx0XHR9XG5cblx0XHRcdGFkZFJldkluZm8ocmV2aWV3LmF1dGhvciwgcmV2aWV3SGVhZGluZywgXCJoM1wiLCBcInJldmlldy1hdXRob3JcIik7XG5cblx0XHRcdGFkZFJldkluZm8ocmV2aWV3LnJhdGluZywgcmV2aWV3SGVhZGluZywgXCJzcGFuXCIsIFwicmV2aWV3LXJhdGluZ1wiKTtcblxuXHRcdFx0cmV0dXJuIHJldmlld0hlYWRpbmc7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHJlbmRlclJldmlld0JvZHkgPSAoKSA9PiB7XG5cdFx0XHRjb25zdCByZXZpZXdDb250ZW50ID0gcmVuZGVyRWxlbWVudChcInBcIiwgXCJyZXZpZXctY29udGVudFwiKTtcblx0XHRcdHJldmlld0NvbnRlbnQudGV4dENvbnRlbnQgPSBgXCIke3Jldmlldy5jb250ZW50fVwiYDtcblx0XHRcdHJldHVybiByZXZpZXdDb250ZW50O1xuXHRcdH07XG5cblx0XHRjb25zdCByZW5kZXJSZXZpZXdGb290ZXIgPSAoKSA9PiB7XG5cdFx0XHRjb25zdCByZXZpZXdGb290ZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmV2aWV3LWZvb3RlclwiKTtcblx0XHRcdGNvbnN0IHJldmlld1VybCA9IHJlbmRlckVsZW1lbnQoXCJhXCIsIFwicmV2aWV3LWxpbmtcIik7XG5cdFx0XHRjb25zdCByZXZpZXdVcGRhdGVkID0gcmVuZGVyRWxlbWVudChcInNwYW5cIiwgXCJyZXZpZXctdXBkYXRlZFwiKTtcblxuXHRcdFx0cmV2aWV3VXJsLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgYCR7cmV2aWV3LnVybH1gKTtcblx0XHRcdHJldmlld1VybC5zZXRBdHRyaWJ1dGUoXCJ0YXJnZXRcIiwgXCJfYmxhbmtcIik7XG5cdFx0XHRyZXZpZXdVcmwudGV4dENvbnRlbnQgPSBcIkNsaWNrIGZvciByZXZpZXcgbGlua1wiO1xuXG5cdFx0XHRyZXZpZXdVcGRhdGVkLnRleHRDb250ZW50ID0gYExhc3QgdXBkYXRlZDogJHtmb3JtYXRSZXZEYXRlKFxuXHRcdFx0XHRyZXZpZXcubGFzdF91cGRhdGVkXG5cdFx0XHQpfWA7XG5cblx0XHRcdHJldmlld0Zvb3Rlci5hcHBlbmRDaGlsZChyZXZpZXdVcmwpO1xuXHRcdFx0cmV2aWV3Rm9vdGVyLmFwcGVuZENoaWxkKHJldmlld1VwZGF0ZWQpO1xuXG5cdFx0XHRyZXR1cm4gcmV2aWV3Rm9vdGVyO1xuXHRcdFx0ZnVuY3Rpb24gZm9ybWF0UmV2RGF0ZShkYXRlKSB7XG5cdFx0XHRcdGRhdGUgPSBkYXRlLnNwbGl0KFwiLVwiKTtcblx0XHRcdFx0ZGF0ZVsyXSA9IGRhdGVbMl0uc2xpY2UoMCwgMikgKyBcIi9cIjtcblx0XHRcdFx0cmV0dXJuIGRhdGVbMl0uY29uY2F0KGRhdGUuc2xpY2UoMCwgMikucmV2ZXJzZSgpLmpvaW4oXCIvXCIpKTtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlclJldmlld0hlYWRpbmcoKSk7XG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlclJldmlld0JvZHkoKSk7XG5cdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlclJldmlld0Zvb3RlcigpKTtcblxuXHRcdC8vIEhlbHBlciBmbmMgdGhhdCBjb2xsZWN0cyBjb3JyZXNwb25kaW5nIGluZm8gYW5kXG5cdFx0Ly8gY3JlYXRlcyBhIHNwYW4vZGl2IGNvbnRhaW5lciBpZiBpbmZvIGV4aXN0cy4gT3RoZXJ3aXNlLCByZXR1cm47XG5cdFx0ZnVuY3Rpb24gYWRkUmV2SW5mbyhpbmZvLCBjb250YWluZXIsIHRhZywgY2xhc3NOYW1lKSB7XG5cdFx0XHRjb25zdCBpbmZvQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudCh0YWcsIGNsYXNzTmFtZSk7XG5cdFx0XHRpZiAoaW5mbykge1xuXHRcdFx0XHRpbmZvQ29udGFpbmVyLnRleHRDb250ZW50ID0gaW5mbztcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmV2aWV3cyBvdXQgb2YgMTBcblx0XHRcdGlmIChpbmZvID09PSByZXZpZXcucmF0aW5nKSB7XG5cdFx0XHRcdGluZm9Db250YWluZXIudGV4dENvbnRlbnQgPSByZXZpZXcucmF0aW5nID8gYCR7aW5mb30vMTBgIDogXCJSYXRpbmcgbm90IHByb3ZpZGVkLi5cIjtcblx0XHRcdH1cblx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvQ29udGFpbmVyKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgZHJhd1RyYWlsZXIgPSAoKSA9PiB7XG5cdFx0Y29uc3QgdHJhaWxlckNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJ0cmFpbGVyLWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCB0cmFpbGVySGVhZGluZyA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJ0cmFpbGVyLWhlYWRpbmdcIik7XG5cblx0XHRpZiAodHJhaWxlcikge1xuXHRcdFx0cmVuZGVyVHJhaWxlckhlYWRpbmcoKS5mb3JFYWNoKChlbGVtKSA9PlxuXHRcdFx0XHR0cmFpbGVySGVhZGluZy5hcHBlbmRDaGlsZChlbGVtKVxuXHRcdFx0KTtcblx0XHRcdHRyYWlsZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodHJhaWxlckhlYWRpbmcpO1xuXHRcdFx0Y29uc3QgdmlkZW9XcmFwcGVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInZpZGVvLXdyYXBwZXJcIik7XG5cdFx0XHR2aWRlb1dyYXBwZXIuYXBwZW5kQ2hpbGQoYWRkVmlkZW8odHJhaWxlci5rZXksIHRyYWlsZXIuc2l0ZSkpO1xuXHRcdFx0dHJhaWxlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh2aWRlb1dyYXBwZXIpO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJhaWxlckNvbnRhaW5lcjtcblxuXHRcdGZ1bmN0aW9uIHJlbmRlclRyYWlsZXJIZWFkaW5nKCkge1xuXHRcdFx0Y29uc3QgdHJhaWxlck5hbWUgPSByZW5kZXJFbGVtZW50KFwiaDJcIiwgXCJ0cmFpbGVyLW5hbWVcIik7XG5cdFx0XHRjb25zdCB0cmFpbGVyTGFuZ3VhZ2UgPSByZW5kZXJFbGVtZW50KFwiaDNcIiwgXCJ0cmFpbGVyLWxhbmdcIik7XG5cdFx0XHR0cmFpbGVyTmFtZS50ZXh0Q29udGVudCA9IGAke3RyYWlsZXIudE5hbWV9YDtcblx0XHRcdHRyYWlsZXJMYW5ndWFnZS50ZXh0Q29udGVudCA9IGBMYW5ndWFnZTogJHt0cmFpbGVyLmxhbmd9YDtcblxuXHRcdFx0cmV0dXJuIFt0cmFpbGVyTmFtZSwgdHJhaWxlckxhbmd1YWdlXTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBhZGRWaWRlbyhrZXksIHNpdGUpIHtcblx0XHRcdGNvbnN0IGZyYW1lID0gcmVuZGVyRWxlbWVudChcImlmcmFtZVwiLCBcInRyYWlsZXItdmlkZW9cIik7XG5cdFx0XHRjb25zdCBhdHRyaWJ1dGVzID0ge1xuXHRcdFx0XHRsb2FkaW5nOiBcImxhenlcIixcblx0XHRcdFx0d2lkdGg6IFwiNTYwXCIsXG5cdFx0XHRcdGhlaWdodDogXCIzMTVcIixcblx0XHRcdFx0c3JjOiBgaHR0cHM6Ly95b3V0dWJlLmNvbS9lbWJlZC8ke2tleX1gLFxuXHRcdFx0XHR0aXRsZTogYCR7c2l0ZX0gdmlkZW8gcGxheWVyYCxcblx0XHRcdFx0ZnJhbWVib3JkZXI6IFwiMFwiLFxuXHRcdFx0XHRhbGxvdzpcblx0XHRcdFx0XHRcImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZCBtZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZVwiLFxuXHRcdFx0fTtcblx0XHRcdGZvciAobGV0IGF0dHIgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0XHRmcmFtZS5zZXRBdHRyaWJ1dGUoYXR0ciwgYXR0cmlidXRlc1thdHRyXSk7XG5cdFx0XHRcdGZyYW1lLnNldEF0dHJpYnV0ZShcImFsbG93ZnVsbHNjcmVlblwiLCB0cnVlKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmcmFtZTtcblx0XHR9XG5cdH07XG5cdGNvbnN0IGRyYXdSZWNzID0gKCkgPT4ge1xuXHRcdGNvbnN0IHJlY3NDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmVjcy1jb250YWluZXJcIik7XG5cdFx0aWYgKE9iamVjdC5rZXlzKHJlY3MpLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Y29uc3Qgbm9uZU1zZyA9IHJlbmRlckVsZW1lbnQoXCJoNFwiLCBcIm5vLXJldmlldy1tc2dcIik7XG5cdFx0XHRub25lTXNnLnRleHRDb250ZW50ID0gXCJObyByZWNvbW1lbmRhdGlvbnMgZm91bmQuXCI7XG5cdFx0XHRyZWNzQ29udGFpbmVyLmFwcGVuZENoaWxkKG5vbmVNc2cpO1xuXHRcdFx0cmVjc0NvbnRhaW5lci5zdHlsZSA9IFwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCJcblx0XHRcdHJldHVybiByZWNzQ29udGFpbmVyO1xuXHRcdH1cblx0XHRmb3IgKGxldCByZWMgaW4gcmVjcykge1xuXHRcdFx0cmVjc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkcmF3UmVjKHJlY3NbcmVjXSkpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVjc0NvbnRhaW5lcjtcblx0fTtcblxuXHRjb25zdCBkcmF3UmVjID0gKHJlYykgPT4ge1xuXHRcdGNvbnN0IHJlY0NvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZWMtY29udGFpbmVyXCIpO1xuXHRcdGNvbnN0IHJlY1Bvc3RlciA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJyZWMtcG9zdGVyXCIpO1xuXHRcdGNvbnN0IGluZm8gPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmVjLWluZm9cIik7XG5cblx0XHRyZWNQb3N0ZXIuc3JjID0gYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL3czMDAvJHtyZWMucG9zdGVyX3BhdGh9YDtcblxuXHRcdHJlY0NvbnRhaW5lci5hcHBlbmRDaGlsZChyZWNQb3N0ZXIpO1xuXHRcdHJlbmRlckluZm8ocmVjKS5mb3JFYWNoKChzdWJJbmZvKSA9PiBpbmZvLmFwcGVuZENoaWxkKHN1YkluZm8pKTtcblxuXHRcdGNvbnN0IHJlY0xpbmsgPSByZW5kZXJFbGVtZW50KFwiYVwiLCBcInJlYy1saW5rXCIpO1xuXHRcdGNvbnN0IG1lZGlhVHlwZSA9IHJlYy50TmFtZSA/IFwiVFYgU2hvd1wiIDogXCJNb3ZpZVwiO1xuXHRcdHJlY0xpbmsudGV4dENvbnRlbnQgPSBgU2VhcmNoIGZvciB0aGlzICR7bWVkaWFUeXBlfSAtPiBgO1xuXHRcdHJlY0xpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChlKSA9PiB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRwYWdlLmNsZWFyU2VjdGlvbnMoKTtcblx0XHRcdHJlYy50TmFtZVxuXHRcdFx0XHQ/IGF3YWl0IHBhZ2UuZHJhd1NlY3Rpb25zKHJlYy50TmFtZSlcblx0XHRcdFx0OiBhd2FpdCBwYWdlLmRyYXdTZWN0aW9ucyhyZWMubU5hbWUpO1xuXHRcdH0pO1xuXG5cdFx0aW5mby5hcHBlbmRDaGlsZChyZWNMaW5rKTtcblx0XHRyZWNDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5mbyk7XG5cdFx0cmV0dXJuIHJlY0NvbnRhaW5lcjtcblxuXHRcdGZ1bmN0aW9uIHJlbmRlckluZm8oc3ViSW5mbykge1xuXHRcdFx0aWYgKHN1YkluZm8pIHtcblx0XHRcdFx0Ly8gSWYgaW5mbyBleGlzdHMuXG5cdFx0XHRcdGNvbnN0IHJlY05hbWUgPSByZW5kZXJFbGVtZW50KFwicFwiLCBcInJlYy1uYW1lXCIpO1xuXHRcdFx0XHRjb25zdCByZWNEYXRlID0gcmVuZGVyRWxlbWVudChcInBcIiwgXCJyZWMtZGF0ZVwiKTtcblx0XHRcdFx0Y29uc3Qgdm90ZUNvdW50ID0gcmVuZGVyRWxlbWVudChcInBcIiwgXCJyZWMtdm90ZS1jb3VudFwiKTtcblx0XHRcdFx0Y29uc3Qgdm90ZUF2ZyA9IHJlbmRlckVsZW1lbnQoXCJwXCIsIFwicmVjLXZvdGUtYXZnXCIpO1xuXG5cdFx0XHRcdHJlY05hbWUudGV4dENvbnRlbnQgPSBzdWJJbmZvLnROYW1lXG5cdFx0XHRcdFx0PyBgTmFtZTogJHtzdWJJbmZvLnROYW1lfWBcblx0XHRcdFx0XHQ6IGBOYW1lOiAke3N1YkluZm8ubU5hbWV9YDtcblx0XHRcdFx0cmVjRGF0ZS50ZXh0Q29udGVudCA9IHN1YkluZm8uZmlyc3RfYWlyX2RhdGVcblx0XHRcdFx0XHQ/IGBGaXJzdCBBaXIgRGF0ZTogJHtzdWJJbmZvLmZpcnN0X2Fpcl9kYXRlfWBcblx0XHRcdFx0XHQ6IGBSZWxlYXNlIERhdGU6ICR7c3ViSW5mby5yZWxlYXNlX2RhdGV9YDtcblx0XHRcdFx0dm90ZUNvdW50LnRleHRDb250ZW50ID0gYFZvdGUgQ291bnQ6ICR7c3ViSW5mby52b3RlX2NvdW50fWA7XG5cdFx0XHRcdHZvdGVBdmcudGV4dENvbnRlbnQgPSBgVm90ZSBBdmc6ICR7c3ViSW5mby52b3RlX2F2ZXJhZ2V9YDtcblxuXHRcdFx0XHRyZXR1cm4gW3JlY05hbWUsIHJlY0RhdGUsIHZvdGVDb3VudCwgdm90ZUF2Z107XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdGZ1bmN0aW9uIHJlbmRlckNvdW50cmllc01vZGFsKGN1cnJDb3VudHJ5TmFtZSkge1xuXHRcdC8vIENvdW50cnkgbmFtZXNcblx0XHRjb25zdCBwcm92aWRlckNvdW50cmllcyA9IE9iamVjdC5rZXlzKHByb3ZpZGVycyk7XG5cdFx0Ly8gU29ydCBieSBjb3VudHJ5IG5hbWUgYW5kIGNvZGVzIGludG8gYW4gb2JqLlxuXHRcdGxldCBjb3VudHJpZXMgPSB7fTtcblx0XHRsZXQgY3VyckNvdW50cnlDb2RlO1xuXHRcdHByb3ZpZGVyQ291bnRyaWVzLmZvckVhY2goKGNvdW50cnkpID0+IHtcblx0XHRcdGNvdW50cmllc1tjb3VudHJ5XSA9IHByb3ZpZGVyc1tjb3VudHJ5XS5jb3VudHJ5Q29kZTtcblxuXHRcdFx0Ly8gRmluZCBjdXJyZW50IGNvdW50cnkgY29kZS5cblx0XHRcdGlmIChjdXJyQ291bnRyeU5hbWUgPT09IGNvdW50cnkpIHtcblx0XHRcdFx0Y3VyckNvdW50cnlDb2RlID0gcHJvdmlkZXJzW2NvdW50cnldLmNvdW50cnlDb2RlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgbW9kYWxDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZm9ybVwiLCBcIm1vZGFsLWNvdW50cnktY29udGFpbmVyXCIpO1xuXHRcdGNvbnN0IG1vZGFsSGVhZGVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcIm1vZGFsLWhlYWRlclwiKTtcblxuXHRcdGNvbnN0IG1vZGFsQm9keSA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJtb2RhbC1ib2R5XCIpO1xuXHRcdGNvbnN0IG1vZGFsQ3VycmVudENvdW50cnkgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwibW9kYWwtY3VycmVudC1jb3VudHJ5XCIpO1xuXHRcdGNvbnN0IG1vZGFsSW5wdXRTZWFyY2ggPSByZW5kZXJFbGVtZW50KFwiaW5wdXRcIiwgXCJtb2RhbC1pbnB1dC1zZWFyY2hcIik7XG5cdFx0Y29uc3QgbW9kYWxMaXN0Q291bnRyaWVzID0gcmVuZGVyRWxlbWVudChcInVsXCIsIFwibW9kYWwtbGlzdC1jb3VudHJpZXNcIik7XG5cblx0XHRjb25zdCBtb2RhbENsb3NlQnRuID0gcmVuZGVyRWxlbWVudChcImJ1dHRvblwiLCBcIm1vZGFsLWNsb3NlLWJ0blwiKTtcblxuXHRcdGNvbnN0IHJlbmRlckhlYWRpbmcgPSAoKSA9PiB7XG5cdFx0XHQvLyBIZWFkaW5nIHRoYXQgZGlzcGxheXMgY3VycmVudCBjb3VudHJ5IHNlbGVjdGVkLlxuXHRcdFx0Y29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcblx0XHRcdGhlYWRpbmcudGV4dENvbnRlbnQgPSBcIkNvdW50cmllc1wiO1xuXG5cdFx0XHRjb25zdCBjdXJyQ291bnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcblx0XHRcdGNvbnN0IHNlYXJjaExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuXG5cdFx0XHRjb25zdCBzZWFyY2hBdHRyaWJ1dGVzID0ge1xuXHRcdFx0XHRpZDogXCJtb2RhbC1pbnB1dC1zZWFyY2hcIixcblx0XHRcdFx0dHlwZTogXCJzZWFyY2hcIixcblx0XHRcdFx0cGxhY2Vob2xkZXI6IFwi8J+UjSBTZWFyY2ggZm9yIGNvdW50cmllcy4uLlwiLFxuXHRcdFx0XHR0aXRsZTogXCJUeXBlIGluIGEgY291bnRyeSBuYW1lXCIsXG5cdFx0XHRcdHJvbGU6IFwic2VhcmNoXCIsXG5cdFx0XHR9O1xuXG5cdFx0XHRmb3IgKGxldCBpIGluIHNlYXJjaEF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0bW9kYWxJbnB1dFNlYXJjaC5zZXRBdHRyaWJ1dGUoaSwgc2VhcmNoQXR0cmlidXRlc1tpXSk7XG5cdFx0XHR9XG5cdFx0XHRtb2RhbElucHV0U2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmaWx0ZXJSZXN1bHRzKTtcblx0XHRcdG1vZGFsSW5wdXRTZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gRmluZCBjdXJyZW50IGNvdW50cnkgbmFtZSBhbmQgY29kZS5cblx0XHRcdGNvbnN0IGN1cnJDb3VudHJ5RmxhZyA9IHJlbmRlckNvdW50cnlGbGFnKFxuXHRcdFx0XHRjdXJyQ291bnRyeUNvZGUsXG5cdFx0XHRcdGN1cnJDb3VudHJ5TmFtZVxuXHRcdFx0KTtcblx0XHRcdGN1cnJDb3VudHJ5LnRleHRDb250ZW50ID0gY3VyckNvdW50cnlOYW1lO1xuXG5cdFx0XHRtb2RhbEN1cnJlbnRDb3VudHJ5LmFwcGVuZENoaWxkKGN1cnJDb3VudHJ5RmxhZyk7XG5cdFx0XHRtb2RhbEN1cnJlbnRDb3VudHJ5LmFwcGVuZENoaWxkKGN1cnJDb3VudHJ5KTtcblxuXHRcdFx0c2VhcmNoTGFiZWwuaHRtbEZvciA9IGAke21vZGFsSW5wdXRTZWFyY2guaWR9YDtcblxuXHRcdFx0W2hlYWRpbmcsIG1vZGFsQ3VycmVudENvdW50cnksIHNlYXJjaExhYmVsLCBtb2RhbElucHV0U2VhcmNoXS5mb3JFYWNoKFxuXHRcdFx0XHQoZm9ybUVsZW0pID0+IHtcblx0XHRcdFx0XHRtb2RhbEhlYWRlci5hcHBlbmRDaGlsZChmb3JtRWxlbSk7XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHJlbmRlckJvZHkgPSAoKSA9PiB7XG5cdFx0XHRtb2RhbExpc3RDb3VudHJpZXMuaWQgPSBcImNvdW50cmllcy1saXN0XCI7XG5cdFx0XHRmb3IgKGxldCBjb3VudHJ5IGluIGNvdW50cmllcykge1xuXHRcdFx0XHRsZXQgY291bnRyeUNvZGUgPSBjb3VudHJpZXNbY291bnRyeV07XG5cblx0XHRcdFx0Y29uc3QgY291bnRyeUNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJsaVwiLCBcImNvdW50cnktY29udGFpbmVyXCIpO1xuXHRcdFx0XHRjb25zdCBjb3VudHJ5RmxhZyA9IHJlbmRlckNvdW50cnlGbGFnKGNvdW50cnlDb2RlLCBjb3VudHJ5KTtcblx0XHRcdFx0Y29uc3QgY291bnRyeU5hbWUgPSByZW5kZXJFbGVtZW50KFwiYVwiLCBcImNvdW50cnktbmFtZVwiKTtcblxuXHRcdFx0XHRjb3VudHJ5TmFtZS50ZXh0Q29udGVudCA9IGNvdW50cnk7XG5cdFx0XHRcdGNvdW50cnlOYW1lLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCIjXCIpO1xuXG5cdFx0XHRcdFtjb3VudHJ5RmxhZywgY291bnRyeU5hbWVdLmZvckVhY2goKGNvdW50cnlFbGVtKSA9PiB7XG5cdFx0XHRcdFx0Y291bnRyeUNvbnRhaW5lci5hcHBlbmRDaGlsZChjb3VudHJ5RWxlbSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdG1vZGFsTGlzdENvdW50cmllcy5hcHBlbmRDaGlsZChjb3VudHJ5Q29udGFpbmVyKTtcblx0XHRcdH1cblxuXHRcdFx0W21vZGFsTGlzdENvdW50cmllc10uZm9yRWFjaCgoZm9ybUVsZW0pID0+IHtcblx0XHRcdFx0bW9kYWxCb2R5LmFwcGVuZENoaWxkKGZvcm1FbGVtKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRjb25zdCByZW5kZXJDbG9zZUJ0biA9IChjbG9zZUZuYykgPT4ge1xuXHRcdFx0Y29uc3QgY2xvc2VTeW1iID0gcmVuZGVyRWxlbWVudChcImlcIiwgXCJmYVwiKTtcblx0XHRcdGNsb3NlU3ltYi5jbGFzc0xpc3QuYWRkKFwiZmEtY2xvc2VcIik7XG5cdFx0XHRtb2RhbENsb3NlQnRuLmFwcGVuZENoaWxkKGNsb3NlU3ltYik7XG5cdFx0XHRjbG9zZUZuYygpO1xuXHRcdH07XG5cdFx0Y29uc3QgYWRkQ2xvc2VGbmMgPSAoKSA9PiB7XG5cdFx0XHRtb2RhbENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb3VudHJ5LWNvbnRhaW5lclwiKTtcblx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mYWNlLW1hc2tcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG5cdFx0XHRcdHNldFRpbWVvdXQoc2V0SW52aXNpYmxlLCAxMDApO1xuXHRcdFx0XHRmdW5jdGlvbiBzZXRJbnZpc2libGUoKSB7XG5cdFx0XHRcdFx0Y3VycmVudEZvcm0uc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKC0xMjUlKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNldFRpbWVvdXQocmVtb3ZlTW9kYWwsIDc1MCk7XG5cdFx0XHRcdGZ1bmN0aW9uIHJlbW92ZU1vZGFsKCkge1xuXHRcdFx0XHRcdGN1cnJlbnRGb3JtLnN0eWxlLm9wYWNpdHkgPSAwO1xuXHRcdFx0XHRcdGN1cnJlbnRGb3JtLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuXHRcdFx0XHRcdGN1cnJlbnRGb3JtLnJlbW92ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdC8vIGN1cnJlbnRGb3JtLnJlbW92ZSgpO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdC8vIFJlbmRlciBzZWN0aW9ucyBvZiB0aGUgZm9ybS5cblx0XHRyZW5kZXJIZWFkaW5nKCk7XG5cdFx0cmVuZGVyQm9keSgpO1xuXHRcdHJlbmRlckNsb3NlQnRuKGFkZENsb3NlRm5jKTtcblxuXHRcdFttb2RhbEhlYWRlciwgbW9kYWxCb2R5LCBtb2RhbENsb3NlQnRuXS5mb3JFYWNoKChtb2RhbEVsZW0pID0+XG5cdFx0XHRtb2RhbENvbnRhaW5lci5hcHBlbmRDaGlsZChtb2RhbEVsZW0pXG5cdFx0KTtcblxuXHRcdHNldFRpbWVvdXQobWFrZVZpc2libGUsIDEwMCk7XG5cdFx0ZnVuY3Rpb24gbWFrZVZpc2libGUoKSB7XG5cdFx0XHQvLyBTZXQgc3R5bGluZyB0byB2aXNpYmxlIGZvciBhbmltYXRpb24gZmFkZSBpbiBlZmZlY3QuXG5cdFx0XHRtb2RhbENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cdFx0XHRtb2RhbENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gMTtcblx0XHRcdG1vZGFsQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgwJSlcIjtcblx0XHR9XG5cblx0XHRjb25zdCBib2R5RG9jdW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcblx0XHRib2R5RG9jdW1lbnQuYXBwZW5kKG1vZGFsQ29udGFpbmVyKTtcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhY2UtbWFza1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG5cdFx0ZnVuY3Rpb24gcmVuZGVyQ291bnRyeUZsYWcoY291bnRyeUNvZGUsIGNvdW50cnlOYW1lKSB7XG5cdFx0XHRjb25zdCBmbGFnID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcImNvdW50cnktZmxhZ1wiKTtcblx0XHRcdGZsYWcuc2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIiwgXCJhbm9ueW1vdXNcIik7XG5cdFx0XHRmbGFnLnNyYyA9IGBodHRwczovL2NvdW50cnlmbGFnc2FwaS5jb20vcG5nLyR7Y291bnRyeUNvZGV9YDtcblx0XHRcdGZsYWcuYWx0ID0gYCR7Y291bnRyeU5hbWV9IGZsYWdgO1xuXHRcdFx0cmV0dXJuIGZsYWc7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZmlsdGVyUmVzdWx0cygpIHtcblx0XHRcdGxldCBpbnB1dCwgZmlsdGVyLCB1bCwgbGksIGEsIGksIHR4dFZhbHVlO1xuXHRcdFx0aW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLWlucHV0LXNlYXJjaFwiKTtcblx0XHRcdGZpbHRlciA9IGlucHV0LnZhbHVlLnRvVXBwZXJDYXNlKCk7XG5cdFx0XHR1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291bnRyaWVzLWxpc3RcIik7XG5cdFx0XHRsaSA9IHVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlcIik7XG5cblx0XHRcdC8vIExvZ2ljIHRoYXQgZmlsdGVycyB0aGUgY291bnRyaWVzIGJhc2VkIG9uIGlucHV0LlxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGxpLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGEgPSBsaVtpXS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIilbMF07XG5cdFx0XHRcdHR4dFZhbHVlID0gYS50ZXh0Q29udGVudCB8fCBhLmlubmVyVGV4dDtcblx0XHRcdFx0aWYgKHR4dFZhbHVlLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXIpID4gLTEpIHtcblx0XHRcdFx0XHRsaVtpXS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsaVtpXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gaGlnaGxpZ2h0Q3VyckNvdW50cnkoY291bnRyeU5hbWUpIHtcblx0XHQvLyBIaWdobGlnaHQgc2VsZWN0ZWQgY3VycmVudCBjb3VudHJ5IGluIHRoZSBsaXN0IG9mIGNvdW50cmllcyB3aGVuXG5cdFx0Ly8gbW9kYWwgaXMgb3BlbmVkLiBBZGQgYSB0aWNrIGljb24gc2ltdWx0YW5lb3VzbHlcblxuXHRcdGxldCB1bCwgbGksIGksIGEsIHR4dFZhbHVlO1xuXHRcdHVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb3VudHJpZXMtbGlzdFwiKTtcblx0XHRsaSA9IHVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlcIik7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGxpLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRhID0gbGlbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhXCIpWzBdO1xuXHRcdFx0dHh0VmFsdWUgPSBhLnRleHRDb250ZW50IHx8IGEuaW5uZXJUZXh0O1xuXHRcdFx0aWYgKHR4dFZhbHVlID09PSBjb3VudHJ5TmFtZSkge1xuXHRcdFx0XHRsaVtpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMjUsIDE1MCwgMTUwLCAwLjUpXCI7XG5cdFx0XHRcdGxpW2ldLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMS4wMjUpXCI7XG5cdFx0XHRcdGNvbnN0IHRpY2tJY29uID0gcmVuZGVyRWxlbWVudChcImlcIiwgXCJmYVwiKTtcblx0XHRcdFx0dGlja0ljb24uY2xhc3NMaXN0LmFkZChcImZhLWNoZWNrXCIpO1xuXHRcdFx0XHRsaVtpXS5hcHBlbmQodGlja0ljb24pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHNlY3Rpb24sXG5cdFx0YWRkVG9TZWN0aW9uLFxuXHRcdGRyYXdBbGwsXG5cdFx0ZHJhd0ludHJvLFxuXHRcdGRyYXdTdWJJbmZvcyxcblx0XHRkcmF3U3VtbWFyeUhlYWRpbmcsXG5cdFx0ZHJhd1N1bW1hcnksXG5cdFx0ZHJhd1Byb3ZpZGVycyxcblx0XHRkcmF3UmV2aWV3cyxcblx0XHRkcmF3VHJhaWxlcixcblx0XHRkcmF3UmVjcyxcblx0fTtcbn07XG5cbmV4cG9ydCB7IGRyYXdTZWN0aW9uIH07XG4iLCJpbXBvcnQgY29sbGVjdFNlYXJjaFF1ZXJ5IGZyb20gXCIuL3NlYXJjaFwiO1xuaW1wb3J0IHsgZmV0Y2hJZHMgfSBmcm9tIFwiLi4vYXBpRnVuY3Rpb25zL2ZldGNoSWRcIjtcbmltcG9ydCAqIGFzIG1vdmllIGZyb20gXCIuLi9hcGlGdW5jdGlvbnMvZmV0Y2hNb3ZpZUluZm9cIjtcbmltcG9ydCB7IGRyYXdTZWN0aW9uIH0gZnJvbSBcIi4vZHJhd1NlY3Rpb25cIjtcblxuYXN5bmMgZnVuY3Rpb24gZHJhd1NlY3Rpb25zKHRpdGxlKSB7XG5cdGNvbnN0IGlkcyA9IGF3YWl0IGZldGNoSWRzKHRpdGxlKTtcblx0Y29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250YWluZXJcIik7XG5cdHNob3dMb2FkZXIoKTtcblxuXHRsZXQgc2VjdGlvbnMgPSBbXTtcblxuXHQvLyBNYWtlIGFuIGFyciB3LyBlbGVtcyBvZiBbaWQsIG1lZGlhXVxuXHRmb3IgKGxldCBpZCBpbiBpZHMpIHtcblx0XHRzZWN0aW9ucy5wdXNoKFtpZCwgaWRzW2lkXV0pO1xuXHR9XG5cblx0Y29uc3Qgb2JzZXJ2ZXIgPSBuZXcgSW50ZXJzZWN0aW9uT2JzZXJ2ZXIoKGVudHJpZXMpID0+IHtcblx0XHRlbnRyaWVzLmZvckVhY2goKGVudHJ5KSA9PiB7XG5cdFx0XHRpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcblx0XHRcdFx0ZW50cnkudGFyZ2V0LmNsYXNzTGlzdC5hZGQoXCJzaG93XCIpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0cmV0dXJuO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHR9KTtcblx0Ly8gZHJhdyBhbGwgc2VjdGlvbnNcblx0c2VjdGlvbnMuZm9yRWFjaChhc3luYyAoc2VjdGlvbikgPT4ge1xuXHRcdGF3YWl0IHJlbmRlclNlY3Rpb24oc2VjdGlvblswXSwgc2VjdGlvblsxXSkudGhlbigoKSA9PiBoaWRlTG9hZGVyKCkpO1xuXG5cdFx0Ly8gRW5hYmxlIGFuaW1hdGlvbiBpZiBhbmltYXRpb24tY2hlY2sgY2hlY2tib3ggaXMgY2hlY2tlZC5cblx0XHRjb25zdCBhbmltYXRpb25DaGVjayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hlY2stYW5pbWF0aW9uXCIpO1xuXHRcdGlmIChhbmltYXRpb25DaGVjay5jaGVja2VkKSB7XG5cdFx0XHRjb25zdCBlbGVtZW50cyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiZGl2XCIpO1xuXHRcdFx0Wy4uLmVsZW1lbnRzXS5mb3JFYWNoKChlbCkgPT4ge1xuXHRcdFx0XHRlbC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xuXHRcdFx0XHRvYnNlcnZlci5vYnNlcnZlKGVsKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0fSk7XG5cblx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1zZWFyY2hcIikudmFsdWUgPSB0aXRsZS5zcGxpdChcIitcIikuam9pbihcIiBcIik7XG5cblx0YXN5bmMgZnVuY3Rpb24gcmVuZGVyU2VjdGlvbihpZCwgbWVkaWEpIHtcblx0XHRjb25zdCBzZWN0aW9uID0gYXdhaXQgZHJhd1NlY3Rpb24oaWQsIG1lZGlhKTtcblxuXHRcdC8vIEFkZCB3cmFwcGVyIGRpdnMgZm9yIGxheW91dC5cblx0XHRjb25zdCBpbnRyb1N1YkluZm8gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGludHJvU3ViSW5mby5jbGFzc0xpc3QuYWRkKFwiaW50cm8tc3ViLWluZm9cIik7XG5cdFx0aW50cm9TdWJJbmZvLmFwcGVuZENoaWxkKHNlY3Rpb24uZHJhd0ludHJvKFwiMzAwXCIpKTtcblx0XHRpbnRyb1N1YkluZm8uYXBwZW5kQ2hpbGQoc2VjdGlvbi5kcmF3U3ViSW5mb3MoKSk7XG5cblx0XHRjb25zdCBzeW5vcHNpc1dhdGNoUHZkZXJzID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRzeW5vcHNpc1dhdGNoUHZkZXJzLmNsYXNzTGlzdC5hZGQoXCJzeW5vcHNpcy13YXRjaC1wcm92aWRlcnNcIik7XG5cdFx0c3lub3BzaXNXYXRjaFB2ZGVycy5hcHBlbmRDaGlsZChzZWN0aW9uLmRyYXdTdW1tYXJ5SGVhZGluZygpKTtcblx0XHRzeW5vcHNpc1dhdGNoUHZkZXJzLmFwcGVuZENoaWxkKHNlY3Rpb24uZHJhd1N1bW1hcnkoKSk7XG5cdFx0c3lub3BzaXNXYXRjaFB2ZGVycy5hcHBlbmRDaGlsZChzZWN0aW9uLmRyYXdQcm92aWRlcnMoKSk7XG5cblx0XHRjb25zdCByZWNIZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuXHRcdHJlY0hlYWRpbmcuY2xhc3NMaXN0LmFkZChcInJlYy1oZWFkaW5nXCIpO1xuXHRcdHJlY0hlYWRpbmcudGV4dENvbnRlbnQgPSBcIlJFQ09NTUVOREFUSU9OUzpcIjtcblxuXHRcdHNlY3Rpb24uYWRkVG9TZWN0aW9uKGludHJvU3ViSW5mbyk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oc3lub3BzaXNXYXRjaFB2ZGVycyk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3UmV2aWV3cygpKTtcblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihzZWN0aW9uLmRyYXdUcmFpbGVyKCkpO1xuXHRcdHNlY3Rpb24uYWRkVG9TZWN0aW9uKHJlY0hlYWRpbmcpO1xuXHRcdHNlY3Rpb24uYWRkVG9TZWN0aW9uKHNlY3Rpb24uZHJhd1JlY3MoKSk7XG5cdFx0bWFpbi5hcHBlbmRDaGlsZChzZWN0aW9uLnNlY3Rpb24pO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGNsZWFyU2VjdGlvbnMoKSB7XG5cdGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGFpbmVyXCIpO1xuXHRjb25zdCBsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRlclwiKTtcblx0Y29uc3Qgc2VjdGlvbnMgPSBtYWluLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzZWN0aW9uJyk7XG5cdFsuLi5zZWN0aW9uc10uZm9yRWFjaChzZWN0ID0+IHNlY3QucmVtb3ZlKCkpO1xufVxuXG5mdW5jdGlvbiBzaG93TG9hZGVyKCkge1xuXHRjb25zdCBsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRlclwiKTtcblx0bG9hZGVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbn1cbmZ1bmN0aW9uIGhpZGVMb2FkZXIoKSB7XG5cdGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGVyXCIpO1xuXG5cdGxvYWRlci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcblxufVxuXG5leHBvcnQgeyBkcmF3U2VjdGlvbnMsIGNsZWFyU2VjdGlvbnMgfTtcbiIsImltcG9ydCB7IGRyYXdTZWN0aW9ucywgY2xlYXJTZWN0aW9ucyB9IGZyb20gXCIuLi9ET01GdW5jdGlvbnMvZHJhd1NlY3Rpb25zXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGFkZFN1Ym1pdFNlYXJjaEZuYygpIHtcblx0Y29uc3Qgc2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtcXVlcnlcIik7XG5cdHNlYXJjaEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y29uc3QgcXVlcnkgPSBpbnRlcnByZXRUb1F1ZXJ5KFxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1zZWFyY2hcIikudmFsdWVcblx0XHQpO1xuXHRcdGlmICghcXVlcnkpIHtcblx0XHRcdGFsZXJ0KFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgbW92aWUvdHYgc2hvd1wiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGl0bGUgcGFnZXMgZWxlbXMgaWYgYW55LlxuXHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGUtcGFnZVwiKVxuXHRcdFx0PyBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlLXBhZ2VcIikucmVtb3ZlKClcblx0XHRcdDogXCJcIjtcblx0XHRcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmludHJvLWNvbnRhaW5lcjJcIilcblx0XHRcdD8gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnRyby1jb250YWluZXIyXCIpLnJlbW92ZSgpXG5cdFx0XHQ6IFwiXCI7XG5cblx0XHRjbGVhclNlY3Rpb25zKCk7XG5cdFx0YXdhaXQgZHJhd1NlY3Rpb25zKHF1ZXJ5KTtcblxuXHR9KTtcbn1cblxuZnVuY3Rpb24gaW50ZXJwcmV0VG9RdWVyeShuYW1lKSB7XG5cdHJldHVybiBuYW1lLnNwbGl0KFwiIFwiKS5qb2luKFwiK1wiKTtcbn1cbiIsImltcG9ydCB7IGRyYXdTZWN0aW9ucyB9IGZyb20gXCIuL2pzL0RPTUZ1bmN0aW9ucy9kcmF3U2VjdGlvbnNcIjtcbmltcG9ydCBhZGRUb2dnbGVBbmltYXRpb25GbmMgZnJvbSBcIi4vanMvVUkvY2hlY2tBbmltYXRpb25cIjtcbmltcG9ydCBhZGRTdWJtaXRTZWFyY2hGbmMgZnJvbSBcIi4vanMvVUkvc3VibWl0U2VhcmNoXCI7XG5cbmluaXRpYWxpc2VQYWdlKCk7XG5cbmZ1bmN0aW9uIGluaXRpYWxpc2VQYWdlKCkge1xuICAgIGFkZFN1Ym1pdFNlYXJjaEZuYygpO1xuICAgIGFkZFRvZ2dsZUFuaW1hdGlvbkZuYygpO1xuICAgIC8vIGRyYXdTZWN0aW9ucyhcIkdhbWUgT2YgVGhyb25lc1wiKTtcbn1cblxuXG5cbiJdLCJuYW1lcyI6WyJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cmllcyIsImZvckVhY2giLCJlbnRyeSIsImlzSW50ZXJzZWN0aW5nIiwidGFyZ2V0IiwiY2xhc3NMaXN0IiwiYWRkIiwiQVBJX0tFWSIsImFzeW5jIiwiZmV0Y2hNb3ZpZURldGFpbHMiLCJtb3ZpZV9pZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtb2RlIiwib3JpZ2luYWxfdGl0bGUiLCJvdmVydmlldyIsInRhZ2xpbmUiLCJwb3B1bGFyaXR5Iiwidm90ZV9hdmVyYWdlIiwidm90ZV9jb3VudCIsImdlbnJlcyIsInZpZGVvIiwicnVudGltZSIsInBvc3Rlcl9wYXRoIiwiYmFja2Ryb3BfcGF0aCIsInJlbGVhc2VfZGF0ZSIsImpzb24iLCJtTmFtZSIsInN1bW1hcnkiLCJtYXAiLCJnZW5yZSIsIm5hbWUiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiZmV0Y2hNb3ZpZVJlY2NvcyIsIm9rIiwiRXJyb3IiLCJyZXN1bHRzIiwic2xpY2UiLCJtb3ZpZSIsImlkIiwiZmV0Y2hNb3ZpZVByb3ZpZGVycyIsInByb3ZpZGVyc0J5Q291bnRyeSIsImRhdGEiLCJjb3VudHJ5Q29kZSIsImNvdW50cnkiLCJjb2RlIiwiSW50bCIsIkRpc3BsYXlOYW1lcyIsInR5cGUiLCJvZiIsInN0cmVhbSIsInJlbnQiLCJidXkiLCJzb3J0UHJvdmlkZXJzIiwic2VydmljZXMiLCJjb2xsZWN0aW9uIiwic2VydmljZSIsInByb3ZpZGVySW5mbyIsInByb3ZpZGVyX25hbWUiLCJwcm92aWRlcl9sb2dvX3BhdGgiLCJsb2dvX3BhdGgiLCJwdXNoIiwiZmxhdHJhdGUiLCJlcnJvcm9yIiwiZmV0Y2hNb3ZpZVRyYWlsZXIiLCJ0cmFpbGVycyIsImZpbHRlciIsImxlbmd0aCIsIm1vdmllVHJhaWxlciIsImZpbmQiLCJvZmZpY2lhbCIsInROYW1lIiwia2V5Iiwic2l0ZSIsImxhbmciLCJpc29fNjM5XzEiLCJmZXRjaE1vdmllUmV2aWV3cyIsInJldmlld3MiLCJyZXZpZXciLCJhdXRob3IiLCJyYXRpbmciLCJhdXRob3JfZGV0YWlscyIsInBpY19wYXRoIiwiYXZhdGFyX3BhdGgiLCJjb250ZW50IiwidXJsIiwibGFzdF91cGRhdGVkIiwidXBkYXRlZF9hdCIsImZldGNoVHZEZXRhaWxzIiwidHZfaWQiLCJyZWR1Y2UiLCJhY2MiLCJ2YWwiLCJvcmlnaW5hbF9uYW1lIiwibGFuZ3VhZ2UiLCJvcmlnaW5hbF9sYW5ndWFnZSIsImVwaXNvZGVfcnVuX3RpbWUiLCJvcmlnaW5fY291bnRyeSIsInN0YXR1cyIsInNlYXNvbnMiLCJudW1iZXJfb2Zfc2Vhc29ucyIsImZpcnN0X2Fpcl9kYXRlIiwibGFzdF9haXJfZGF0ZSIsImZldGNoVHZSZWNjb3MiLCJyZWNUdnMiLCJ0diIsImZldGNoVHZQcm92aWRlcnMiLCJmZXRjaFR2VHJhaWxlciIsInR2VHJhaWxlciIsImZldGNoVHZSZXZpZXdzIiwiZHJhd1NlY3Rpb24iLCJtZWRpYSIsInNlY3Rpb24iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkZXRhaWxzIiwiZ2V0SW5mbyIsInJlY3MiLCJwcm92aWRlcnMiLCJ0cmFpbGVyIiwiYWRkVG9TZWN0aW9uIiwicGFydCIsImFwcGVuZENoaWxkIiwicmVuZGVyRWxlbWVudCIsInRhZyIsImNsYXNzTmFtZSIsImNvbnRhaW5lciIsIm1vdmllRm5jIiwidHZGbmMiLCJkcmF3SW50cm8iLCJpbWdTaXplIiwiaW50cm9Db250YWluZXIiLCJ0aXRsZSIsInRleHRDb250ZW50IiwiY3JlYXRlVGl0bGUiLCJ0YWdQYXJhIiwid3JpdGVUYWdsaW5lIiwiaW1nIiwicG9zdGVyIiwiYmFzZUltZ1VybCIsImltZ19wYXRoIiwic3JjIiwiYWx0Iiwic2V0QXR0cmlidXRlIiwicmVuZGVySW1nIiwiZHJhd1JlYyIsInJlYyIsInJlY0NvbnRhaW5lciIsInJlY1Bvc3RlciIsImluZm8iLCJzdWJJbmZvIiwicmVjTmFtZSIsInJlY0RhdGUiLCJ2b3RlQ291bnQiLCJ2b3RlQXZnIiwicmVuZGVySW5mbyIsInJlY0xpbmsiLCJtZWRpYVR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZHJhd0FsbCIsImRyYXdTdWJJbmZvcyIsImRhdGUiLCJsYXN0QWlyZWQiLCJjcmVhdGVTdWJJbmZvIiwic3BsaXQiLCJyZXZlcnNlIiwiam9pbiIsIm1pbnMiLCJob3VycyIsInJIb3VycyIsIk1hdGgiLCJmbG9vciIsIm1pbnV0ZXMiLCJyb3VuZCIsImNvbnZlcnRNaW5Ub0hyIiwiY2F0ZWdvcnkiLCJjYXRlZ29yeU5hbWUiLCJjYXRlZ29yeUluZm8iLCJkcmF3U3VtbWFyeUhlYWRpbmciLCJoZWFkaW5nIiwiZHJhd1N1bW1hcnkiLCJwYXJhIiwiZHJhd1Byb3ZpZGVycyIsImF2YWlsUHJvdmlkZXJzIiwicHJvdmlkZXJDb250YWluZXIiLCJjb3VudHJ5QnRuIiwiaG91c2VDb250YWluZXIiLCJlbGVtIiwiT2JqZWN0Iiwia2V5cyIsImluY2x1ZGVzIiwiZmxhZyIsImRyYXdQcm92aWRlciIsImZpcnN0UHJvdmlkZXIiLCJlcnIiLCJsb2ciLCJsb3N0R2lmIiwic3R5bGUiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJkb3duQXJyb3ciLCJjdXJyQ291bnRyeU5hbWUiLCJwcm92aWRlckNvdW50cmllcyIsImN1cnJDb3VudHJ5Q29kZSIsImNvdW50cmllcyIsIm1vZGFsQ29udGFpbmVyIiwibW9kYWxIZWFkZXIiLCJtb2RhbEJvZHkiLCJtb2RhbEN1cnJlbnRDb3VudHJ5IiwibW9kYWxJbnB1dFNlYXJjaCIsIm1vZGFsTGlzdENvdW50cmllcyIsIm1vZGFsQ2xvc2VCdG4iLCJyZW5kZXJDb3VudHJ5RmxhZyIsImNvdW50cnlOYW1lIiwiZmlsdGVyUmVzdWx0cyIsImlucHV0IiwidWwiLCJsaSIsImEiLCJpIiwidHh0VmFsdWUiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwidG9VcHBlckNhc2UiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlubmVyVGV4dCIsImluZGV4T2YiLCJjdXJyQ291bnRyeSIsInNlYXJjaExhYmVsIiwic2VhcmNoQXR0cmlidXRlcyIsInBsYWNlaG9sZGVyIiwicm9sZSIsImN1cnJDb3VudHJ5RmxhZyIsImh0bWxGb3IiLCJmb3JtRWxlbSIsInJlbmRlckhlYWRpbmciLCJjb3VudHJ5Q29udGFpbmVyIiwiY291bnRyeUZsYWciLCJjb3VudHJ5RWxlbSIsInJlbmRlckJvZHkiLCJjbG9zZUZuYyIsImNsb3NlU3ltYiIsInJlbmRlckNsb3NlQnRuIiwiY3VycmVudEZvcm0iLCJxdWVyeVNlbGVjdG9yIiwic2V0VGltZW91dCIsInRyYW5zZm9ybSIsIm9wYWNpdHkiLCJ2aXNpYmlsaXR5IiwicmVtb3ZlIiwibW9kYWxFbGVtIiwiYXBwZW5kIiwicmVuZGVyQ291bnRyaWVzTW9kYWwiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0aWNrSWNvbiIsImhpZ2hsaWdodEN1cnJDb3VudHJ5IiwicXVlcnlTZWxlY3RvckFsbCIsImxhc3RDaGlsZCIsInNlbGVjdGVkQ291bnRyeSIsImlubmVySFRNTCIsInN0cmVhbUluZm8iLCJidXlJbmZvIiwicmVudEluZm8iLCJzZXJ2aWNlTmFtZXMiLCJpZHgiLCJzZXJ2aWNlQ29udGFpbmVyIiwic2VydmljZU5hbWUiLCJzZXJ2aWNlTmFtZUJvbGQiLCJwcm92aWRlclNlcnZpY2VDb250YWluZXIiLCJwcm92aWRlciIsInByb3ZpZGVyU2VydmljZSIsInByb3ZpZGVySW1nIiwicHJvdmlkZXJOYW1lIiwiZHJhd1Jldmlld3MiLCJyZXZpZXdDb250YWluZXIiLCJhZGRSZXZJbmZvIiwiaW5mb0NvbnRhaW5lciIsInJldmlld0hlYWRpbmciLCJhdXRob3JQaWMiLCJyZW5kZXJSZXZpZXdIZWFkaW5nIiwicmV2aWV3Q29udGVudCIsInJlbmRlclJldmlld0JvZHkiLCJyZXZpZXdGb290ZXIiLCJyZXZpZXdVcmwiLCJyZXZpZXdVcGRhdGVkIiwiY29uY2F0IiwicmVuZGVyUmV2aWV3Rm9vdGVyIiwiZHJhd1JldmlldyIsImRyYXdUcmFpbGVyIiwidHJhaWxlckNvbnRhaW5lciIsInRyYWlsZXJIZWFkaW5nIiwidHJhaWxlck5hbWUiLCJ0cmFpbGVyTGFuZ3VhZ2UiLCJyZW5kZXJUcmFpbGVySGVhZGluZyIsInZpZGVvV3JhcHBlciIsImZyYW1lIiwiYXR0cmlidXRlcyIsImxvYWRpbmciLCJ3aWR0aCIsImhlaWdodCIsImZyYW1lYm9yZGVyIiwiYWxsb3ciLCJhdHRyIiwiYWRkVmlkZW8iLCJkcmF3UmVjcyIsInJlY3NDb250YWluZXIiLCJub25lTXNnIiwiZHJhd1NlY3Rpb25zIiwiaWRzIiwicXVlcnkiLCJpbnRlcnByZXRUb1F1ZXJ5IiwicmVzdWx0IiwibWVkaWFfdHlwZSIsInNvcnQiLCJwMSIsInAyIiwiYWxlcnQiLCJmZXRjaElkcyIsIm1haW4iLCJzZWN0aW9ucyIsImludHJvU3ViSW5mbyIsInN5bm9wc2lzV2F0Y2hQdmRlcnMiLCJyZWNIZWFkaW5nIiwicmVuZGVyU2VjdGlvbiIsInRoZW4iLCJjaGVja2VkIiwiZWwiLCJvYnNlcnZlIiwiY2xlYXJTZWN0aW9ucyIsInNlY3QiLCJhZGRTdWJtaXRTZWFyY2hGbmMiLCJhbmltYXRpb25DaGVjayIsImVsZW1lbnRzIiwiZGlzY29ubmVjdCIsImFkZFRvZ2dsZUFuaW1hdGlvbkZuYyJdLCJzb3VyY2VSb290IjoiIn0=