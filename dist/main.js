(()=>{"use strict";const e="720d2150cf09bfa61e28a5042cd7468f",t="720d2150cf09bfa61e28a5042cd7468f";async function a(e){try{const a=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${t}&language=en-US`,{mode:"cors"}),n=await a.json(),r=n.genres.reduce(((e,t)=>[...e,t.name]),[]);return{mName:n.original_title,summary:n.overview,tagline:n.tagline,popularity:n.popularity,vote_average:n.vote_average,vote_count:n.vote_count,genres:r,video:n.video,runtime:n.runtime,poster_path:n.poster_path,backdrop_path:n.backdrop_path,release_date:n.release_date}}catch(e){alert(e)}}async function n(e){try{const a=await fetch(`https://api.themoviedb.org/3/movie/${e}/recommendations?api_key=${t}&language=en-US&page=1`,{mode:"cors"}),n=await a.json(),r={};if(n.results){let e=1;for(let t of n.results){if(r[t.original_title]={mName:t.original_title,id:t.id,poster_path:t.poster_path,backdrop_path:t.backdrop_path,release_date:t.release_date,vote_count:t.vote_count,vote_average:t.vote_average},5===e)break;e++}}return r}catch(e){alert(e)}}async function r(e){const a={};try{const r=await fetch(`https://api.themoviedb.org/3/movie/${e}/watch/providers?api_key=${t}`,{mode:"cors"}),o=await r.json();for(const e in o.results){const t=(n=e,new Intl.DisplayNames(["en"],{type:"region"}).of(n));a[t]={stream:[],rent:[],buy:[],countryCode:e};const r=(e,t)=>{e&&e.forEach((e=>{const a={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(a)}))};r(o.results[e].flatrate,a[t].stream),r(o.results[e].rent,a[t].rent),r(o.results[e].buy,a[t].buy)}return a}catch(e){alert(e)}var n}async function o(e){try{let n;const r=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=${t}`,{mode:"cors"}),o=(await r.json()).results.filter((e=>"Trailer"===e.type));if(0===o.length)return!1;const i=o.filter((e=>{e.official}));return n=0!==i.length?i[0]:o[0],{tName:n.name,key:n.key,site:n.site,type:n.type,lang:(a=n.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(a))}}catch(e){alert(e)}var a}async function i(e){try{let a=[];const n=await fetch(`https://api.themoviedb.org/3/movie/${e}/reviews?api_key=${t}&language=en-US&page=1`,{mode:"cors"}),r=await n.json();return 0!==r.results.length&&(r.results.forEach((e=>{a.push({author:e.author,rating:e.author_details.rating,pic_path:e.author_details.avatar_path,content:e.content,url:e.url,last_updated:e.updated_at})})),a.slice(0,5))}catch(e){alert(e)}}const s="720d2150cf09bfa61e28a5042cd7468f";async function c(e){try{const t=await fetch(`https://api.themoviedb.org/3/tv/${e}?api_key=${s}&language=en-US`,{mode:"cors"}),a=await t.json();console.log(a);const n=a.genres.reduce(((e,t)=>[...e,t.name]),[]);return{tName:a.original_name,tagline:a.tagline,language:a.original_language,summary:a.overview,episode_run_time:a.episode_run_time[0],origin_country:a.origin_country,vote_average:a.vote_average,vote_count:a.vote_count,status:a.status,seasons:a.seasons,number_of_seasons:a.number_of_seasons,first_air_date:a.first_air_date,last_air_date:a.last_air_date,backdrop_path:a.backdrop_path,poster_path:a.poster_path,popularity:a.popularity,genres:n}}catch(e){alert(e)}}async function d(e){try{const t=await fetch(`https://api.themoviedb.org/3/tv/${e}/recommendations?api_key=${s}&language=en-US&page=1`,{mode:"cors"}),a=await t.json(),n={};if(a.results){let e=1;for(let t of a.results){if(n[t.original_name]={tName:t.original_name,id:t.id,first_air_date:t.first_air_date,poster_path:t.poster_path,backdrop_path:t.backdrop_path,vote_average:t.vote_average,vote_count:t.vote_count},5===e)break;e++}}return n}catch{alert(err)}}async function l(e){const t={};try{const n=await fetch(`https://api.themoviedb.org/3/tv/${e}/watch/providers?api_key=${s}`,{mode:"cors"}),r=await n.json();for(const e in r.results){const n=(a=e,new Intl.DisplayNames(["en"],{type:"region"}).of(a));t[n]={stream:[],rent:[],buy:[],countryCode:e};const o=(e,t)=>{e&&e.forEach((e=>{const a={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(a)}))};o(r.results[e].flatrate,t[n].stream),o(r.results[e].rent,t[n].rent),o(r.results[e].buy,t[n].buy)}return t}catch(e){alert(e)}var a}async function p(e){try{let a;const n=await fetch(`https://api.themoviedb.org/3/tv/${e}/videos?api_key=${s}`,{mode:"cors"}),r=(await n.json()).results.filter((e=>"Trailer"===e.type));if(0===r.length)return!1;const o=r.filter((e=>{e.official}));return a=0!==o.length?o[0]:r[0],{tName:a.name,key:a.key,site:a.site,type:a.type,lang:(t=a.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(t))}}catch(e){alert(e)}var t}async function u(e){try{let t=[];const a=await fetch(`https://api.themoviedb.org/3/tv/${e}/reviews?api_key=${s}&language=en-US&page=1`,{mode:"cors"}),n=await a.json();if(0===n.results.length)return!1;let r=1;return n.results.forEach((e=>{t.push({author:e.author,rating:e.author_details.rating,pic_path:e.author_details.avatar_path,content:e.content,url:e.url,last_updated:e.updated_at}),r++})),t.slice(0,5)}catch(e){alert(e)}}const m=async(e,t)=>{const s=document.createElement("section"),m=await b(e,a,c),v=await b(e,n,d);console.log(v);const g=await b(e,r,l),y=await b(e,o,p);console.log(y);const _=await b(e,i,u);function C(e){e&&s.appendChild(e)}function w(e,t){const a=document.createElement(e);return a.classList.add(t),a}async function b(e,a,n){return"movie"===t?await a(e):await n(e)}console.log(_);const E=e=>{const t=document.createElement("div");t.classList.add("intro"),t.appendChild(function(){const e=document.createElement("h1");return e.textContent=m.mName?m.mName:m.tName,e.classList.add("title"),e}()),m.tagline&&t.appendChild(function(){const e=document.createElement("em");return e.textContent=`"${m.tagline}"`,e.classList.add("tagline"),e}());const a=function(e=""){const t=document.createElement("img"),a="https://image.tmdb.org/t/p";let n;if(t.classList.add("poster"),m.poster_path)n=m.poster_path;else{if(!m.backdrop_path)return;n=m.backdrop_path}return t.src=e?`${a}/w${e}/${n}`:`${a}/original/${n}`,t.alt="Movie picture poster",t.setAttribute("loading","lazy"),t}(e);return a&&t.appendChild(a),t},$=e=>{const t=w("div","rec-container"),a=w("img","rec-poster"),n=w("div","rec-info");a.src=`https://image.tmdb.org/t/p/w300/${e.poster_path}`,t.appendChild(a),function(e){if(e){const t=w("p","rec-name"),a=w("p","rec-date"),n=w("p","rec-vote-count"),r=w("p","rec-vote-avg");return t.textContent=e.tName?`Name: ${e.tName}`:`Name: ${e.mName}`,a.textContent=e.first_air_date?`First Air Date: ${e.first_air_date}`:`Release Date: ${e.release_date}`,n.textContent=`Vote Count: ${e.vote_count}`,r.textContent=`Vote Avg: ${e.vote_average}`,[t,a,n,r]}}(e).forEach((e=>n.appendChild(e)));const r=w("a","rec-link"),o=e.tName?"TV Show":"Movie";return r.textContent=`Search for this ${o} -> `,r.addEventListener("click",(async t=>{t.preventDefault(),f(),e.tName?await h(e.tName):await h(e.mName)})),n.appendChild(r),t.appendChild(n),t};return{section:s,addToSection:C,drawAll:function(){C(E())},drawIntro:E,drawSubInfos:()=>{const e=document.createElement("div");let t,a;e.classList.add("subinfo-container"),m.release_date?(t=r("Release Date:",m.release_date.split("-").reverse().join("/")),a=""):m.first_air_date?(t=r("First Aired: ",m.first_air_date.split("-").reverse().join("/")),a=r("Last Aired: ",m.last_air_date.split("-").reverse().join("/"))):t="";let n=m.runtime?function(e){const t=e/60,a=Math.floor(t),n=60*(t-a);return`${a}h ${Math.round(n)}min`}(m.runtime):"";function r(e,t){if(!t)return;const a=document.createElement("div"),n=document.createElement("span"),r=document.createElement("span");return a.classList.add("sub-info"),n.classList.add("category-name"),r.classList.add("category-info"),n.textContent=e,r.textContent=t,[n,r].forEach((e=>a.appendChild(e))),a}return[t,a,r("Show status:",m.status),r("Runtime: ",n),r("Genres: ",m.genres.join(", ")),r("Number of seasons: ",m.number_of_seasons),r("Est Avg Episode Runtime: ",m.episode_run_time),r("Country of Origin: ",m.origin_country),r("Vote Average: ",m.vote_average),r("Vote Count: ",m.vote_count),r("Popularity: ",m.popularity)].forEach((t=>t?e.appendChild(t):"")),e},drawSummaryHeading:()=>{const e=document.createElement("h2");return e.textContent="Synopsis: ",e},drawSummary:()=>{const e=document.createElement("p");return e.textContent=m.summary,e.classList.add("summary"),e},drawProviders:()=>{let e;const t=w("div","provider-container"),a=w("button","country-btn"),n=w("div","house-provider-container");if([a,n].forEach((e=>{t.appendChild(e)})),Object.keys(g).length)if(e=!0,Object.keys(g).includes("Australia"))r("Australia"),a.textContent="Australia";else{const e=Object.keys(g)[0];r(e),a.textContent=`${e}`}else e=!1,a.textContent="No countries offer this tv/movie at the moment.";return a.addEventListener("click",(t=>{t.preventDefault(),e&&(function(e){const t=Object.keys(g);let a,n={};t.forEach((t=>{n[t]=g[t].countryCode,e===t&&(a=g[t].countryCode)}));const r=w("form","modal-country-container"),o=w("div","modal-header"),i=w("div","modal-body"),s=w("div","modal-current-country"),c=w("input","modal-input-search"),d=w("ul","modal-list-countries"),l=w("button","modal-close-btn");function p(e,t){const a=w("img","country-flag");return a.setAttribute("crossorigin","anonymous"),a.src=`https://countryflagsapi.com/png/${e}`,a.alt=`${t} flag`,a}function u(){let e,t,a,n,r,o,i;for(e=document.getElementById("modal-input-search"),t=e.value.toUpperCase(),a=document.getElementById("countries-list"),n=a.getElementsByTagName("li"),o=0;o<n.length;o++)r=n[o].getElementsByTagName("a")[0],i=r.textContent||r.innerText,i.toUpperCase().indexOf(t)>-1?n[o].style.display="":n[o].style.display="none"}(()=>{const t=document.createElement("h2");t.textContent="Countries";const n=document.createElement("h3"),r=document.createElement("label"),i={id:"modal-input-search",type:"search",placeholder:"üîç Search for countries...",title:"Type in a country name",role:"search"};for(let e in i)c.setAttribute(e,i[e]);c.addEventListener("keyup",u),c.addEventListener("submit",(e=>{e.preventDefault()}));const d=p(a,e);n.textContent=e,s.appendChild(d),s.appendChild(n),r.htmlFor=`${c.id}`,[t,s,r,c].forEach((e=>{o.appendChild(e)}))})(),(()=>{d.id="countries-list";for(let e in n){let t=n[e];const a=w("li","country-container"),r=p(t,e),o=w("a","country-name");o.textContent=e,o.setAttribute("href","#"),[r,o].forEach((e=>{a.appendChild(e)})),d.appendChild(a)}[d].forEach((e=>{i.appendChild(e)}))})(),(e=>{const t=w("i","fa");t.classList.add("fa-close"),l.appendChild(t),e()})((()=>{l.addEventListener("click",(e=>{e.preventDefault(),document.querySelector(".modal-country-container").remove(),document.querySelector(".face-mask").style.display="none"}))})),[o,i,l].forEach((e=>r.appendChild(e))),document.querySelector("body").append(r),document.querySelector(".face-mask").style.display="block"}(a.textContent),function(e){let t,a,n,r,o;for(t=document.getElementById("countries-list"),a=t.getElementsByTagName("li"),n=0;n<a.length;n++)if(r=a[n].getElementsByTagName("a")[0],o=r.textContent||r.innerText,o===e){a[n].style.backgroundColor="rgba(25, 150, 150, 0.5)",a[n].style.transform="scale(1.025)";const e=w("i","fa");e.classList.add("fa-check"),a[n].append(e)}}(a.textContent),document.querySelectorAll(".country-container").forEach((e=>e.addEventListener("click",(t=>{if(t.preventDefault(),e.lastChild.textContent){const t=e.lastChild.textContent;n.innerHTML="",r(t)}document.querySelector(".modal-country-container").remove(),document.querySelector(".face-mask").style.display="none"})))))})),t;function r(e="Australia"){a.textContent=e;const t=g[e].stream,r=g[e].buy,o=g[e].rent,i=["Stream at:","Purchase at:","Rent at:"];let s=0;[t,r,o].forEach((e=>{const t=w("div","service-container"),a=w("div","service-name"),r=w("h2","service-name-bold"),o=w("div","provider-service-container");e.forEach((e=>{const t=w("div","provider-service"),a=w("img","provider-img"),n=w("span","provider-name");e.provider_logo_path&&(a.src=`https://image.tmdb.org/t/p/original/${e.provider_logo_path}`,a.alt=`${e.provider_name} picture.`,a.setAttribute("loading","lazy"),n.textContent=e.provider_name),[a,n].forEach((e=>{t.appendChild(e)})),o.appendChild(t)})),e.length&&(r.textContent=`${i[s]}`,a.appendChild(r)),s++,t.appendChild(a),t.appendChild(o),n.appendChild(t)}))}},drawReviews:()=>{if(!_)return;const e=w("div","review-container"),t=w("h2","review-title");return t.textContent="Reviews:",e.appendChild(t),_.forEach((t=>((e,t)=>{function a(t,a,n,r){const o=w(n,r);t&&(o.textContent=t),t===e.rating&&(o.textContent=`${t}/10`),a.appendChild(o)}t.appendChild((()=>{const t=w("div","review-heading");if(e.pic_path){const a=w("img","author-pic");"http"!==e.pic_path.slice(1,5)?a.src=`https://image.tmdb.org/t/p/w300/${e.pic_path}`:a.src=e.pic_path.slice(1),a.alt=`${e.author} profile picture.`,t.appendChild(a)}return a(e.author,t,"h3","review-author"),a(e.rating,t,"span","review-rating"),t})()),t.appendChild((()=>{const t=w("p","review-content");return t.textContent=`"${e.content}"`,t})()),t.appendChild((()=>{const t=w("div","review-footer"),a=w("a","review-link"),n=w("span","review-updated");var r;return a.setAttribute("href",`${e.url}`),a.setAttribute("target","_blank"),a.textContent="Click for review link",n.textContent=`Last updated: ${r=e.last_updated,(r=r.split("-"))[2]=r[2].slice(0,2)+"/",r[2].concat(r.slice(0,2).reverse().join("/"))}`,t.appendChild(a),t.appendChild(n),t})())})(t,e))),e},drawTrailer:()=>{const e=w("div","trailer-container"),t=w("div","trailer-heading");if(y){(function(){const e=w("h2","trailer-name"),t=w("h3","trailer-lang");return e.textContent=`${y.tName}`,t.textContent=`Language: ${y.lang}`,[e,t]})().forEach((e=>t.appendChild(e))),e.appendChild(t);const a=w("div","video-wrapper");a.appendChild(function(e,t){const a=w("iframe","trailer-video"),n={loading:"lazy",width:"560",height:"315",src:`https://youtube.com/embed/${e}`,title:`${t} video player`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted media; gyroscope; picture-in-picture; web-share"};for(let e in n)a.setAttribute(e,n[e]),a.setAttribute("allowfullscreen",!0);return a}(y.key,y.site)),e.appendChild(a)}return e},drawRecs:()=>{const e=w("div","recs-container");if(!v){const t=w("h4","no-review-msg");return t.textContent="No recommendations found",e.appendChild(t),e}for(let t in v)e.appendChild($(v[t]));return e}}};async function h(t){const a=await async function(t){const a=function(e){return e.split(" ").join("+")}(t);try{const n=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${e}&language=en-US&query=${a}&page=1`,{mode:"cors"}),r=await n.json();let o={},i=r.results.sort(((e,t)=>e.popularity<t.popularity?1:e.popularity>t.popularity?-1:0));if(i.length){for(let e=0;e<i.length;e++)o[i[e].id]=i[e].media_type;return console.log(o),o}return void alert(`No results found for ${t}`)}catch(e){alert(e)}}(t),n=document.querySelector(".main-container");let r=[];for(let e in a)r.push([e,a[e]]);async function o(e,t){const a=await m(e,t),r=document.createElement("div");r.classList.add("intro-sub-info"),r.appendChild(a.drawIntro("300")),r.appendChild(a.drawSubInfos());const i=document.createElement("div");i.classList.add("synopsis-watch-providers"),i.appendChild(a.drawSummaryHeading()),i.appendChild(a.drawSummary()),i.appendChild(a.drawProviders());const s=document.createElement("h2");return s.classList.add("rec-heading"),s.textContent="RECOMMENDATIONS:",a.addToSection(r),a.addToSection(i),a.addToSection(a.drawReviews()),a.addToSection(a.drawTrailer()),a.addToSection(s),a.addToSection(a.drawRecs()),n.appendChild(a.section),o}r.forEach((async e=>await o(e[0],e[1])))}function f(){document.querySelector(".main-container").innerHTML=""}console.log("Hello World"),async function(){document.querySelector(".search-query").addEventListener("click",(async e=>{e.preventDefault();const t=document.getElementById("input-search").value.split(" ").join("+");t?(f(),await h(t),document.querySelector(".search-query").value=""):alert("Please enter a valid movie/tv show")}))}(),h("Iron Man")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFNd0osRUFBc0IzTSxTQUFTQyxjQUFjLE9BQ25EME0sRUFBb0I3TCxVQUFVQyxJQUFJLDRCQUNsQzRMLEVBQW9CbE0sWUFBWVYsRUFBUXNFLHNCQUN4Q3NJLEVBQW9CbE0sWUFBWVYsRUFBUXdFLGVBQ3hDb0ksRUFBb0JsTSxZQUFZVixFQUFRMEUsaUJBRXhDLE1BQU1tSSxFQUFhNU0sU0FBU0MsY0FBYyxNQWUxQyxPQWRBMk0sRUFBVzlMLFVBQVVDLElBQUksZUFDekI2TCxFQUFXdEwsWUFBYyxtQkFNekJ2QixFQUFRUSxhQUFhbU0sR0FDckIzTSxFQUFRUSxhQUFhb00sR0FDckI1TSxFQUFRUSxhQUFhUixFQUFRNEosZUFDN0I1SixFQUFRUSxhQUFhUixFQUFRMkssZUFDN0IzSyxFQUFRUSxhQUFhcU0sR0FDckI3TSxFQUFRUSxhQUFhUixFQUFRMkwsWUFDN0JhLEVBQUs5TCxZQUFZVixFQUFRQSxTQUNsQjBNLENBQ1IsQ0FwQ0FELEVBQVNoUSxTQUNSakQsTUFBT3dHLFNBQWtCME0sRUFBYzFNLEVBQVEsR0FBSUEsRUFBUSxLQW9DN0QsQ0FFQSxTQUFTOE0sSUFDSzdNLFNBQVNpSSxjQUFjLG1CQUMvQlksVUFBWSxFQUNsQixDQ3ZEQW5LLFFBQVFDLElBQUksZUNER3BGLGlCQUNJeUcsU0FBU2lJLGNBQWMsaUJBQy9CbEYsaUJBQWlCLFNBQVN4SixNQUFPeUosSUFDMUNBLEVBQUVDLGlCQUNGLE1BQU04SSxFQUNML0wsU0FBU3lHLGVBQWUsZ0JBQWdCQyxNQWM5Qm5ELE1BQU0sS0FBS0UsS0FBSyxLQVp0QnNJLEdBSUxjLFVBQ01oQixFQUFhRSxHQUVuQi9MLFNBQVNpSSxjQUFjLGlCQUFpQnZCLE1BQVEsSUFOL0N4TCxNQUFNLHFDQU0yQyxHQUVwRCxDRFFBNFIsR0FFQWpCLEVBQWEsVyIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9hcGlGdW5jdGlvbnMvZmV0Y2hJZC5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvYXBpRnVuY3Rpb25zL2ZldGNoTW92aWVJbmZvLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9hcGlGdW5jdGlvbnMvZmV0Y2hUdkluZm8uanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL0RPTUZ1bmN0aW9ucy9kcmF3U2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvRE9NRnVuY3Rpb25zL2RyYXdTZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL1VJL3N1Ym1pdFNlYXJjaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBUElfS0VZID0gXCI3MjBkMjE1MGNmMDliZmE2MWUyOGE1MDQyY2Q3NDY4ZlwiO1xuLypcbkZldGNoZXMgdGhlIHRoZSBmaXJzdCBwYWdlIG9mIHRoZSBtb3ZpZS9zaG93IGlkcyBhbmQgcmV0dXJuIGl0IGluIGFuIGFycmF5LlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoSWRzKG5hbWUpIHtcblx0Y29uc3QgcXVlcnkgPSBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpO1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9zZWFyY2gvbXVsdGk/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJnF1ZXJ5PSR7cXVlcnl9JnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0bGV0IGlkcyA9IHt9O1xuXHRcdC8vIGxldCByZXN1bHQgPSBkYXRhLnJlc3VsdHM7XG5cdFx0bGV0IHJlc3VsdCA9IGRhdGEucmVzdWx0cy5zb3J0KChwMSwgcDIpID0+XG5cdFx0XHRwMS5wb3B1bGFyaXR5IDwgcDIucG9wdWxhcml0eSA/IDEgOiBwMS5wb3B1bGFyaXR5ID4gcDIucG9wdWxhcml0eSA/IC0xIDogMFxuXHRcdCk7IC8vIFNvcnQgYnkgcG9wdWxhcml0eS5cblxuXHRcdGlmIChyZXN1bHQubGVuZ3RoKSB7XG5cdFx0XHQvLyBpZiAocmVzdWx0Lmxlbmd0aCA+IDQpIHtcblx0XHRcdC8vIFx0Zm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcblx0XHRcdC8vIFx0XHRpZHNbcmVzdWx0W2ldLmlkXSA9IHJlc3VsdFtpXS5tZWRpYV90eXBlO1xuXHRcdFx0Ly8gXHR9XG5cdFx0XHQvLyB9IGVsc2Uge1xuXHRcdFx0Ly8gXHRmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0Ly8gXHRcdGlkc1tyZXN1bHRbaV0uaWRdID0gcmVzdWx0W2ldLm1lZGlhX3R5cGU7XG5cdFx0XHQvLyBcdH1cblx0XHRcdC8vIH1cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlkc1tyZXN1bHRbaV0uaWRdID0gcmVzdWx0W2ldLm1lZGlhX3R5cGU7XG5cdFx0XHR9XG5cdFx0XHRjb25zb2xlLmxvZyhpZHMpO1xuXHRcdFx0cmV0dXJuIGlkcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWxlcnQoYE5vIHJlc3VsdHMgZm91bmQgZm9yICR7bmFtZX1gKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGFsZXJ0KGVycik7XG5cdH1cbn1cblxuZnVuY3Rpb24gaW50ZXJwcmV0VG9RdWVyeShuYW1lKSB7XG5cdHJldHVybiBuYW1lLnNwbGl0KFwiIFwiKS5qb2luKFwiK1wiKTtcbn1cblxuZXhwb3J0IHsgZmV0Y2hJZHMgfTtcbiIsImNvbnN0IEFQSV9LRVkgPSBcIjcyMGQyMTUwY2YwOWJmYTYxZTI4YTUwNDJjZDc0NjhmXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVEZXRhaWxzKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL21vdmllLyR7bW92aWVfaWR9P2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VU2AsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRjb25zdCBnZW5yZXMgPSBkYXRhLmdlbnJlcy5yZWR1Y2UoKGFjYywgdmFsKSA9PiBbLi4uYWNjLCB2YWwubmFtZV0sIFtdKTtcblxuXHRcdGNvbnN0IGdlbmVyYWxJbmZvID0ge1xuXHRcdFx0bU5hbWU6IGRhdGEub3JpZ2luYWxfdGl0bGUsXG5cdFx0XHRzdW1tYXJ5OiBkYXRhLm92ZXJ2aWV3LFxuXHRcdFx0dGFnbGluZTogZGF0YS50YWdsaW5lLFxuXHRcdFx0cG9wdWxhcml0eTogZGF0YS5wb3B1bGFyaXR5LFxuXHRcdFx0dm90ZV9hdmVyYWdlOiBkYXRhLnZvdGVfYXZlcmFnZSxcblx0XHRcdHZvdGVfY291bnQ6IGRhdGEudm90ZV9jb3VudCxcblx0XHRcdGdlbnJlczogZ2VucmVzLFxuXHRcdFx0dmlkZW86IGRhdGEudmlkZW8sXG5cdFx0XHRydW50aW1lOiBkYXRhLnJ1bnRpbWUsXG5cdFx0XHRwb3N0ZXJfcGF0aDogZGF0YS5wb3N0ZXJfcGF0aCxcblx0XHRcdGJhY2tkcm9wX3BhdGg6IGRhdGEuYmFja2Ryb3BfcGF0aCxcblx0XHRcdHJlbGVhc2VfZGF0ZTogZGF0YS5yZWxlYXNlX2RhdGUsXG5cdFx0fTtcblx0XHRyZXR1cm4gZ2VuZXJhbEluZm87XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGFsZXJ0KGVycik7XG5cdH1cbn1cblxuLypcblJldHVybnMgYW4gYXJyYXkgb2YgcmVjb21tZW5kZWQgbW92aWVzIHdpdGggdGhlaXIgbmFtZSwgaWQsIHBvc3Rlcl9wYXRoIGFuZFxuYmFja2Ryb3BfcGF0aCByZWNvcmRlZC4gXG5JZiBubyBtb3ZpZXMgYXJlIHJlY29tbWVuZGVkLCByZXR1cm4gbnVsbDtcbiovXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllUmVjY29zKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL21vdmllLyR7bW92aWVfaWR9L3JlY29tbWVuZGF0aW9ucz9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGNvbnN0IHJlY01vdmllcyA9IHt9O1xuXHRcdGlmIChkYXRhLnJlc3VsdHMpIHtcblx0XHRcdGxldCBjb3VudCA9IDE7XG5cdFx0XHRmb3IgKGxldCBtb3ZpZSBvZiBkYXRhLnJlc3VsdHMpIHtcblx0XHRcdFx0cmVjTW92aWVzW21vdmllLm9yaWdpbmFsX3RpdGxlXSA9IHtcblx0XHRcdFx0XHRtTmFtZTogbW92aWUub3JpZ2luYWxfdGl0bGUsXG5cdFx0XHRcdFx0aWQ6IG1vdmllLmlkLFxuXHRcdFx0XHRcdHBvc3Rlcl9wYXRoOiBtb3ZpZS5wb3N0ZXJfcGF0aCxcblx0XHRcdFx0XHRiYWNrZHJvcF9wYXRoOiBtb3ZpZS5iYWNrZHJvcF9wYXRoLFxuXHRcdFx0XHRcdHJlbGVhc2VfZGF0ZTogbW92aWUucmVsZWFzZV9kYXRlLFxuXHRcdFx0XHRcdHZvdGVfY291bnQ6IG1vdmllLnZvdGVfY291bnQsXG5cdFx0XHRcdFx0dm90ZV9hdmVyYWdlOiBtb3ZpZS52b3RlX2F2ZXJhZ2UsXG5cdFx0XHRcdH07XG5cdFx0XHRcdGlmIChjb3VudCA9PT0gNSkge1xuXHRcdFx0XHRcdC8vIE1heCA1IG1vdmllcyB0byBiZSByZWNvbW1lbmRlZFxuXHRcdFx0XHRcdGJyZWFrO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGNvdW50Kys7XG5cdFx0XHR9XG5cdFx0fVxuXHRcdHJldHVybiByZWNNb3ZpZXM7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGFsZXJ0KGVycik7XG5cdH1cbn1cblxuLypcblJldHVybnMgYW4gb2JqZWN0IHdpdGggY291bnRyaWVzIGFuZCB0aGUgYXZhaWxhYmxlIHN0cmVhbWluZyBzZXJ2aWNlcywgYnV5XG5vciByZW50IGl0IGNvbWVzIHdpdGggRUFDSCBpbmRpdmlkdWFsIGNvdW50cnkuXG4qL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVByb3ZpZGVycyhtb3ZpZV9pZCkge1xuXHRjb25zdCBwcm92aWRlcnNCeUNvdW50cnkgPSB7fTtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vd2F0Y2gvcHJvdmlkZXJzP2FwaV9rZXk9JHtBUElfS0VZfWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRmb3IgKGNvbnN0IGNvdW50cnlDb2RlIGluIGRhdGEucmVzdWx0cykge1xuXHRcdFx0Y29uc3QgY291bnRyeSA9IGdldENvdW50cnlOYW1lKGNvdW50cnlDb2RlKTtcblx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XSA9IHtcblx0XHRcdFx0c3RyZWFtOiBbXSxcblx0XHRcdFx0cmVudDogW10sXG5cdFx0XHRcdGJ1eTogW10sXG5cdFx0XHRcdGNvdW50cnlDb2RlOiBjb3VudHJ5Q29kZSxcblx0XHRcdH07XG5cblx0XHRcdC8qXG5cdFx0XHRTb3J0cyBwcm92aWRlcnMgYmFzZWQgb24gY291bnRyeSBhbmQgc2VydmljZXMgdGhleSBwcm92aWRlLlxuXG5cdFx0XHRUYWtlcyBpbiB0eXBlIG9mIHNlcnZpY2VzIGFzIHBhcmFtID0+IFtcImZsYXRyYXRlIChzdHJlYW1pbmcpXCIsIFxuXHRcdFx0XCJyZW50XCIsIFwiYnV5XCJdIGFuZCBhbiBhcnJheSB0byBhcHBlbmQgaXQgdG8uXG5cdFx0XHQqL1xuXHRcdFx0Y29uc3Qgc29ydFByb3ZpZGVycyA9IChzZXJ2aWNlcywgY29sbGVjdGlvbikgPT4ge1xuXHRcdFx0XHRpZiAoc2VydmljZXMpIHtcblx0XHRcdFx0XHRzZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBwcm92aWRlckluZm8gPSB7XG5cdFx0XHRcdFx0XHRcdHByb3ZpZGVyX25hbWU6IHNlcnZpY2UucHJvdmlkZXJfbmFtZSxcblx0XHRcdFx0XHRcdFx0cHJvdmlkZXJfbG9nb19wYXRoOiBzZXJ2aWNlLmxvZ29fcGF0aCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRjb2xsZWN0aW9uLnB1c2gocHJvdmlkZXJJbmZvKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gQWRkIHN0cmVhbWluZyBzZXJ2aWNlcyBmb3Igc3BlY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0uZmxhdHJhdGUsXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5zdHJlYW1cblx0XHRcdCk7XG5cblx0XHRcdC8vIEFkZCByZW50aW5nIHNlcnZpY2VzIGZvciBzcGVpY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0ucmVudCxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLnJlbnRcblx0XHRcdCk7XG5cblx0XHRcdC8vIEFkZCBidXlpbmcgc2VydmljZXMgZm9yIHNwZWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLmJ1eSxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLmJ1eVxuXHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIHByb3ZpZGVyc0J5Q291bnRyeTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG4vLyBGaW5kIG1vdmllIHRyYWlsZXIgYW5kIHJldHVybiBmYWxzZSBpZiBub25lIGNhbiBiZSBmb3VuZC5cbi8vIE9mZmljaWFsIHRyYWlsZXIgd2lsbCBiZSBwcmlvcml0aXNlZC5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVUcmFpbGVyKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0bGV0IG1vdmllVHJhaWxlcjtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vdmlkZW9zP2FwaV9rZXk9JHtBUElfS0VZfWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRjb25zdCB0cmFpbGVycyA9IGRhdGEucmVzdWx0cy5maWx0ZXIoKHZpZGVvKSA9PiB2aWRlby50eXBlID09PSBcIlRyYWlsZXJcIik7XG5cblx0XHRpZiAodHJhaWxlcnMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cdFx0Ly8gRmluZCBvZmZpY2lhbCB0cmFpbGVyLlxuXHRcdGNvbnN0IG9mZmljaWFsID0gdHJhaWxlcnMuZmlsdGVyKCh2aWRlbykgPT4ge1xuXHRcdFx0dmlkZW8ub2ZmaWNpYWwgPT09IHRydWU7XG5cdFx0fSk7XG5cblx0XHRvZmZpY2lhbC5sZW5ndGggIT09IDBcblx0XHRcdD8gKG1vdmllVHJhaWxlciA9IG9mZmljaWFsWzBdKVxuXHRcdFx0OiAobW92aWVUcmFpbGVyID0gdHJhaWxlcnNbMF0pO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdHROYW1lOiBtb3ZpZVRyYWlsZXIubmFtZSxcblx0XHRcdGtleTogbW92aWVUcmFpbGVyLmtleSxcblx0XHRcdHNpdGU6IG1vdmllVHJhaWxlci5zaXRlLFxuXHRcdFx0dHlwZTogbW92aWVUcmFpbGVyLnR5cGUsXG5cdFx0XHRsYW5nOiBnZXRMYW5ndWFnZShtb3ZpZVRyYWlsZXIuaXNvXzYzOV8xKSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRhbGVydChlcnIpO1xuXHR9XG59XG5cbi8vIFJldHVybnMgYW4gYXJyIG9mIGEgbWF4aW11bSBvZiA1IHJldmlld3MgYmFzZWQgb24gdGhlIG1vdmllIGZyb20gcmFuZG9tIHNvdXJjZXMuXG4vLyBJZiBubyByZXZpZXdzIGFyZSBmb3VuZCwgdGhpcyBmbmMgcmV0dXJucyBmYWxzZS5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVSZXZpZXdzKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0bGV0IHJldmlld3MgPSBbXTtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vcmV2aWV3cz9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRpZiAoZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0ZGF0YS5yZXN1bHRzLmZvckVhY2goKHJldmlldykgPT4ge1xuXHRcdFx0cmV2aWV3cy5wdXNoKHtcblx0XHRcdFx0YXV0aG9yOiByZXZpZXcuYXV0aG9yLFxuXHRcdFx0XHRyYXRpbmc6IHJldmlldy5hdXRob3JfZGV0YWlscy5yYXRpbmcsXG5cdFx0XHRcdHBpY19wYXRoOiByZXZpZXcuYXV0aG9yX2RldGFpbHMuYXZhdGFyX3BhdGgsXG5cdFx0XHRcdGNvbnRlbnQ6IHJldmlldy5jb250ZW50LFxuXHRcdFx0XHR1cmw6IHJldmlldy51cmwsXG5cdFx0XHRcdGxhc3RfdXBkYXRlZDogcmV2aWV3LnVwZGF0ZWRfYXQsXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gcmV2aWV3cy5zbGljZSgwLCA1KTsgLy8gRmlyc3QgNSByZXZpZXdzIHJldHVybmVkXG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGFsZXJ0KGVycik7XG5cdH1cbn1cblxuLy8gSGVscGVyIGZuY3NcbmZ1bmN0aW9uIGdldENvdW50cnlOYW1lKGNvZGUpIHtcblx0bGV0IHJlZ2lvbk5hbWVzID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwicmVnaW9uXCIgfSk7XG5cdHJldHVybiByZWdpb25OYW1lcy5vZihjb2RlKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFuZ3VhZ2UoY29kZSkge1xuXHRjb25zdCBsYW5nID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwibGFuZ3VhZ2VcIiB9KTtcblx0cmV0dXJuIGxhbmcub2YoY29kZSk7XG59XG5leHBvcnQge1xuXHRmZXRjaE1vdmllRGV0YWlscyxcblx0ZmV0Y2hNb3ZpZVJlY2Nvcyxcblx0ZmV0Y2hNb3ZpZVByb3ZpZGVycyxcblx0ZmV0Y2hNb3ZpZVRyYWlsZXIsXG5cdGZldGNoTW92aWVSZXZpZXdzLFxuXHRnZXRDb3VudHJ5TmFtZSxcbn07XG4iLCJjb25zdCBBUElfS0VZID0gXCI3MjBkMjE1MGNmMDliZmE2MWUyOGE1MDQyY2Q3NDY4ZlwiO1xuXG5hc3luYyBmdW5jdGlvbiBmZXRjaFR2RGV0YWlscyh0dl9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy90di8ke3R2X2lkfT9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVNgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdGNvbnNvbGUubG9nKGRhdGEpO1xuXG5cdFx0Y29uc3QgZ2VucmVzID0gZGF0YS5nZW5yZXMucmVkdWNlKChhY2MsIHZhbCkgPT4gWy4uLmFjYywgdmFsLm5hbWVdLCBbXSk7XG5cblx0XHRjb25zdCBnZW5lcmFsSW5mbyA9IHtcblx0XHRcdHROYW1lOiBkYXRhLm9yaWdpbmFsX25hbWUsXG5cdFx0XHR0YWdsaW5lOiBkYXRhLnRhZ2xpbmUsXG5cdFx0XHRsYW5ndWFnZTogZGF0YS5vcmlnaW5hbF9sYW5ndWFnZSxcblx0XHRcdHN1bW1hcnk6IGRhdGEub3ZlcnZpZXcsXG5cdFx0XHRlcGlzb2RlX3J1bl90aW1lOiBkYXRhLmVwaXNvZGVfcnVuX3RpbWVbMF0sXG5cdFx0XHRvcmlnaW5fY291bnRyeTogZGF0YS5vcmlnaW5fY291bnRyeSxcblx0XHRcdHZvdGVfYXZlcmFnZTogZGF0YS52b3RlX2F2ZXJhZ2UsXG5cdFx0XHR2b3RlX2NvdW50OiBkYXRhLnZvdGVfY291bnQsXG5cdFx0XHRzdGF0dXM6IGRhdGEuc3RhdHVzLFxuXHRcdFx0c2Vhc29uczogZGF0YS5zZWFzb25zLFxuXHRcdFx0bnVtYmVyX29mX3NlYXNvbnM6IGRhdGEubnVtYmVyX29mX3NlYXNvbnMsXG5cdFx0XHRmaXJzdF9haXJfZGF0ZTogZGF0YS5maXJzdF9haXJfZGF0ZSxcblx0XHRcdGxhc3RfYWlyX2RhdGU6IGRhdGEubGFzdF9haXJfZGF0ZSxcblx0XHRcdGJhY2tkcm9wX3BhdGg6IGRhdGEuYmFja2Ryb3BfcGF0aCxcblx0XHRcdHBvc3Rlcl9wYXRoOiBkYXRhLnBvc3Rlcl9wYXRoLFxuXHRcdFx0cG9wdWxhcml0eTogZGF0YS5wb3B1bGFyaXR5LFxuXHRcdFx0Z2VucmVzOiBnZW5yZXMsXG5cdFx0fTtcblx0XHRyZXR1cm4gZ2VuZXJhbEluZm87XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGFsZXJ0KGVycik7XG5cdH1cbn1cblxuLypcblJldHVybnMgYW4gYXJyYXkgb2YgcmVjb21tZW5kZWQgdHYgc2hvd3Mgd2l0aCB0aGVpciBuYW1lLCBpZCwgcG9zdGVyX3BhdGggYW5kXG5iYWNrZHJvcF9wYXRoIHJlY29yZGVkLiBcbklmIG5vIG1vdmllcyBhcmUgcmVjb21tZW5kZWQsIHJldHVybiBudWxsO1xuKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVHZSZWNjb3ModHZfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvdHYvJHt0dl9pZH0vcmVjb21tZW5kYXRpb25zP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZwYWdlPTFgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgcmVjVHZzID0ge307XG5cdFx0aWYgKGRhdGEucmVzdWx0cykge1xuXHRcdFx0bGV0IGNvdW50ID0gMTtcblx0XHRcdGZvciAobGV0IHR2IG9mIGRhdGEucmVzdWx0cykge1xuXHRcdFx0XHRyZWNUdnNbdHYub3JpZ2luYWxfbmFtZV0gPSB7XG5cdFx0XHRcdFx0dE5hbWU6IHR2Lm9yaWdpbmFsX25hbWUsXG5cdFx0XHRcdFx0aWQ6IHR2LmlkLFxuXHRcdFx0XHRcdGZpcnN0X2Fpcl9kYXRlOiB0di5maXJzdF9haXJfZGF0ZSxcblx0XHRcdFx0XHRwb3N0ZXJfcGF0aDogdHYucG9zdGVyX3BhdGgsXG5cdFx0XHRcdFx0YmFja2Ryb3BfcGF0aDogdHYuYmFja2Ryb3BfcGF0aCxcblx0XHRcdFx0XHR2b3RlX2F2ZXJhZ2U6IHR2LnZvdGVfYXZlcmFnZSxcblx0XHRcdFx0XHR2b3RlX2NvdW50OiB0di52b3RlX2NvdW50LFxuXHRcdFx0XHR9O1xuXHRcdFx0XHRpZiAoY291bnQgPT09IDUpIHtcblx0XHRcdFx0XHQvLyBtYXggNSB0diBzaG93cyB0byBiZSByZWNvbW1lbmRlZC5cblx0XHRcdFx0XHRicmVhaztcblx0XHRcdFx0fVxuXHRcdFx0XHRjb3VudCsrO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRyZXR1cm4gcmVjVHZzO1xuXHR9IGNhdGNoIHtcblx0XHRhbGVydChlcnIpO1xuXHR9XG59XG5cbi8qIFxuUmV0dXJucyBhbiBvYmogd2l0aCBjb3VudHJpZXMgYW5kIGF2YWlsYWJsZSBzdHJlYW1pbmcgc2VydmljZXMsIGJ1eSBvciByZW50XG5mb3Igc3BlY2lmaWVkIHR2IHNob3cgaW4gRUFDSCBjb3VudHJ5LlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVHZQcm92aWRlcnModHZfaWQpIHtcblx0Y29uc3QgcHJvdmlkZXJzQnlDb3VudHJ5ID0ge307XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3R2LyR7dHZfaWR9L3dhdGNoL3Byb3ZpZGVycz9hcGlfa2V5PSR7QVBJX0tFWX1gLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Zm9yIChjb25zdCBjb3VudHJ5Q29kZSBpbiBkYXRhLnJlc3VsdHMpIHtcblx0XHRcdGNvbnN0IGNvdW50cnkgPSBnZXRDb3VudHJ5TmFtZShjb3VudHJ5Q29kZSk7XG5cdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0gPSB7XG5cdFx0XHRcdHN0cmVhbTogW10sXG5cdFx0XHRcdHJlbnQ6IFtdLFxuXHRcdFx0XHRidXk6IFtdLFxuXHRcdFx0XHRjb3VudHJ5Q29kZTogY291bnRyeUNvZGUsXG5cdFx0XHR9O1xuXG5cdFx0XHQvKlxuXHRcdFx0U29ydHMgcHJvdmlkZXJzIGJhc2VkIG9uIGNvdW50cnkgYW5kIHNlcnZpY2VzIHRoZXkgcHJvdmlkZS5cblxuXHRcdFx0VGFrZXMgaW4gdHlwZSBvZiBzZXJ2aWNlcyBhcyBwYXJhbSA9PiBbXCJmbGF0cmF0ZSAoc3RyZWFtaW5nKVwiLCBcblx0XHRcdFwicmVudFwiLCBcImJ1eVwiXSBhbmQgYW4gYXJyYXkgdG8gYXBwZW5kIGl0IHRvLlxuXHRcdFx0Ki9cblx0XHRcdGNvbnN0IHNvcnRQcm92aWRlcnMgPSAoc2VydmljZXMsIGNvbGxlY3Rpb24pID0+IHtcblx0XHRcdFx0aWYgKHNlcnZpY2VzKSB7XG5cdFx0XHRcdFx0c2VydmljZXMuZm9yRWFjaCgoc2VydmljZSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJJbmZvID0ge1xuXHRcdFx0XHRcdFx0XHRwcm92aWRlcl9uYW1lOiBzZXJ2aWNlLnByb3ZpZGVyX25hbWUsXG5cdFx0XHRcdFx0XHRcdHByb3ZpZGVyX2xvZ29fcGF0aDogc2VydmljZS5sb2dvX3BhdGgsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0Y29sbGVjdGlvbi5wdXNoKHByb3ZpZGVySW5mbyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdC8vIEFkZCBzdHJlYW1pbmcgc2VydmljZXMgZm9yIHNwZWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLmZsYXRyYXRlLFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0uc3RyZWFtXG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBBZGQgcmVudGluZyBzZXJ2aWNlcyBmb3Igc3BlaWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLnJlbnQsXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5yZW50XG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBBZGQgYnV5aW5nIHNlcnZpY2VzIGZvciBzcGVjaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5idXksXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5idXlcblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBwcm92aWRlcnNCeUNvdW50cnk7XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGFsZXJ0KGVycik7XG5cdH1cbn1cblxuLy8gRmluZCB0diB0cmFpbGVyXG5hc3luYyBmdW5jdGlvbiBmZXRjaFR2VHJhaWxlcih0dl9pZCkge1xuXHR0cnkge1xuXHRcdGxldCB0dlRyYWlsZXI7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3R2LyR7dHZfaWR9L3ZpZGVvcz9hcGlfa2V5PSR7QVBJX0tFWX1gLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgdHJhaWxlcnMgPSBkYXRhLnJlc3VsdHMuZmlsdGVyKCh2aWRlbykgPT4gdmlkZW8udHlwZSA9PT0gXCJUcmFpbGVyXCIpO1xuXG5cdFx0aWYgKHRyYWlsZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXHRcdC8vIEZpbmQgb2ZmaWNpYWwgdHJhaWxlci5cblx0XHRjb25zdCBvZmZpY2lhbCA9IHRyYWlsZXJzLmZpbHRlcigodmlkZW8pID0+IHtcblx0XHRcdHZpZGVvLm9mZmljaWFsID09PSB0cnVlO1xuXHRcdH0pO1xuXG5cdFx0b2ZmaWNpYWwubGVuZ3RoICE9PSAwXG5cdFx0XHQ/ICh0dlRyYWlsZXIgPSBvZmZpY2lhbFswXSlcblx0XHRcdDogKHR2VHJhaWxlciA9IHRyYWlsZXJzWzBdKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0TmFtZTogdHZUcmFpbGVyLm5hbWUsXG5cdFx0XHRrZXk6IHR2VHJhaWxlci5rZXksXG5cdFx0XHRzaXRlOiB0dlRyYWlsZXIuc2l0ZSxcblx0XHRcdHR5cGU6IHR2VHJhaWxlci50eXBlLFxuXHRcdFx0bGFuZzogZ2V0TGFuZ3VhZ2UodHZUcmFpbGVyLmlzb182MzlfMSksXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG4vLyBSZXR1cm5zIGFuIGFyciBvZiBhIG1heGltdW0gb2YgNSByZXZpZXdzIGJhc2VkIG9uIHRoZSB0diBzaG93IGZyb21cbi8vIHJhbmRvbSBzb3VyY2VzLiBJZiBubyByZXZpZXdzIGFyZSBmb3VuZCwgdGhpcyBmbmMgcmV0dXJucyBmYWxzZS5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVHZSZXZpZXdzKHR2X2lkKSB7XG5cdHRyeSB7XG5cdFx0bGV0IHJldmlld3MgPSBbXTtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvdHYvJHt0dl9pZH0vcmV2aWV3cz9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRpZiAoZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0bGV0IGNvdW50ID0gMTtcblx0XHRkYXRhLnJlc3VsdHMuZm9yRWFjaCgocmV2aWV3KSA9PiB7XG5cdFx0XHRyZXZpZXdzLnB1c2goe1xuXHRcdFx0XHRhdXRob3I6IHJldmlldy5hdXRob3IsXG5cdFx0XHRcdHJhdGluZzogcmV2aWV3LmF1dGhvcl9kZXRhaWxzLnJhdGluZyxcblx0XHRcdFx0cGljX3BhdGg6IHJldmlldy5hdXRob3JfZGV0YWlscy5hdmF0YXJfcGF0aCxcblx0XHRcdFx0Y29udGVudDogcmV2aWV3LmNvbnRlbnQsXG5cdFx0XHRcdHVybDogcmV2aWV3LnVybCxcblx0XHRcdFx0bGFzdF91cGRhdGVkOiByZXZpZXcudXBkYXRlZF9hdCxcblx0XHRcdH0pO1xuXHRcdFx0Y291bnQrKztcblx0XHR9KTtcblx0XHRyZXR1cm4gcmV2aWV3cy5zbGljZSgwLCA1KTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG4vLyBIZWxwZXIgZm5jc1xuZnVuY3Rpb24gZ2V0Q291bnRyeU5hbWUoY29kZSkge1xuXHRsZXQgcmVnaW9uTmFtZXMgPSBuZXcgSW50bC5EaXNwbGF5TmFtZXMoW1wiZW5cIl0sIHsgdHlwZTogXCJyZWdpb25cIiB9KTtcblx0cmV0dXJuIHJlZ2lvbk5hbWVzLm9mKGNvZGUpO1xufVxuXG5mdW5jdGlvbiBnZXRMYW5ndWFnZShjb2RlKSB7XG5cdGNvbnN0IGxhbmcgPSBuZXcgSW50bC5EaXNwbGF5TmFtZXMoW1wiZW5cIl0sIHsgdHlwZTogXCJsYW5ndWFnZVwiIH0pO1xuXHRyZXR1cm4gbGFuZy5vZihjb2RlKTtcbn1cbmV4cG9ydCB7XG5cdGZldGNoVHZEZXRhaWxzLFxuXHRmZXRjaFR2UmVjY29zLFxuXHRmZXRjaFR2UHJvdmlkZXJzLFxuXHRmZXRjaFR2VHJhaWxlcixcblx0ZmV0Y2hUdlJldmlld3MsXG59O1xuIiwiaW1wb3J0ICogYXMgbW92aWUgZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mb1wiO1xuaW1wb3J0ICogYXMgdHYgZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaFR2SW5mb1wiO1xuaW1wb3J0ICogYXMgcGFnZSBmcm9tIFwiLi9kcmF3U2VjdGlvbnNcIjtcblxuLypcbkRyYXcgYW4gaW5kaXZpZHVhbCBzZWN0aW9uIGJhc2VkIG9uIHVzZXIgaW5wdXQgcXVlcnkuXG5UaGlzIHNlY3Rpb24gd2lsbCBjb25zdHMgb2YgdGhlIG92ZXJhbGwgbW92aWUvdHYncyBcbiAgICAtIERldGFpbHMsXG4gICAgLSBUaGUgd2F0Y2ggcHJvdmlkZXJzIGJhc2VkIG9uIHNwZWNpZmljIGNvdW50cmllc1xuICAgIC0gQXZhaWxhYmxlIHRyYWlsZXJzLFxuICAgIC0gT3RoZXIgcmVjb21tZW5kYXRpb25zLlxuICAgIC0gUmV2aWV3cyBieSBlc3RhYmxpc2hlZCBhdXRob3JzIGJhc2VkIGZyb20gcmFuZG9tIHNvdXJjZXMuXG4qL1xuXG5jb25zdCBkcmF3U2VjdGlvbiA9IGFzeW5jIChpZCwgbWVkaWEpID0+IHtcblx0Y29uc3Qgc2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuXHRjb25zdCBkZXRhaWxzID0gYXdhaXQgZ2V0SW5mbyhpZCwgbW92aWUuZmV0Y2hNb3ZpZURldGFpbHMsIHR2LmZldGNoVHZEZXRhaWxzKTtcblx0Y29uc3QgcmVjcyA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVSZWNjb3MsIHR2LmZldGNoVHZSZWNjb3MpO1xuXHRjb25zb2xlLmxvZyhyZWNzKTtcblx0Y29uc3QgcHJvdmlkZXJzID0gYXdhaXQgZ2V0SW5mbyhcblx0XHRpZCxcblx0XHRtb3ZpZS5mZXRjaE1vdmllUHJvdmlkZXJzLFxuXHRcdHR2LmZldGNoVHZQcm92aWRlcnNcblx0KTtcblx0Y29uc3QgdHJhaWxlciA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVUcmFpbGVyLCB0di5mZXRjaFR2VHJhaWxlcik7XG5cdGNvbnNvbGUubG9nKHRyYWlsZXIpO1xuXHRjb25zdCByZXZpZXdzID0gYXdhaXQgZ2V0SW5mbyhpZCwgbW92aWUuZmV0Y2hNb3ZpZVJldmlld3MsIHR2LmZldGNoVHZSZXZpZXdzKTtcblx0Y29uc29sZS5sb2cocmV2aWV3cyk7XG5cblx0ZnVuY3Rpb24gZHJhd0FsbCgpIHtcblx0XHRhZGRUb1NlY3Rpb24oZHJhd0ludHJvKCkpO1xuXHR9XG5cblx0ZnVuY3Rpb24gYWRkVG9TZWN0aW9uKHBhcnQpIHtcblx0XHRwYXJ0ID8gc2VjdGlvbi5hcHBlbmRDaGlsZChwYXJ0KSA6IFwiXCI7XG5cdH1cblxuXHRmdW5jdGlvbiByZW5kZXJFbGVtZW50KHRhZywgY2xhc3NOYW1lKSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXHRcdGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcblx0fVxuXG5cdGFzeW5jIGZ1bmN0aW9uIGdldEluZm8oaWQsIG1vdmllRm5jLCB0dkZuYykge1xuXHRcdHJldHVybiBtZWRpYSA9PT0gXCJtb3ZpZVwiID8gYXdhaXQgbW92aWVGbmMoaWQpIDogYXdhaXQgdHZGbmMoaWQpO1xuXHR9XG5cblx0Ly8gRHJhdyAoaWYgYW55KSB0aXRsZSwgcGhvdG8sIHRhZ2xpbmUsIGFuZCBzdW1tYXJ5LlxuXHRjb25zdCBkcmF3SW50cm8gPSAoaW1nU2l6ZSkgPT4ge1xuXHRcdGNvbnN0IGludHJvQ29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRpbnRyb0NvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwiaW50cm9cIik7XG5cblx0XHRpbnRyb0NvbnRhaW5lci5hcHBlbmRDaGlsZChjcmVhdGVUaXRsZSgpKTtcblx0XHRkZXRhaWxzLnRhZ2xpbmUgPyBpbnRyb0NvbnRhaW5lci5hcHBlbmRDaGlsZCh3cml0ZVRhZ2xpbmUoKSkgOiBcIlwiO1xuXG5cdFx0Y29uc3QgaW1nID0gcmVuZGVySW1nKGltZ1NpemUpO1xuXHRcdGltZyA/IGludHJvQ29udGFpbmVyLmFwcGVuZENoaWxkKGltZykgOiBcIlwiO1xuXG5cdFx0ZnVuY3Rpb24gY3JlYXRlVGl0bGUoKSB7XG5cdFx0XHRjb25zdCB0aXRsZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMVwiKTtcblx0XHRcdHRpdGxlLnRleHRDb250ZW50ID0gZGV0YWlscy5tTmFtZSA/IGRldGFpbHMubU5hbWUgOiBkZXRhaWxzLnROYW1lO1xuXHRcdFx0dGl0bGUuY2xhc3NMaXN0LmFkZChcInRpdGxlXCIpO1xuXHRcdFx0cmV0dXJuIHRpdGxlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJlbmRlckltZyhpbWdTaXplID0gXCJcIikge1xuXHRcdFx0Y29uc3QgcG9zdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblx0XHRcdGNvbnN0IGJhc2VJbWdVcmwgPSBcImh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wXCI7XG5cdFx0XHRsZXQgaW1nX3BhdGg7XG5cdFx0XHRwb3N0ZXIuY2xhc3NMaXN0LmFkZChcInBvc3RlclwiKTtcblxuXHRcdFx0aWYgKGRldGFpbHMucG9zdGVyX3BhdGgpIHtcblx0XHRcdFx0aW1nX3BhdGggPSBkZXRhaWxzLnBvc3Rlcl9wYXRoO1xuXHRcdFx0fSBlbHNlIGlmIChkZXRhaWxzLmJhY2tkcm9wX3BhdGgpIHtcblx0XHRcdFx0aW1nX3BhdGggPSBkZXRhaWxzLmJhY2tkcm9wX3BhdGg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQhaW1nU2l6ZVxuXHRcdFx0XHQ/IChwb3N0ZXIuc3JjID0gYCR7YmFzZUltZ1VybH0vb3JpZ2luYWwvJHtpbWdfcGF0aH1gKVxuXHRcdFx0XHQ6IChwb3N0ZXIuc3JjID0gYCR7YmFzZUltZ1VybH0vdyR7aW1nU2l6ZX0vJHtpbWdfcGF0aH1gKTtcblx0XHRcdHBvc3Rlci5hbHQgPSBcIk1vdmllIHBpY3R1cmUgcG9zdGVyXCI7XG5cdFx0XHRwb3N0ZXIuc2V0QXR0cmlidXRlKFwibG9hZGluZ1wiLCBcImxhenlcIik7XG5cdFx0XHRyZXR1cm4gcG9zdGVyO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHdyaXRlVGFnbGluZSgpIHtcblx0XHRcdGNvbnN0IHRhZ1BhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZW1cIik7XG5cdFx0XHR0YWdQYXJhLnRleHRDb250ZW50ID0gYFwiJHtkZXRhaWxzLnRhZ2xpbmV9XCJgO1xuXHRcdFx0dGFnUGFyYS5jbGFzc0xpc3QuYWRkKFwidGFnbGluZVwiKTtcblx0XHRcdHJldHVybiB0YWdQYXJhO1xuXHRcdH1cblx0XHRyZXR1cm4gaW50cm9Db250YWluZXI7XG5cdH07XG5cblx0Y29uc3QgZHJhd1N1YkluZm9zID0gKCkgPT4ge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0Y29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJzdWJpbmZvLWNvbnRhaW5lclwiKTtcblxuXHRcdC8vIFJlbGVhc2UgZGF0ZSBmb3IgbW92aWVzIGFuZCBmaXJzdCBhaXJlZCBmb3IgdHYgc2hvdy5cblx0XHRsZXQgZGF0ZSwgbGFzdEFpcmVkO1xuXHRcdGlmIChkZXRhaWxzLnJlbGVhc2VfZGF0ZSkge1xuXHRcdFx0ZGF0ZSA9IGNyZWF0ZVN1YkluZm8oXG5cdFx0XHRcdFwiUmVsZWFzZSBEYXRlOlwiLFxuXHRcdFx0XHRkZXRhaWxzLnJlbGVhc2VfZGF0ZS5zcGxpdChcIi1cIikucmV2ZXJzZSgpLmpvaW4oXCIvXCIpXG5cdFx0XHQpO1xuXHRcdFx0bGFzdEFpcmVkID0gXCJcIjtcblx0XHR9IGVsc2UgaWYgKGRldGFpbHMuZmlyc3RfYWlyX2RhdGUpIHtcblx0XHRcdGRhdGUgPSBjcmVhdGVTdWJJbmZvKFxuXHRcdFx0XHRcIkZpcnN0IEFpcmVkOiBcIixcblx0XHRcdFx0ZGV0YWlscy5maXJzdF9haXJfZGF0ZS5zcGxpdChcIi1cIikucmV2ZXJzZSgpLmpvaW4oXCIvXCIpXG5cdFx0XHQpO1xuXHRcdFx0bGFzdEFpcmVkID0gY3JlYXRlU3ViSW5mbyhcblx0XHRcdFx0XCJMYXN0IEFpcmVkOiBcIixcblx0XHRcdFx0ZGV0YWlscy5sYXN0X2Fpcl9kYXRlLnNwbGl0KFwiLVwiKS5yZXZlcnNlKCkuam9pbihcIi9cIilcblx0XHRcdCk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGRhdGUgPSBcIlwiO1xuXHRcdH1cblx0XHRsZXQgcnVudGltZSA9IGRldGFpbHMucnVudGltZSA/IGNvbnZlcnRNaW5Ub0hyKGRldGFpbHMucnVudGltZSkgOiBcIlwiO1xuXG5cdFx0Y29uc3QgaW5mb3JtYXRpb24gPSBbXG5cdFx0XHRkYXRlLFxuXHRcdFx0bGFzdEFpcmVkLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIlNob3cgc3RhdHVzOlwiLCBkZXRhaWxzLnN0YXR1cyksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiUnVudGltZTogXCIsIHJ1bnRpbWUpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIkdlbnJlczogXCIsIGRldGFpbHMuZ2VucmVzLmpvaW4oXCIsIFwiKSksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiTnVtYmVyIG9mIHNlYXNvbnM6IFwiLCBkZXRhaWxzLm51bWJlcl9vZl9zZWFzb25zKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJFc3QgQXZnIEVwaXNvZGUgUnVudGltZTogXCIsIGRldGFpbHMuZXBpc29kZV9ydW5fdGltZSksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiQ291bnRyeSBvZiBPcmlnaW46IFwiLCBkZXRhaWxzLm9yaWdpbl9jb3VudHJ5KSxcblxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIlZvdGUgQXZlcmFnZTogXCIsIGRldGFpbHMudm90ZV9hdmVyYWdlKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJWb3RlIENvdW50OiBcIiwgZGV0YWlscy52b3RlX2NvdW50KSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJQb3B1bGFyaXR5OiBcIiwgZGV0YWlscy5wb3B1bGFyaXR5KSxcblx0XHRdO1xuXG5cdFx0aW5mb3JtYXRpb24uZm9yRWFjaCgoaW5mbykgPT4gKGluZm8gPyBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5mbykgOiBcIlwiKSk7XG5cblx0XHRmdW5jdGlvbiBjcmVhdGVTdWJJbmZvKGNhdGVnb3J5LCBpbmZvKSB7XG5cdFx0XHQvLyBJZ25vcmVzIHR2IHN1YmluZm8gdG8gYmUgZGlzcGxheWVkIGlmIGl0J3MgYSBtb3ZpZSBhbmRcblx0XHRcdC8vIHZpY2V2ZXJzYVxuXHRcdFx0aWYgKCFpbmZvKSByZXR1cm47XG5cdFx0XHRjb25zdCBzdWJJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRcdGNvbnN0IGNhdGVnb3J5TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0Y29uc3QgY2F0ZWdvcnlJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5cblx0XHRcdHN1YkluZm8uY2xhc3NMaXN0LmFkZChcInN1Yi1pbmZvXCIpO1xuXHRcdFx0Y2F0ZWdvcnlOYW1lLmNsYXNzTGlzdC5hZGQoXCJjYXRlZ29yeS1uYW1lXCIpO1xuXHRcdFx0Y2F0ZWdvcnlJbmZvLmNsYXNzTGlzdC5hZGQoXCJjYXRlZ29yeS1pbmZvXCIpO1xuXG5cdFx0XHRjYXRlZ29yeU5hbWUudGV4dENvbnRlbnQgPSBjYXRlZ29yeTtcblx0XHRcdGNhdGVnb3J5SW5mby50ZXh0Q29udGVudCA9IGluZm87XG5cblx0XHRcdFtjYXRlZ29yeU5hbWUsIGNhdGVnb3J5SW5mb10uZm9yRWFjaCgoaW5mbykgPT4gc3ViSW5mby5hcHBlbmRDaGlsZChpbmZvKSk7XG5cdFx0XHRyZXR1cm4gc3ViSW5mbztcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjb252ZXJ0TWluVG9IcihtaW5zKSB7XG5cdFx0XHRjb25zdCBob3VycyA9IG1pbnMgLyA2MDtcblx0XHRcdGNvbnN0IHJIb3VycyA9IE1hdGguZmxvb3IoaG91cnMpO1xuXHRcdFx0Y29uc3QgbWludXRlcyA9IChob3VycyAtIHJIb3VycykgKiA2MDtcblx0XHRcdGNvbnN0IHJNaW51dGVzID0gTWF0aC5yb3VuZChtaW51dGVzKTtcblx0XHRcdHJldHVybiBgJHtySG91cnN9aCAke3JNaW51dGVzfW1pbmA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcblx0fTtcblxuXHRjb25zdCBkcmF3U3VtbWFyeUhlYWRpbmcgPSAoKSA9PiB7XG5cdFx0Y29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG5cdFx0aGVhZGluZy50ZXh0Q29udGVudCA9IFwiU3lub3BzaXM6IFwiXG5cdFx0cmV0dXJuIGhlYWRpbmc7XG5cdH1cblx0Y29uc3QgZHJhd1N1bW1hcnkgPSAoKSA9PiB7XG5cdFx0Y29uc3QgcGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuXHRcdHBhcmEudGV4dENvbnRlbnQgPSBkZXRhaWxzLnN1bW1hcnk7XG5cdFx0cGFyYS5jbGFzc0xpc3QuYWRkKFwic3VtbWFyeVwiKTtcblx0XHRyZXR1cm4gcGFyYTtcblx0fTtcblxuXHRjb25zdCBkcmF3UHJvdmlkZXJzID0gKCkgPT4ge1xuXHRcdGxldCBhdmFpbFByb3ZpZGVyczsgLy8gQm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVyZSBhcmUgYW55IHdhdGNoXG5cdFx0Ly8gcHJvdmlkZXJzIGZvciB0aGlzIHNob3cuXG5cblx0XHQvLyBIb3VzZXMgdGhlIGJ0biB0aGF0IG9wZW5zIHRoZSBtb2RhbCBhbmQgb3ZlcmxheSwgYW5kIHRoZSBhdmFpbGFibGUgcHJvdmlkZXJzIGZvciAnc3RyZWFtaW5nJywgJ3JlbnQnIGFuZCAncHVyY2hhc2UnLlxuXHRcdGNvbnN0IHByb3ZpZGVyQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInByb3ZpZGVyLWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCBjb3VudHJ5QnRuID0gcmVuZGVyRWxlbWVudChcImJ1dHRvblwiLCBcImNvdW50cnktYnRuXCIpO1xuXHRcdGNvbnN0IGhvdXNlQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcImhvdXNlLXByb3ZpZGVyLWNvbnRhaW5lclwiKTtcblx0XHRbY291bnRyeUJ0biwgaG91c2VDb250YWluZXJdLmZvckVhY2goKGVsZW0pID0+IHtcblx0XHRcdHByb3ZpZGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU2VhcmNoIGZvciBkZWZhdWx0IGNvdW50cnkgXCJBdXN0cmFsaWFcIi4gSWYgbm9uZSBmb3VuZC4gRHJhdyB0aGUgZmlyc3QgY291bnRyeSdzIHByb3ZpZGVyLlxuXHRcdGlmIChPYmplY3Qua2V5cyhwcm92aWRlcnMpLmxlbmd0aCkge1xuXHRcdFx0YXZhaWxQcm92aWRlcnMgPSB0cnVlO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKHByb3ZpZGVycykuaW5jbHVkZXMoXCJBdXN0cmFsaWFcIikpIHtcblx0XHRcdFx0ZHJhd1Byb3ZpZGVyKFwiQXVzdHJhbGlhXCIpO1xuXHRcdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID0gXCJBdXN0cmFsaWFcIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGZpcnN0UHJvdmlkZXIgPSBPYmplY3Qua2V5cyhwcm92aWRlcnMpWzBdO1xuXHRcdFx0XHRkcmF3UHJvdmlkZXIoZmlyc3RQcm92aWRlcik7XG5cdFx0XHRcdGNvdW50cnlCdG4udGV4dENvbnRlbnQgPSBgJHtmaXJzdFByb3ZpZGVyfWA7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGF2YWlsUHJvdmlkZXJzID0gZmFsc2U7XG5cdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID1cblx0XHRcdFx0XCJObyBjb3VudHJpZXMgb2ZmZXIgdGhpcyB0di9tb3ZpZSBhdCB0aGUgbW9tZW50LlwiO1xuXHRcdH1cblxuXHRcdC8vIGF2YWlsUHJvdmlkZXJzID8gcmVuZGVyQ291bnRyaWVzTW9kYWwoY291bnRyeUJ0bi50ZXh0Q29udGVudCkgOiBcIlwiOyAvLyB0ZW1wXG5cdFx0Ly8gQWRkIGJ0biBldmVudCBjbGljayBsaXN0ZW5lciB0byBvcGVuIG1vZGFsXG5cdFx0Y291bnRyeUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGlmIChhdmFpbFByb3ZpZGVycykge1xuXHRcdFx0XHRyZW5kZXJDb3VudHJpZXNNb2RhbChjb3VudHJ5QnRuLnRleHRDb250ZW50KTtcblx0XHRcdFx0aGlnaGxpZ2h0Q3VyckNvdW50cnkoY291bnRyeUJ0bi50ZXh0Q29udGVudCk7XG5cdFx0XHRcdC8vIGFkZCBjb3VudHJ5IGV2ZW50IGhlcmVcblx0XHRcdFx0YXBwbHlDaG9vc2VDb3VudHJ5Rm5jcygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGZ1bmN0aW9uIGFwcGx5Q2hvb3NlQ291bnRyeUZuY3MoKSB7XG5cdFx0XHRjb25zdCBjb3VudHJpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvdW50cnktY29udGFpbmVyXCIpO1xuXHRcdFx0Y291bnRyaWVzLmZvckVhY2goKGNvdW50cnkpID0+XG5cdFx0XHRcdGNvdW50cnkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRcdGlmIChjb3VudHJ5Lmxhc3RDaGlsZC50ZXh0Q29udGVudCkge1xuXHRcdFx0XHRcdFx0Y29uc3Qgc2VsZWN0ZWRDb3VudHJ5ID0gY291bnRyeS5sYXN0Q2hpbGQudGV4dENvbnRlbnQ7XG5cdFx0XHRcdFx0XHRjbGVhclByb3ZpZGVyKCk7XG5cdFx0XHRcdFx0XHRkcmF3UHJvdmlkZXIoc2VsZWN0ZWRDb3VudHJ5KTtcblx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb3VudHJ5LWNvbnRhaW5lclwiKS5yZW1vdmUoKTtcblx0XHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhY2UtbWFza1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHRcdH0pXG5cdFx0XHQpO1xuXHRcdH1cblxuXHRcdHJldHVybiBwcm92aWRlckNvbnRhaW5lcjtcblxuXHRcdGZ1bmN0aW9uIGRyYXdQcm92aWRlcihjb3VudHJ5TmFtZSA9IFwiQXVzdHJhbGlhXCIpIHtcblx0XHRcdC8vIENoYW5nZSB0ZXh0IG9mIGJ0biB0byBjb3VudHJ5TmFtZVxuXHRcdFx0Y291bnRyeUJ0bi50ZXh0Q29udGVudCA9IGNvdW50cnlOYW1lO1xuXG5cdFx0XHRjb25zdCBzdHJlYW1JbmZvID0gcHJvdmlkZXJzW2NvdW50cnlOYW1lXS5zdHJlYW07XG5cdFx0XHRjb25zdCBidXlJbmZvID0gcHJvdmlkZXJzW2NvdW50cnlOYW1lXS5idXk7XG5cdFx0XHRjb25zdCByZW50SW5mbyA9IHByb3ZpZGVyc1tjb3VudHJ5TmFtZV0ucmVudDtcblxuXHRcdFx0Y29uc3Qgc2VydmljZU5hbWVzID0gW1wiU3RyZWFtIGF0OlwiLCBcIlB1cmNoYXNlIGF0OlwiLCBcIlJlbnQgYXQ6XCJdO1xuXHRcdFx0Ly8gVG8gYXNzaWduIG5hbWVzIGZvciBlYWNoIHNldmljZSBwcm92aWRlcnMuXG5cdFx0XHQvLyBUaGlzIGluY3JlbWVudHMgYXMgcHJvdmlkZXJzIGFyZSBsaXN0ZWQgZm9yIGVhY2ggc2VydmljZS5cblx0XHRcdGxldCBpZHggPSAwO1xuXG5cdFx0XHRbc3RyZWFtSW5mbywgYnV5SW5mbywgcmVudEluZm9dLmZvckVhY2goKGluZm8pID0+IHtcblx0XHRcdFx0Y29uc3Qgc2VydmljZUNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJzZXJ2aWNlLWNvbnRhaW5lclwiKTtcblx0XHRcdFx0Y29uc3Qgc2VydmljZU5hbWUgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwic2VydmljZS1uYW1lXCIpO1xuXHRcdFx0XHRjb25zdCBzZXJ2aWNlTmFtZUJvbGQgPSByZW5kZXJFbGVtZW50KFwiaDJcIiwgXCJzZXJ2aWNlLW5hbWUtYm9sZFwiKTtcblx0XHRcdFx0Y29uc3QgcHJvdmlkZXJTZXJ2aWNlQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcblx0XHRcdFx0XHRcImRpdlwiLFxuXHRcdFx0XHRcdFwicHJvdmlkZXItc2VydmljZS1jb250YWluZXJcIlxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGluZm8uZm9yRWFjaCgocHJvdmlkZXIpID0+IHtcblx0XHRcdFx0XHRjb25zdCBwcm92aWRlclNlcnZpY2UgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicHJvdmlkZXItc2VydmljZVwiKTtcblx0XHRcdFx0XHQvLyBBZGQgaW1nIGFuZCBuYW1lIG9mIHByb3ZpZGVyLlxuXHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVySW1nID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcInByb3ZpZGVyLWltZ1wiKTtcblx0XHRcdFx0XHRjb25zdCBwcm92aWRlck5hbWUgPSByZW5kZXJFbGVtZW50KFwic3BhblwiLCBcInByb3ZpZGVyLW5hbWVcIik7XG5cblx0XHRcdFx0XHRpZiAocHJvdmlkZXIucHJvdmlkZXJfbG9nb19wYXRoKSB7XG5cdFx0XHRcdFx0XHRwcm92aWRlckltZy5zcmMgPSBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3Avb3JpZ2luYWwvJHtwcm92aWRlci5wcm92aWRlcl9sb2dvX3BhdGh9YDtcblx0XHRcdFx0XHRcdHByb3ZpZGVySW1nLmFsdCA9IGAke3Byb3ZpZGVyLnByb3ZpZGVyX25hbWV9IHBpY3R1cmUuYDtcblx0XHRcdFx0XHRcdHByb3ZpZGVySW1nLnNldEF0dHJpYnV0ZShcImxvYWRpbmdcIiwgXCJsYXp5XCIpO1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJOYW1lLnRleHRDb250ZW50ID0gcHJvdmlkZXIucHJvdmlkZXJfbmFtZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRbcHJvdmlkZXJJbWcsIHByb3ZpZGVyTmFtZV0uZm9yRWFjaCgoZWxlbSkgPT4ge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJTZXJ2aWNlLmFwcGVuZENoaWxkKGVsZW0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHByb3ZpZGVyU2VydmljZUNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm92aWRlclNlcnZpY2UpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoaW5mby5sZW5ndGgpIHtcblx0XHRcdFx0XHRzZXJ2aWNlTmFtZUJvbGQudGV4dENvbnRlbnQgPSBgJHtzZXJ2aWNlTmFtZXNbaWR4XX1gO1xuXHRcdFx0XHRcdHNlcnZpY2VOYW1lLmFwcGVuZENoaWxkKHNlcnZpY2VOYW1lQm9sZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWR4Kys7XG5cdFx0XHRcdHNlcnZpY2VDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VydmljZU5hbWUpO1xuXHRcdFx0XHRzZXJ2aWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb3ZpZGVyU2VydmljZUNvbnRhaW5lcik7XG5cdFx0XHRcdGhvdXNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlcnZpY2VDb250YWluZXIpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGNsZWFyUHJvdmlkZXIoKSB7XG5cdFx0XHRob3VzZUNvbnRhaW5lci5pbm5lckhUTUwgPSBcIlwiO1xuXHRcdH1cblx0fTtcblxuXHRjb25zdCBkcmF3UmV2aWV3cyA9ICgpID0+IHtcblx0XHRpZiAoIXJldmlld3MpIHJldHVybjtcblx0XHRjb25zdCByZXZpZXdDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmV2aWV3LWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCB0aXRsZSA9IHJlbmRlckVsZW1lbnQoXCJoMlwiLCBcInJldmlldy10aXRsZVwiKTtcblx0XHR0aXRsZS50ZXh0Q29udGVudCA9IFwiUmV2aWV3czpcIjtcblx0XHRyZXZpZXdDb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG5cdFx0cmV2aWV3cy5mb3JFYWNoKChyZXZpZXcpID0+IGRyYXdSZXZpZXcocmV2aWV3LCByZXZpZXdDb250YWluZXIpKTtcblx0XHRyZXR1cm4gcmV2aWV3Q29udGFpbmVyO1xuXHR9O1xuXG5cdGNvbnN0IGRyYXdSZXZpZXcgPSAocmV2aWV3LCBjb250YWluZXIpID0+IHtcblx0XHRjb25zdCByZW5kZXJSZXZpZXdIZWFkaW5nID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgcmV2aWV3SGVhZGluZyA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZXZpZXctaGVhZGluZ1wiKTtcblx0XHRcdC8vIFJlbmRlciBhdXRob3IncyBwcm9maWxlIHBpYyBpZiBhbnkuXG5cdFx0XHRpZiAocmV2aWV3LnBpY19wYXRoKSB7XG5cdFx0XHRcdGNvbnN0IGF1dGhvclBpYyA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJhdXRob3ItcGljXCIpO1xuXHRcdFx0XHRpZiAocmV2aWV3LnBpY19wYXRoLnNsaWNlKDEsIDUpICE9PSBcImh0dHBcIikge1xuXHRcdFx0XHRcdGF1dGhvclBpYy5zcmMgPSBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzMwMC8ke3Jldmlldy5waWNfcGF0aH1gO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGF1dGhvclBpYy5zcmMgPSByZXZpZXcucGljX3BhdGguc2xpY2UoMSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHRhdXRob3JQaWMuYWx0ID0gYCR7cmV2aWV3LmF1dGhvcn0gcHJvZmlsZSBwaWN0dXJlLmA7XG5cdFx0XHRcdHJldmlld0hlYWRpbmcuYXBwZW5kQ2hpbGQoYXV0aG9yUGljKTtcblx0XHRcdH1cblxuXHRcdFx0YWRkUmV2SW5mbyhyZXZpZXcuYXV0aG9yLCByZXZpZXdIZWFkaW5nLCBcImgzXCIsIFwicmV2aWV3LWF1dGhvclwiKTtcblxuXHRcdFx0YWRkUmV2SW5mbyhyZXZpZXcucmF0aW5nLCByZXZpZXdIZWFkaW5nLCBcInNwYW5cIiwgXCJyZXZpZXctcmF0aW5nXCIpO1xuXG5cdFx0XHRyZXR1cm4gcmV2aWV3SGVhZGluZztcblx0XHR9O1xuXG5cdFx0Y29uc3QgcmVuZGVyUmV2aWV3Qm9keSA9ICgpID0+IHtcblx0XHRcdGNvbnN0IHJldmlld0NvbnRlbnQgPSByZW5kZXJFbGVtZW50KFwicFwiLCBcInJldmlldy1jb250ZW50XCIpO1xuXHRcdFx0cmV2aWV3Q29udGVudC50ZXh0Q29udGVudCA9IGBcIiR7cmV2aWV3LmNvbnRlbnR9XCJgO1xuXHRcdFx0cmV0dXJuIHJldmlld0NvbnRlbnQ7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHJlbmRlclJldmlld0Zvb3RlciA9ICgpID0+IHtcblx0XHRcdGNvbnN0IHJldmlld0Zvb3RlciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZXZpZXctZm9vdGVyXCIpO1xuXHRcdFx0Y29uc3QgcmV2aWV3VXJsID0gcmVuZGVyRWxlbWVudChcImFcIiwgXCJyZXZpZXctbGlua1wiKTtcblx0XHRcdGNvbnN0IHJldmlld1VwZGF0ZWQgPSByZW5kZXJFbGVtZW50KFwic3BhblwiLCBcInJldmlldy11cGRhdGVkXCIpO1xuXG5cdFx0XHRyZXZpZXdVcmwuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBgJHtyZXZpZXcudXJsfWApO1xuXHRcdFx0cmV2aWV3VXJsLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLCBcIl9ibGFua1wiKTtcblx0XHRcdHJldmlld1VybC50ZXh0Q29udGVudCA9IFwiQ2xpY2sgZm9yIHJldmlldyBsaW5rXCI7XG5cblx0XHRcdHJldmlld1VwZGF0ZWQudGV4dENvbnRlbnQgPSBgTGFzdCB1cGRhdGVkOiAke2Zvcm1hdFJldkRhdGUoXG5cdFx0XHRcdHJldmlldy5sYXN0X3VwZGF0ZWRcblx0XHRcdCl9YDtcblxuXHRcdFx0cmV2aWV3Rm9vdGVyLmFwcGVuZENoaWxkKHJldmlld1VybCk7XG5cdFx0XHRyZXZpZXdGb290ZXIuYXBwZW5kQ2hpbGQocmV2aWV3VXBkYXRlZCk7XG5cblx0XHRcdHJldHVybiByZXZpZXdGb290ZXI7XG5cdFx0XHRmdW5jdGlvbiBmb3JtYXRSZXZEYXRlKGRhdGUpIHtcblx0XHRcdFx0ZGF0ZSA9IGRhdGUuc3BsaXQoXCItXCIpO1xuXHRcdFx0XHRkYXRlWzJdID0gZGF0ZVsyXS5zbGljZSgwLCAyKSArIFwiL1wiO1xuXHRcdFx0XHRyZXR1cm4gZGF0ZVsyXS5jb25jYXQoZGF0ZS5zbGljZSgwLCAyKS5yZXZlcnNlKCkuam9pbihcIi9cIikpO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyUmV2aWV3SGVhZGluZygpKTtcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyUmV2aWV3Qm9keSgpKTtcblx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQocmVuZGVyUmV2aWV3Rm9vdGVyKCkpO1xuXG5cdFx0Ly8gSGVscGVyIGZuYyB0aGF0IGNvbGxlY3RzIGNvcnJlc3BvbmRpbmcgaW5mbyBhbmRcblx0XHQvLyBjcmVhdGVzIGEgc3Bhbi9kaXYgY29udGFpbmVyIGlmIGluZm8gZXhpc3RzLiBPdGhlcndpc2UsIHJldHVybjtcblx0XHRmdW5jdGlvbiBhZGRSZXZJbmZvKGluZm8sIGNvbnRhaW5lciwgdGFnLCBjbGFzc05hbWUpIHtcblx0XHRcdGNvbnN0IGluZm9Db250YWluZXIgPSByZW5kZXJFbGVtZW50KHRhZywgY2xhc3NOYW1lKTtcblx0XHRcdGlmIChpbmZvKSB7XG5cdFx0XHRcdGluZm9Db250YWluZXIudGV4dENvbnRlbnQgPSBpbmZvO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBSZXZpZXdzIG91dCBvZiAxMFxuXHRcdFx0aWYgKGluZm8gPT09IHJldmlldy5yYXRpbmcpIHtcblx0XHRcdFx0aW5mb0NvbnRhaW5lci50ZXh0Q29udGVudCA9IGAke2luZm99LzEwYDtcblx0XHRcdH1cblx0XHRcdGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvQ29udGFpbmVyKTtcblx0XHR9XG5cdH07XG5cblx0Y29uc3QgZHJhd1RyYWlsZXIgPSAoKSA9PiB7XG5cdFx0Y29uc3QgdHJhaWxlckNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJ0cmFpbGVyLWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCB0cmFpbGVySGVhZGluZyA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJ0cmFpbGVyLWhlYWRpbmdcIik7XG5cblx0XHRpZiAodHJhaWxlcikge1xuXHRcdFx0cmVuZGVyVHJhaWxlckhlYWRpbmcoKS5mb3JFYWNoKChlbGVtKSA9PlxuXHRcdFx0XHR0cmFpbGVySGVhZGluZy5hcHBlbmRDaGlsZChlbGVtKVxuXHRcdFx0KTtcblx0XHRcdHRyYWlsZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodHJhaWxlckhlYWRpbmcpO1xuXHRcdFx0Y29uc3QgdmlkZW9XcmFwcGVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInZpZGVvLXdyYXBwZXJcIik7XG5cdFx0XHR2aWRlb1dyYXBwZXIuYXBwZW5kQ2hpbGQoYWRkVmlkZW8odHJhaWxlci5rZXksIHRyYWlsZXIuc2l0ZSkpO1xuXHRcdFx0dHJhaWxlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh2aWRlb1dyYXBwZXIpO1xuXHRcdH1cblx0XHRyZXR1cm4gdHJhaWxlckNvbnRhaW5lcjtcblxuXHRcdGZ1bmN0aW9uIHJlbmRlclRyYWlsZXJIZWFkaW5nKCkge1xuXHRcdFx0Y29uc3QgdHJhaWxlck5hbWUgPSByZW5kZXJFbGVtZW50KFwiaDJcIiwgXCJ0cmFpbGVyLW5hbWVcIik7XG5cdFx0XHRjb25zdCB0cmFpbGVyTGFuZ3VhZ2UgPSByZW5kZXJFbGVtZW50KFwiaDNcIiwgXCJ0cmFpbGVyLWxhbmdcIik7XG5cdFx0XHR0cmFpbGVyTmFtZS50ZXh0Q29udGVudCA9IGAke3RyYWlsZXIudE5hbWV9YDtcblx0XHRcdHRyYWlsZXJMYW5ndWFnZS50ZXh0Q29udGVudCA9IGBMYW5ndWFnZTogJHt0cmFpbGVyLmxhbmd9YDtcblxuXHRcdFx0cmV0dXJuIFt0cmFpbGVyTmFtZSwgdHJhaWxlckxhbmd1YWdlXTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBhZGRWaWRlbyhrZXksIHNpdGUpIHtcblx0XHRcdGNvbnN0IGZyYW1lID0gcmVuZGVyRWxlbWVudChcImlmcmFtZVwiLCBcInRyYWlsZXItdmlkZW9cIik7XG5cdFx0XHRjb25zdCBhdHRyaWJ1dGVzID0ge1xuXHRcdFx0XHRsb2FkaW5nOiBcImxhenlcIixcblx0XHRcdFx0d2lkdGg6IFwiNTYwXCIsXG5cdFx0XHRcdGhlaWdodDogXCIzMTVcIixcblx0XHRcdFx0c3JjOiBgaHR0cHM6Ly95b3V0dWJlLmNvbS9lbWJlZC8ke2tleX1gLFxuXHRcdFx0XHR0aXRsZTogYCR7c2l0ZX0gdmlkZW8gcGxheWVyYCxcblx0XHRcdFx0ZnJhbWVib3JkZXI6IFwiMFwiLFxuXHRcdFx0XHRhbGxvdzpcblx0XHRcdFx0XHRcImFjY2VsZXJvbWV0ZXI7IGF1dG9wbGF5OyBjbGlwYm9hcmQtd3JpdGU7IGVuY3J5cHRlZCBtZWRpYTsgZ3lyb3Njb3BlOyBwaWN0dXJlLWluLXBpY3R1cmU7IHdlYi1zaGFyZVwiLFxuXHRcdFx0fTtcblx0XHRcdGZvciAobGV0IGF0dHIgaW4gYXR0cmlidXRlcykge1xuXHRcdFx0XHRmcmFtZS5zZXRBdHRyaWJ1dGUoYXR0ciwgYXR0cmlidXRlc1thdHRyXSk7XG5cdFx0XHRcdGZyYW1lLnNldEF0dHJpYnV0ZShcImFsbG93ZnVsbHNjcmVlblwiLCB0cnVlKTtcblx0XHRcdH1cblx0XHRcdHJldHVybiBmcmFtZTtcblx0XHR9XG5cdH07XG5cdGNvbnN0IGRyYXdSZWNzID0gKCkgPT4ge1xuXHRcdGNvbnN0IHJlY3NDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmVjcy1jb250YWluZXJcIik7XG5cdFx0aWYgKCFyZWNzKSB7XG5cdFx0XHRjb25zdCBub25lTXNnID0gcmVuZGVyRWxlbWVudCgnaDQnLCAnbm8tcmV2aWV3LW1zZycpO1xuXHRcdFx0bm9uZU1zZy50ZXh0Q29udGVudCA9IFwiTm8gcmVjb21tZW5kYXRpb25zIGZvdW5kXCI7XG5cdFx0XHRyZWNzQ29udGFpbmVyLmFwcGVuZENoaWxkKG5vbmVNc2cpO1xuXHRcdFx0cmV0dXJuIHJlY3NDb250YWluZXI7XG5cdFx0fTtcblx0XHRmb3IgKGxldCByZWMgaW4gcmVjcykge1xuXHRcdFx0cmVjc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkcmF3UmVjKHJlY3NbcmVjXSkpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVjc0NvbnRhaW5lcjtcblx0fTtcblxuXHRjb25zdCBkcmF3UmVjID0gKHJlYykgPT4ge1xuXHRcdGNvbnN0IHJlY0NvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZWMtY29udGFpbmVyXCIpO1xuXHRcdGNvbnN0IHJlY1Bvc3RlciA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJyZWMtcG9zdGVyXCIpO1xuXHRcdGNvbnN0IGluZm8gPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmVjLWluZm9cIik7XG5cblx0XHRyZWNQb3N0ZXIuc3JjID0gYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL3czMDAvJHtyZWMucG9zdGVyX3BhdGh9YDtcblxuXHRcdHJlY0NvbnRhaW5lci5hcHBlbmRDaGlsZChyZWNQb3N0ZXIpO1xuXHRcdHJlbmRlckluZm8ocmVjKS5mb3JFYWNoKChzdWJJbmZvKSA9PiBpbmZvLmFwcGVuZENoaWxkKHN1YkluZm8pKTtcblxuXHRcdGNvbnN0IHJlY0xpbmsgPSByZW5kZXJFbGVtZW50KFwiYVwiLCBcInJlYy1saW5rXCIpO1xuXHRcdGNvbnN0IG1lZGlhVHlwZSA9IHJlYy50TmFtZSA/IFwiVFYgU2hvd1wiIDogXCJNb3ZpZVwiO1xuXHRcdHJlY0xpbmsudGV4dENvbnRlbnQgPSBgU2VhcmNoIGZvciB0aGlzICR7bWVkaWFUeXBlfSAtPiBgO1xuXHRcdHJlY0xpbmsuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChlKSA9PiB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRwYWdlLmNsZWFyU2VjdGlvbnMoKTtcblx0XHRcdHJlYy50TmFtZVxuXHRcdFx0XHQ/IGF3YWl0IHBhZ2UuZHJhd1NlY3Rpb25zKHJlYy50TmFtZSlcblx0XHRcdFx0OiBhd2FpdCBwYWdlLmRyYXdTZWN0aW9ucyhyZWMubU5hbWUpO1xuXHRcdH0pO1xuXG5cdFx0aW5mby5hcHBlbmRDaGlsZChyZWNMaW5rKTtcblx0XHRyZWNDb250YWluZXIuYXBwZW5kQ2hpbGQoaW5mbyk7XG5cdFx0cmV0dXJuIHJlY0NvbnRhaW5lcjtcblxuXHRcdGZ1bmN0aW9uIHJlbmRlckluZm8oc3ViSW5mbykge1xuXHRcdFx0aWYgKHN1YkluZm8pIHtcblx0XHRcdFx0Ly8gSWYgaW5mbyBleGlzdHMuXG5cdFx0XHRcdGNvbnN0IHJlY05hbWUgPSByZW5kZXJFbGVtZW50KFwicFwiLCBcInJlYy1uYW1lXCIpO1xuXHRcdFx0XHRjb25zdCByZWNEYXRlID0gcmVuZGVyRWxlbWVudChcInBcIiwgXCJyZWMtZGF0ZVwiKTtcblx0XHRcdFx0Y29uc3Qgdm90ZUNvdW50ID0gcmVuZGVyRWxlbWVudChcInBcIiwgXCJyZWMtdm90ZS1jb3VudFwiKTtcblx0XHRcdFx0Y29uc3Qgdm90ZUF2ZyA9IHJlbmRlckVsZW1lbnQoXCJwXCIsIFwicmVjLXZvdGUtYXZnXCIpO1xuXG5cdFx0XHRcdHJlY05hbWUudGV4dENvbnRlbnQgPSBzdWJJbmZvLnROYW1lXG5cdFx0XHRcdFx0PyBgTmFtZTogJHtzdWJJbmZvLnROYW1lfWBcblx0XHRcdFx0XHQ6IGBOYW1lOiAke3N1YkluZm8ubU5hbWV9YDtcblx0XHRcdFx0cmVjRGF0ZS50ZXh0Q29udGVudCA9IHN1YkluZm8uZmlyc3RfYWlyX2RhdGVcblx0XHRcdFx0XHQ/IGBGaXJzdCBBaXIgRGF0ZTogJHtzdWJJbmZvLmZpcnN0X2Fpcl9kYXRlfWBcblx0XHRcdFx0XHQ6IGBSZWxlYXNlIERhdGU6ICR7c3ViSW5mby5yZWxlYXNlX2RhdGV9YDtcblx0XHRcdFx0dm90ZUNvdW50LnRleHRDb250ZW50ID0gYFZvdGUgQ291bnQ6ICR7c3ViSW5mby52b3RlX2NvdW50fWA7XG5cdFx0XHRcdHZvdGVBdmcudGV4dENvbnRlbnQgPSBgVm90ZSBBdmc6ICR7c3ViSW5mby52b3RlX2F2ZXJhZ2V9YDtcblxuXHRcdFx0XHRyZXR1cm4gW3JlY05hbWUsIHJlY0RhdGUsIHZvdGVDb3VudCwgdm90ZUF2Z107XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdGZ1bmN0aW9uIHJlbmRlckNvdW50cmllc01vZGFsKGN1cnJDb3VudHJ5TmFtZSkge1xuXHRcdC8vIENvdW50cnkgbmFtZXNcblx0XHRjb25zdCBwcm92aWRlckNvdW50cmllcyA9IE9iamVjdC5rZXlzKHByb3ZpZGVycyk7XG5cdFx0Ly8gU29ydCBieSBjb3VudHJ5IG5hbWUgYW5kIGNvZGVzIGludG8gYW4gb2JqLlxuXHRcdGxldCBjb3VudHJpZXMgPSB7fTtcblx0XHRsZXQgY3VyckNvdW50cnlDb2RlO1xuXHRcdHByb3ZpZGVyQ291bnRyaWVzLmZvckVhY2goKGNvdW50cnkpID0+IHtcblx0XHRcdGNvdW50cmllc1tjb3VudHJ5XSA9IHByb3ZpZGVyc1tjb3VudHJ5XS5jb3VudHJ5Q29kZTtcblxuXHRcdFx0Ly8gRmluZCBjdXJyZW50IGNvdW50cnkgY29kZS5cblx0XHRcdGlmIChjdXJyQ291bnRyeU5hbWUgPT09IGNvdW50cnkpIHtcblx0XHRcdFx0Y3VyckNvdW50cnlDb2RlID0gcHJvdmlkZXJzW2NvdW50cnldLmNvdW50cnlDb2RlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Y29uc3QgbW9kYWxDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZm9ybVwiLCBcIm1vZGFsLWNvdW50cnktY29udGFpbmVyXCIpO1xuXHRcdGNvbnN0IG1vZGFsSGVhZGVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcIm1vZGFsLWhlYWRlclwiKTtcblxuXHRcdGNvbnN0IG1vZGFsQm9keSA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJtb2RhbC1ib2R5XCIpO1xuXHRcdGNvbnN0IG1vZGFsQ3VycmVudENvdW50cnkgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwibW9kYWwtY3VycmVudC1jb3VudHJ5XCIpO1xuXHRcdGNvbnN0IG1vZGFsSW5wdXRTZWFyY2ggPSByZW5kZXJFbGVtZW50KFwiaW5wdXRcIiwgXCJtb2RhbC1pbnB1dC1zZWFyY2hcIik7XG5cdFx0Y29uc3QgbW9kYWxMaXN0Q291bnRyaWVzID0gcmVuZGVyRWxlbWVudChcInVsXCIsIFwibW9kYWwtbGlzdC1jb3VudHJpZXNcIik7XG5cblx0XHRjb25zdCBtb2RhbENsb3NlQnRuID0gcmVuZGVyRWxlbWVudChcImJ1dHRvblwiLCBcIm1vZGFsLWNsb3NlLWJ0blwiKTtcblxuXHRcdGNvbnN0IHJlbmRlckhlYWRpbmcgPSAoKSA9PiB7XG5cdFx0XHQvLyBIZWFkaW5nIHRoYXQgZGlzcGxheXMgY3VycmVudCBjb3VudHJ5IHNlbGVjdGVkLlxuXHRcdFx0Y29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcblx0XHRcdGhlYWRpbmcudGV4dENvbnRlbnQgPSBcIkNvdW50cmllc1wiO1xuXG5cdFx0XHRjb25zdCBjdXJyQ291bnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcblx0XHRcdGNvbnN0IHNlYXJjaExhYmVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpO1xuXG5cdFx0XHRjb25zdCBzZWFyY2hBdHRyaWJ1dGVzID0ge1xuXHRcdFx0XHRpZDogXCJtb2RhbC1pbnB1dC1zZWFyY2hcIixcblx0XHRcdFx0dHlwZTogXCJzZWFyY2hcIixcblx0XHRcdFx0cGxhY2Vob2xkZXI6IFwi8J+UjSBTZWFyY2ggZm9yIGNvdW50cmllcy4uLlwiLFxuXHRcdFx0XHR0aXRsZTogXCJUeXBlIGluIGEgY291bnRyeSBuYW1lXCIsXG5cdFx0XHRcdHJvbGU6IFwic2VhcmNoXCIsXG5cdFx0XHR9O1xuXG5cdFx0XHRmb3IgKGxldCBpIGluIHNlYXJjaEF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0bW9kYWxJbnB1dFNlYXJjaC5zZXRBdHRyaWJ1dGUoaSwgc2VhcmNoQXR0cmlidXRlc1tpXSk7XG5cdFx0XHR9XG5cdFx0XHRtb2RhbElucHV0U2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBmaWx0ZXJSZXN1bHRzKTtcblx0XHRcdG1vZGFsSW5wdXRTZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZSkgPT4ge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHR9KTtcblxuXHRcdFx0Ly8gRmluZCBjdXJyZW50IGNvdW50cnkgbmFtZSBhbmQgY29kZS5cblx0XHRcdGNvbnN0IGN1cnJDb3VudHJ5RmxhZyA9IHJlbmRlckNvdW50cnlGbGFnKFxuXHRcdFx0XHRjdXJyQ291bnRyeUNvZGUsXG5cdFx0XHRcdGN1cnJDb3VudHJ5TmFtZVxuXHRcdFx0KTtcblx0XHRcdGN1cnJDb3VudHJ5LnRleHRDb250ZW50ID0gY3VyckNvdW50cnlOYW1lO1xuXG5cdFx0XHRtb2RhbEN1cnJlbnRDb3VudHJ5LmFwcGVuZENoaWxkKGN1cnJDb3VudHJ5RmxhZyk7XG5cdFx0XHRtb2RhbEN1cnJlbnRDb3VudHJ5LmFwcGVuZENoaWxkKGN1cnJDb3VudHJ5KTtcblxuXHRcdFx0c2VhcmNoTGFiZWwuaHRtbEZvciA9IGAke21vZGFsSW5wdXRTZWFyY2guaWR9YDtcblxuXHRcdFx0W2hlYWRpbmcsIG1vZGFsQ3VycmVudENvdW50cnksIHNlYXJjaExhYmVsLCBtb2RhbElucHV0U2VhcmNoXS5mb3JFYWNoKFxuXHRcdFx0XHQoZm9ybUVsZW0pID0+IHtcblx0XHRcdFx0XHRtb2RhbEhlYWRlci5hcHBlbmRDaGlsZChmb3JtRWxlbSk7XG5cdFx0XHRcdH1cblx0XHRcdCk7XG5cdFx0fTtcblxuXHRcdGNvbnN0IHJlbmRlckJvZHkgPSAoKSA9PiB7XG5cdFx0XHRtb2RhbExpc3RDb3VudHJpZXMuaWQgPSBcImNvdW50cmllcy1saXN0XCI7XG5cdFx0XHRmb3IgKGxldCBjb3VudHJ5IGluIGNvdW50cmllcykge1xuXHRcdFx0XHRsZXQgY291bnRyeUNvZGUgPSBjb3VudHJpZXNbY291bnRyeV07XG5cblx0XHRcdFx0Y29uc3QgY291bnRyeUNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJsaVwiLCBcImNvdW50cnktY29udGFpbmVyXCIpO1xuXHRcdFx0XHRjb25zdCBjb3VudHJ5RmxhZyA9IHJlbmRlckNvdW50cnlGbGFnKGNvdW50cnlDb2RlLCBjb3VudHJ5KTtcblx0XHRcdFx0Y29uc3QgY291bnRyeU5hbWUgPSByZW5kZXJFbGVtZW50KFwiYVwiLCBcImNvdW50cnktbmFtZVwiKTtcblxuXHRcdFx0XHRjb3VudHJ5TmFtZS50ZXh0Q29udGVudCA9IGNvdW50cnk7XG5cdFx0XHRcdGNvdW50cnlOYW1lLnNldEF0dHJpYnV0ZShcImhyZWZcIiwgXCIjXCIpO1xuXG5cdFx0XHRcdFtjb3VudHJ5RmxhZywgY291bnRyeU5hbWVdLmZvckVhY2goKGNvdW50cnlFbGVtKSA9PiB7XG5cdFx0XHRcdFx0Y291bnRyeUNvbnRhaW5lci5hcHBlbmRDaGlsZChjb3VudHJ5RWxlbSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdG1vZGFsTGlzdENvdW50cmllcy5hcHBlbmRDaGlsZChjb3VudHJ5Q29udGFpbmVyKTtcblx0XHRcdH1cblxuXHRcdFx0W21vZGFsTGlzdENvdW50cmllc10uZm9yRWFjaCgoZm9ybUVsZW0pID0+IHtcblx0XHRcdFx0bW9kYWxCb2R5LmFwcGVuZENoaWxkKGZvcm1FbGVtKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHRjb25zdCByZW5kZXJDbG9zZUJ0biA9IChjbG9zZUZuYykgPT4ge1xuXHRcdFx0Y29uc3QgY2xvc2VTeW1iID0gcmVuZGVyRWxlbWVudChcImlcIiwgXCJmYVwiKTtcblx0XHRcdGNsb3NlU3ltYi5jbGFzc0xpc3QuYWRkKFwiZmEtY2xvc2VcIik7XG5cdFx0XHRtb2RhbENsb3NlQnRuLmFwcGVuZENoaWxkKGNsb3NlU3ltYik7XG5cdFx0XHRjbG9zZUZuYygpO1xuXHRcdH07XG5cdFx0Y29uc3QgYWRkQ2xvc2VGbmMgPSAoKSA9PiB7XG5cdFx0XHRtb2RhbENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb3VudHJ5LWNvbnRhaW5lclwiKTtcblx0XHRcdFx0Y3VycmVudEZvcm0ucmVtb3ZlKCk7XG5cdFx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmFjZS1tYXNrXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHQvLyBSZW5kZXIgc2VjdGlvbnMgb2YgdGhlIGZvcm0uXG5cdFx0cmVuZGVySGVhZGluZygpO1xuXHRcdHJlbmRlckJvZHkoKTtcblx0XHRyZW5kZXJDbG9zZUJ0bihhZGRDbG9zZUZuYyk7XG5cblx0XHRbbW9kYWxIZWFkZXIsIG1vZGFsQm9keSwgbW9kYWxDbG9zZUJ0bl0uZm9yRWFjaCgobW9kYWxFbGVtKSA9PlxuXHRcdFx0bW9kYWxDb250YWluZXIuYXBwZW5kQ2hpbGQobW9kYWxFbGVtKVxuXHRcdCk7XG5cblx0XHRjb25zdCBib2R5RG9jdW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcblx0XHRib2R5RG9jdW1lbnQuYXBwZW5kKG1vZGFsQ29udGFpbmVyKTtcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhY2UtbWFza1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG5cdFx0ZnVuY3Rpb24gcmVuZGVyQ291bnRyeUZsYWcoY291bnRyeUNvZGUsIGNvdW50cnlOYW1lKSB7XG5cdFx0XHRjb25zdCBmbGFnID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcImNvdW50cnktZmxhZ1wiKTtcblx0XHRcdGZsYWcuc2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIiwgXCJhbm9ueW1vdXNcIik7XG5cdFx0XHRmbGFnLnNyYyA9IGBodHRwczovL2NvdW50cnlmbGFnc2FwaS5jb20vcG5nLyR7Y291bnRyeUNvZGV9YDtcblx0XHRcdGZsYWcuYWx0ID0gYCR7Y291bnRyeU5hbWV9IGZsYWdgO1xuXHRcdFx0cmV0dXJuIGZsYWc7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gZmlsdGVyUmVzdWx0cygpIHtcblx0XHRcdGxldCBpbnB1dCwgZmlsdGVyLCB1bCwgbGksIGEsIGksIHR4dFZhbHVlO1xuXHRcdFx0aW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLWlucHV0LXNlYXJjaFwiKTtcblx0XHRcdGZpbHRlciA9IGlucHV0LnZhbHVlLnRvVXBwZXJDYXNlKCk7XG5cdFx0XHR1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291bnRyaWVzLWxpc3RcIik7XG5cdFx0XHRsaSA9IHVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlcIik7XG5cblx0XHRcdC8vIExvZ2ljIHRoYXQgZmlsdGVycyB0aGUgY291bnRyaWVzIGJhc2VkIG9uIGlucHV0LlxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGxpLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGEgPSBsaVtpXS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIilbMF07XG5cdFx0XHRcdHR4dFZhbHVlID0gYS50ZXh0Q29udGVudCB8fCBhLmlubmVyVGV4dDtcblx0XHRcdFx0aWYgKHR4dFZhbHVlLnRvVXBwZXJDYXNlKCkuaW5kZXhPZihmaWx0ZXIpID4gLTEpIHtcblx0XHRcdFx0XHRsaVtpXS5zdHlsZS5kaXNwbGF5ID0gXCJcIjtcblx0XHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0XHRsaVtpXS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHR9XG5cdH1cblx0ZnVuY3Rpb24gaGlnaGxpZ2h0Q3VyckNvdW50cnkoY291bnRyeU5hbWUpIHtcblx0XHQvLyBIaWdobGlnaHQgc2VsZWN0ZWQgY3VycmVudCBjb3VudHJ5IGluIHRoZSBsaXN0IG9mIGNvdW50cmllcyB3aGVuXG5cdFx0Ly8gbW9kYWwgaXMgb3BlbmVkLiBBZGQgYSB0aWNrIGljb24gc2ltdWx0YW5lb3VzbHlcblxuXHRcdGxldCB1bCwgbGksIGksIGEsIHR4dFZhbHVlO1xuXHRcdHVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb3VudHJpZXMtbGlzdFwiKTtcblx0XHRsaSA9IHVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlcIik7XG5cdFx0Zm9yIChpID0gMDsgaSA8IGxpLmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRhID0gbGlbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhXCIpWzBdO1xuXHRcdFx0dHh0VmFsdWUgPSBhLnRleHRDb250ZW50IHx8IGEuaW5uZXJUZXh0O1xuXHRcdFx0aWYgKHR4dFZhbHVlID09PSBjb3VudHJ5TmFtZSkge1xuXHRcdFx0XHRsaVtpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMjUsIDE1MCwgMTUwLCAwLjUpXCI7XG5cdFx0XHRcdGxpW2ldLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMS4wMjUpXCI7XG5cdFx0XHRcdGNvbnN0IHRpY2tJY29uID0gcmVuZGVyRWxlbWVudChcImlcIiwgXCJmYVwiKTtcblx0XHRcdFx0dGlja0ljb24uY2xhc3NMaXN0LmFkZChcImZhLWNoZWNrXCIpO1xuXHRcdFx0XHRsaVtpXS5hcHBlbmQodGlja0ljb24pO1xuXHRcdFx0fVxuXHRcdH1cblx0fVxuXHRyZXR1cm4ge1xuXHRcdHNlY3Rpb24sXG5cdFx0YWRkVG9TZWN0aW9uLFxuXHRcdGRyYXdBbGwsXG5cdFx0ZHJhd0ludHJvLFxuXHRcdGRyYXdTdWJJbmZvcyxcblx0XHRkcmF3U3VtbWFyeUhlYWRpbmcsXG5cdFx0ZHJhd1N1bW1hcnksXG5cdFx0ZHJhd1Byb3ZpZGVycyxcblx0XHRkcmF3UmV2aWV3cyxcblx0XHRkcmF3VHJhaWxlcixcblx0XHRkcmF3UmVjcyxcblx0fTtcbn07XG5cbmV4cG9ydCB7IGRyYXdTZWN0aW9uIH07XG4iLCJpbXBvcnQgY29sbGVjdFNlYXJjaFF1ZXJ5IGZyb20gXCIuL3NlYXJjaFwiO1xuaW1wb3J0IHsgZmV0Y2hJZHMgfSBmcm9tIFwiLi4vYXBpRnVuY3Rpb25zL2ZldGNoSWRcIjtcbmltcG9ydCAqIGFzIG1vdmllIGZyb20gXCIuLi9hcGlGdW5jdGlvbnMvZmV0Y2hNb3ZpZUluZm9cIjtcbmltcG9ydCB7IGRyYXdTZWN0aW9uIH0gZnJvbSBcIi4vZHJhd1NlY3Rpb25cIjtcblxuYXN5bmMgZnVuY3Rpb24gZHJhd1NlY3Rpb25zKHRpdGxlKSB7XG5cdGNvbnN0IGlkcyA9IGF3YWl0IGZldGNoSWRzKHRpdGxlKTtcblx0Y29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250YWluZXJcIik7XG5cdGxldCBzZWN0aW9ucyA9IFtdO1xuXG5cdC8vIE1ha2UgYW4gYXJyIHcvIGVsZW1zIG9mIFtpZCwgbWVkaWFdXG5cdGZvciAobGV0IGlkIGluIGlkcykge1xuXG5cdFx0c2VjdGlvbnMucHVzaChbaWQsIGlkc1tpZF1dKVxuXHR9XG5cblx0c2VjdGlvbnMuZm9yRWFjaChcblx0XHRhc3luYyAoc2VjdGlvbikgPT4gYXdhaXQgcmVuZGVyU2VjdGlvbihzZWN0aW9uWzBdLCBzZWN0aW9uWzFdKVxuXHQpO1xuXG5cdFxuXHRhc3luYyBmdW5jdGlvbiByZW5kZXJTZWN0aW9uKGlkLCBtZWRpYSkge1xuXHRcdGNvbnN0IHNlY3Rpb24gPSBhd2FpdCBkcmF3U2VjdGlvbihpZCwgbWVkaWEpO1xuXG5cdFx0Ly8gQWRkIHdyYXBwZXIgZGl2cyBmb3IgbGF5b3V0LlxuXHRcdGNvbnN0IGludHJvU3ViSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdGludHJvU3ViSW5mby5jbGFzc0xpc3QuYWRkKFwiaW50cm8tc3ViLWluZm9cIik7XG5cdFx0aW50cm9TdWJJbmZvLmFwcGVuZENoaWxkKHNlY3Rpb24uZHJhd0ludHJvKFwiMzAwXCIpKTtcblx0XHRpbnRyb1N1YkluZm8uYXBwZW5kQ2hpbGQoc2VjdGlvbi5kcmF3U3ViSW5mb3MoKSk7XG5cdFx0XG5cdFx0Y29uc3Qgc3lub3BzaXNXYXRjaFB2ZGVycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2RpdicpO1xuXHRcdHN5bm9wc2lzV2F0Y2hQdmRlcnMuY2xhc3NMaXN0LmFkZChcInN5bm9wc2lzLXdhdGNoLXByb3ZpZGVyc1wiKTtcblx0XHRzeW5vcHNpc1dhdGNoUHZkZXJzLmFwcGVuZENoaWxkKHNlY3Rpb24uZHJhd1N1bW1hcnlIZWFkaW5nKCkpO1xuXHRcdHN5bm9wc2lzV2F0Y2hQdmRlcnMuYXBwZW5kQ2hpbGQoc2VjdGlvbi5kcmF3U3VtbWFyeSgpKTtcblx0XHRzeW5vcHNpc1dhdGNoUHZkZXJzLmFwcGVuZENoaWxkKHNlY3Rpb24uZHJhd1Byb3ZpZGVycygpKTsgXG5cdFx0XG5cdFx0Y29uc3QgcmVjSGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoJ2gyJyk7XG5cdFx0cmVjSGVhZGluZy5jbGFzc0xpc3QuYWRkKCdyZWMtaGVhZGluZycpO1xuXHRcdHJlY0hlYWRpbmcudGV4dENvbnRlbnQgPSAnUkVDT01NRU5EQVRJT05TOidcblx0XHRcblx0XHQvLyBzZWN0aW9uLmFkZFRvU2VjdGlvbihzZWN0aW9uLmRyYXdJbnRybyhcIjMwMFwiKSk7XG5cdFx0Ly8gc2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3U3ViSW5mb3MoKSk7XG5cdFx0Ly8gc2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3U3VtbWFyeSgpKTtcblx0XHQvLyBzZWN0aW9uLmFkZFRvU2VjdGlvbihzZWN0aW9uLmRyYXdQcm92aWRlcnMoKSk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oaW50cm9TdWJJbmZvKTtcblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihzeW5vcHNpc1dhdGNoUHZkZXJzKTtcblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihzZWN0aW9uLmRyYXdSZXZpZXdzKCkpO1xuXHRcdHNlY3Rpb24uYWRkVG9TZWN0aW9uKHNlY3Rpb24uZHJhd1RyYWlsZXIoKSk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24ocmVjSGVhZGluZyk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3UmVjcygpKTtcblx0XHRtYWluLmFwcGVuZENoaWxkKHNlY3Rpb24uc2VjdGlvbik7XG5cdFx0cmV0dXJuIHJlbmRlclNlY3Rpb247XG5cdH1cbn1cblxuZnVuY3Rpb24gY2xlYXJTZWN0aW9ucygpIHtcblx0Y29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250YWluZXJcIik7XG5cdG1haW4uaW5uZXJIVE1MID0gXCJcIjtcbn1cblxuZXhwb3J0IHsgZHJhd1NlY3Rpb25zLCBjbGVhclNlY3Rpb25zIH07XG4iLCJpbXBvcnQgeyBkcmF3U2VjdGlvbnMgfSBmcm9tIFwiLi9qcy9ET01GdW5jdGlvbnMvZHJhd1NlY3Rpb25zXCI7XG5pbXBvcnQgYWRkU3VibWl0U2VhcmNoRm5jIGZyb20gXCIuL2pzL1VJL3N1Ym1pdFNlYXJjaFwiO1xuXG5jb25zb2xlLmxvZyhcIkhlbGxvIFdvcmxkXCIpO1xuLy8gZmV0Y2hJZHMoJ0lST04gTUFOJyk7XG5cbi8vIGZldGNoTW92aWVEdW1teSgxNzI2KTtcbi8vIGZldGNoTW92aWVEdW1teSgzMDk3KTsgLy8gZmFpbCB0byBmZXRjaCBiZWNhdXNlIGl0cyB0di5cbi8vIGZldGNoTW92aWVEdW1teSgxMDEzOCk7XG4vLyBmZXRjaE1vdmllRHVtbXkoNjg3MjEpO1xuXG4vLyBhc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllRHVtbXkoaWQpIHtcbi8vICAgICBjb25zdCBtb3ZpZURldGFpbHMgPSBhd2FpdCBtb3ZpZS5mZXRjaE1vdmllRGV0YWlscyhpZCk7XG4vLyAgICAgY29uc3QgbW92aWVSZWNjb3MgPSBhd2FpdCBtb3ZpZS5mZXRjaE1vdmllUmVjY29zKGlkKTtcbi8vICAgICBjb25zdCBtb3ZpZVByb3ZpZGVycyA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVQcm92aWRlcnMoaWQpO1xuLy8gICAgIGNvbnN0IG1vdmllVHJhaWxlciA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVUcmFpbGVyKGlkKTtcbi8vICAgICBjb25zdCBtb3ZpZVJldmlld3MgPSBhd2FpdCBtb3ZpZS5mZXRjaE1vdmllUmV2aWV3cyhpZCk7XG4vLyAgICAgY29uc29sZS5sb2cobW92aWVEZXRhaWxzKTtcbi8vICAgICBjb25zb2xlLmxvZyhtb3ZpZVJlY2Nvcyk7XG4vLyAgICAgY29uc29sZS5sb2cobW92aWVQcm92aWRlcnMpO1xuLy8gICAgIGNvbnNvbGUubG9nKG1vdmllVHJhaWxlcik7XG4vLyAgICAgY29uc29sZS5sb2cobW92aWVSZXZpZXdzKTtcbi8vIH1cblxuLy8gYWRkU3VibWl0U2VhcmNoRnVuY3Rpb24oKTtcblxuYWRkU3VibWl0U2VhcmNoRm5jKCk7XG4vLyBkcmF3U2VjdGlvbnMoXCJpcm9uIG1hblwiKTtcbmRyYXdTZWN0aW9ucyhcIklyb24gTWFuXCIpO1xuLy8gZHJhd1NlY3Rpb25zKFwicGVlIG1ha1wiKTtcbiIsImltcG9ydCB7IGRyYXdTZWN0aW9ucywgY2xlYXJTZWN0aW9ucyB9IGZyb20gXCIuLi9ET01GdW5jdGlvbnMvZHJhd1NlY3Rpb25zXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGFkZFN1Ym1pdFNlYXJjaEZuYygpIHtcblx0Y29uc3Qgc2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtcXVlcnlcIik7XG5cdHNlYXJjaEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y29uc3QgcXVlcnkgPSBpbnRlcnByZXRUb1F1ZXJ5KFxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1zZWFyY2hcIikudmFsdWVcblx0XHQpO1xuXHRcdGlmICghcXVlcnkpIHtcblx0XHRcdGFsZXJ0KFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgbW92aWUvdHYgc2hvd1wiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y2xlYXJTZWN0aW9ucygpO1xuXHRcdGF3YWl0IGRyYXdTZWN0aW9ucyhxdWVyeSk7XG5cblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1xdWVyeVwiKS52YWx1ZSA9IFwiXCI7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIrXCIpO1xufVxuIl0sIm5hbWVzIjpbIkFQSV9LRVkiLCJhc3luYyIsImZldGNoTW92aWVEZXRhaWxzIiwibW92aWVfaWQiLCJyZXNwb25zZSIsImZldGNoIiwibW9kZSIsImRhdGEiLCJqc29uIiwiZ2VucmVzIiwicmVkdWNlIiwiYWNjIiwidmFsIiwibmFtZSIsIm1OYW1lIiwib3JpZ2luYWxfdGl0bGUiLCJzdW1tYXJ5Iiwib3ZlcnZpZXciLCJ0YWdsaW5lIiwicG9wdWxhcml0eSIsInZvdGVfYXZlcmFnZSIsInZvdGVfY291bnQiLCJ2aWRlbyIsInJ1bnRpbWUiLCJwb3N0ZXJfcGF0aCIsImJhY2tkcm9wX3BhdGgiLCJyZWxlYXNlX2RhdGUiLCJlcnIiLCJhbGVydCIsImZldGNoTW92aWVSZWNjb3MiLCJyZWNNb3ZpZXMiLCJyZXN1bHRzIiwiY291bnQiLCJtb3ZpZSIsImlkIiwiZmV0Y2hNb3ZpZVByb3ZpZGVycyIsInByb3ZpZGVyc0J5Q291bnRyeSIsImNvdW50cnlDb2RlIiwiY291bnRyeSIsImNvZGUiLCJJbnRsIiwiRGlzcGxheU5hbWVzIiwidHlwZSIsIm9mIiwic3RyZWFtIiwicmVudCIsImJ1eSIsInNvcnRQcm92aWRlcnMiLCJzZXJ2aWNlcyIsImNvbGxlY3Rpb24iLCJmb3JFYWNoIiwic2VydmljZSIsInByb3ZpZGVySW5mbyIsInByb3ZpZGVyX25hbWUiLCJwcm92aWRlcl9sb2dvX3BhdGgiLCJsb2dvX3BhdGgiLCJwdXNoIiwiZmxhdHJhdGUiLCJmZXRjaE1vdmllVHJhaWxlciIsIm1vdmllVHJhaWxlciIsInRyYWlsZXJzIiwiZmlsdGVyIiwibGVuZ3RoIiwib2ZmaWNpYWwiLCJ0TmFtZSIsImtleSIsInNpdGUiLCJsYW5nIiwiaXNvXzYzOV8xIiwiZmV0Y2hNb3ZpZVJldmlld3MiLCJyZXZpZXdzIiwicmV2aWV3IiwiYXV0aG9yIiwicmF0aW5nIiwiYXV0aG9yX2RldGFpbHMiLCJwaWNfcGF0aCIsImF2YXRhcl9wYXRoIiwiY29udGVudCIsInVybCIsImxhc3RfdXBkYXRlZCIsInVwZGF0ZWRfYXQiLCJzbGljZSIsImZldGNoVHZEZXRhaWxzIiwidHZfaWQiLCJjb25zb2xlIiwibG9nIiwib3JpZ2luYWxfbmFtZSIsImxhbmd1YWdlIiwib3JpZ2luYWxfbGFuZ3VhZ2UiLCJlcGlzb2RlX3J1bl90aW1lIiwib3JpZ2luX2NvdW50cnkiLCJzdGF0dXMiLCJzZWFzb25zIiwibnVtYmVyX29mX3NlYXNvbnMiLCJmaXJzdF9haXJfZGF0ZSIsImxhc3RfYWlyX2RhdGUiLCJmZXRjaFR2UmVjY29zIiwicmVjVHZzIiwidHYiLCJmZXRjaFR2UHJvdmlkZXJzIiwiZmV0Y2hUdlRyYWlsZXIiLCJ0dlRyYWlsZXIiLCJmZXRjaFR2UmV2aWV3cyIsImRyYXdTZWN0aW9uIiwibWVkaWEiLCJzZWN0aW9uIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZGV0YWlscyIsImdldEluZm8iLCJyZWNzIiwicHJvdmlkZXJzIiwidHJhaWxlciIsImFkZFRvU2VjdGlvbiIsInBhcnQiLCJhcHBlbmRDaGlsZCIsInJlbmRlckVsZW1lbnQiLCJ0YWciLCJjbGFzc05hbWUiLCJjb250YWluZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJtb3ZpZUZuYyIsInR2Rm5jIiwiZHJhd0ludHJvIiwiaW1nU2l6ZSIsImludHJvQ29udGFpbmVyIiwidGl0bGUiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRpdGxlIiwidGFnUGFyYSIsIndyaXRlVGFnbGluZSIsImltZyIsInBvc3RlciIsImJhc2VJbWdVcmwiLCJpbWdfcGF0aCIsInNyYyIsImFsdCIsInNldEF0dHJpYnV0ZSIsInJlbmRlckltZyIsImRyYXdSZWMiLCJyZWMiLCJyZWNDb250YWluZXIiLCJyZWNQb3N0ZXIiLCJpbmZvIiwic3ViSW5mbyIsInJlY05hbWUiLCJyZWNEYXRlIiwidm90ZUNvdW50Iiwidm90ZUF2ZyIsInJlbmRlckluZm8iLCJyZWNMaW5rIiwibWVkaWFUeXBlIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImRyYXdBbGwiLCJkcmF3U3ViSW5mb3MiLCJkYXRlIiwibGFzdEFpcmVkIiwiY3JlYXRlU3ViSW5mbyIsInNwbGl0IiwicmV2ZXJzZSIsImpvaW4iLCJtaW5zIiwiaG91cnMiLCJySG91cnMiLCJNYXRoIiwiZmxvb3IiLCJtaW51dGVzIiwicm91bmQiLCJjb252ZXJ0TWluVG9IciIsImNhdGVnb3J5IiwiY2F0ZWdvcnlOYW1lIiwiY2F0ZWdvcnlJbmZvIiwiZHJhd1N1bW1hcnlIZWFkaW5nIiwiaGVhZGluZyIsImRyYXdTdW1tYXJ5IiwicGFyYSIsImRyYXdQcm92aWRlcnMiLCJhdmFpbFByb3ZpZGVycyIsInByb3ZpZGVyQ29udGFpbmVyIiwiY291bnRyeUJ0biIsImhvdXNlQ29udGFpbmVyIiwiZWxlbSIsIk9iamVjdCIsImtleXMiLCJpbmNsdWRlcyIsImRyYXdQcm92aWRlciIsImZpcnN0UHJvdmlkZXIiLCJjdXJyQ291bnRyeU5hbWUiLCJwcm92aWRlckNvdW50cmllcyIsImN1cnJDb3VudHJ5Q29kZSIsImNvdW50cmllcyIsIm1vZGFsQ29udGFpbmVyIiwibW9kYWxIZWFkZXIiLCJtb2RhbEJvZHkiLCJtb2RhbEN1cnJlbnRDb3VudHJ5IiwibW9kYWxJbnB1dFNlYXJjaCIsIm1vZGFsTGlzdENvdW50cmllcyIsIm1vZGFsQ2xvc2VCdG4iLCJyZW5kZXJDb3VudHJ5RmxhZyIsImNvdW50cnlOYW1lIiwiZmxhZyIsImZpbHRlclJlc3VsdHMiLCJpbnB1dCIsInVsIiwibGkiLCJhIiwiaSIsInR4dFZhbHVlIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsInRvVXBwZXJDYXNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbm5lclRleHQiLCJpbmRleE9mIiwic3R5bGUiLCJkaXNwbGF5IiwiY3VyckNvdW50cnkiLCJzZWFyY2hMYWJlbCIsInNlYXJjaEF0dHJpYnV0ZXMiLCJwbGFjZWhvbGRlciIsInJvbGUiLCJjdXJyQ291bnRyeUZsYWciLCJodG1sRm9yIiwiZm9ybUVsZW0iLCJyZW5kZXJIZWFkaW5nIiwiY291bnRyeUNvbnRhaW5lciIsImNvdW50cnlGbGFnIiwiY291bnRyeUVsZW0iLCJyZW5kZXJCb2R5IiwiY2xvc2VGbmMiLCJjbG9zZVN5bWIiLCJyZW5kZXJDbG9zZUJ0biIsInF1ZXJ5U2VsZWN0b3IiLCJyZW1vdmUiLCJtb2RhbEVsZW0iLCJhcHBlbmQiLCJyZW5kZXJDb3VudHJpZXNNb2RhbCIsImJhY2tncm91bmRDb2xvciIsInRyYW5zZm9ybSIsInRpY2tJY29uIiwiaGlnaGxpZ2h0Q3VyckNvdW50cnkiLCJxdWVyeVNlbGVjdG9yQWxsIiwibGFzdENoaWxkIiwic2VsZWN0ZWRDb3VudHJ5IiwiaW5uZXJIVE1MIiwic3RyZWFtSW5mbyIsImJ1eUluZm8iLCJyZW50SW5mbyIsInNlcnZpY2VOYW1lcyIsImlkeCIsInNlcnZpY2VDb250YWluZXIiLCJzZXJ2aWNlTmFtZSIsInNlcnZpY2VOYW1lQm9sZCIsInByb3ZpZGVyU2VydmljZUNvbnRhaW5lciIsInByb3ZpZGVyIiwicHJvdmlkZXJTZXJ2aWNlIiwicHJvdmlkZXJJbWciLCJwcm92aWRlck5hbWUiLCJkcmF3UmV2aWV3cyIsInJldmlld0NvbnRhaW5lciIsImFkZFJldkluZm8iLCJpbmZvQ29udGFpbmVyIiwicmV2aWV3SGVhZGluZyIsImF1dGhvclBpYyIsInJlbmRlclJldmlld0hlYWRpbmciLCJyZXZpZXdDb250ZW50IiwicmVuZGVyUmV2aWV3Qm9keSIsInJldmlld0Zvb3RlciIsInJldmlld1VybCIsInJldmlld1VwZGF0ZWQiLCJjb25jYXQiLCJyZW5kZXJSZXZpZXdGb290ZXIiLCJkcmF3UmV2aWV3IiwiZHJhd1RyYWlsZXIiLCJ0cmFpbGVyQ29udGFpbmVyIiwidHJhaWxlckhlYWRpbmciLCJ0cmFpbGVyTmFtZSIsInRyYWlsZXJMYW5ndWFnZSIsInJlbmRlclRyYWlsZXJIZWFkaW5nIiwidmlkZW9XcmFwcGVyIiwiZnJhbWUiLCJhdHRyaWJ1dGVzIiwibG9hZGluZyIsIndpZHRoIiwiaGVpZ2h0IiwiZnJhbWVib3JkZXIiLCJhbGxvdyIsImF0dHIiLCJhZGRWaWRlbyIsImRyYXdSZWNzIiwicmVjc0NvbnRhaW5lciIsIm5vbmVNc2ciLCJkcmF3U2VjdGlvbnMiLCJpZHMiLCJxdWVyeSIsImludGVycHJldFRvUXVlcnkiLCJyZXN1bHQiLCJzb3J0IiwicDEiLCJwMiIsIm1lZGlhX3R5cGUiLCJmZXRjaElkcyIsIm1haW4iLCJzZWN0aW9ucyIsInJlbmRlclNlY3Rpb24iLCJpbnRyb1N1YkluZm8iLCJzeW5vcHNpc1dhdGNoUHZkZXJzIiwicmVjSGVhZGluZyIsImNsZWFyU2VjdGlvbnMiLCJhZGRTdWJtaXRTZWFyY2hGbmMiXSwic291cmNlUm9vdCI6IiJ9