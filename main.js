(()=>{"use strict";const t="720d2150cf09bfa61e28a5042cd7468f",e="720d2150cf09bfa61e28a5042cd7468f";async function n(t){try{const n=await fetch(`https://api.themoviedb.org/3/movie/${t}?api_key=${e}&language=en-US`,{mode:"cors"}),a=await n.json(),o=a.genres.reduce(((t,e)=>[...t,e.name]),[]);return{mName:a.original_title,summary:a.overview,tagline:a.tagline,popularity:a.popularity,vote_average:a.vote_average,vote_count:a.vote_count,genres:o,video:a.video,runtime:a.runtime,poster_path:a.poster_path,backdrop_path:a.backdrop_path}}catch(t){alert(t)}}async function a(t){try{const n=await fetch(`https://api.themoviedb.org/3/movie/${t}/recommendations?api_key=${e}&language=en-US&page=1`,{mode:"cors"}),a=await n.json(),o={};if(a.results){let t=1;for(let e of a.results){if(o[e.original_title]={mName:e.original_title,id:e.id,poster_path:e.poster_path,backdrop_path:e.backdrop_path},5===t)break;t++}}return o}catch(t){alert(t)}}async function o(t){const n={};try{const o=await fetch(`https://api.themoviedb.org/3/movie/${t}/watch/providers?api_key=${e}`,{mode:"cors"}),r=await o.json();for(const t in r.results){const e=(a=t,new Intl.DisplayNames(["en"],{type:"region"}).of(a));n[e]={stream:[],rent:[],buy:[],countryCode:t};const o=(t,e)=>{t&&t.forEach((t=>{const n={provider_name:t.provider_name,provider_logo_path:t.logo_path};e.push(n)}))};o(r.results[t].flatrate,n[e].stream),o(r.results[t].rent,n[e].rent),o(r.results[t].buy,n[e].buy)}return n}catch(t){alert(t)}var a}async function r(t){try{let a;const o=await fetch(`https://api.themoviedb.org/3/movie/${t}/videos?api_key=${e}`,{mode:"cors"}),r=(await o.json()).results.filter((t=>"Trailer"===t.type));if(0===r.length)return!1;const i=r.filter((t=>{t.official}));return a=0!==i.length?i[0]:r[0],{mName:a.name,key:a.key,site:a.site,type:a.type,lang:(n=a.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(n))}}catch(t){alert(t)}var n}async function i(t){try{let n=[];const a=await fetch(`https://api.themoviedb.org/3/movie/${t}/reviews?api_key=${e}&language=en-US&page=1`,{mode:"cors"}),o=await a.json();if(0===o.results.length)return!1;let r=1;return o.results.forEach((t=>{n.push({author:t.author,rating:t.author_details.rating,pic_path:t.author_details.avatar_path,content:t.content,url:t.url,last_updated:t.updated_at}),r++})),n.slice(0,5)}catch(t){alert(t)}}const c=async(t,e)=>{const c=document.createElement("section"),s=await p(t,n),l=(await p(t,a),await p(t,o));function d(t){c.appendChild(t)}function u(t,e){const n=document.createElement(t);return n.classList.add(e),n}async function p(t,n,a){return"movie"===e?await n(t):""}console.log(l),await p(t,r),await p(t,i);const m=t=>{const e=document.createElement("div");e.classList.add("intro"),e.appendChild(function(){const t=document.createElement("h1");return t.textContent=s.mName,t.classList.add("title"),t}()),s.tagline&&e.appendChild(function(){const t=document.createElement("p");return t.textContent=s.tagline,t.classList.add("tagline"),t}());const n=function(t=""){const e=document.createElement("img"),n="https://image.tmdb.org/t/p";let a;if(e.classList.add("poster"),s.poster_path)a=s.poster_path;else{if(!s.backdrop_path)return;a=s.backdrop_path}return e.src=t?`${n}/w${t}/${a}`:`${n}/original/${a}`,e.alt="Movie picture poster",e.setAttribute("loading","lazy"),e}(t);return n&&e.appendChild(n),e.appendChild(function(){const t=document.createElement("p");return t.textContent=s.summary,t.classList.add("summary"),t}()),e};return{section:c,addToSection:d,drawAll:function(){d(m())},drawIntro:m,drawSubInfos:()=>{const t=document.createElement("div");function e(t,e){const n=document.createElement("div"),a=document.createElement("span"),o=document.createElement("span");return n.classList.add("sub-info"),a.classList.add("category-name"),o.classList.add("category-info"),a.textContent=t,o.textContent=e,[a,o].forEach((t=>n.appendChild(t))),n}return t.classList.add("subinfo-container"),[e("Genres:",s.genres.join(", ")),e("Runtime:",function(t){const e=t/60,n=Math.floor(e),a=60*(e-n);return`${n}h ${Math.round(a)}min`}(s.runtime)),e("Vote Average:",s.vote_average),e("Vote Count:",s.vote_count),e("Popularity:",s.popularity)].forEach((e=>t.appendChild(e))),t},drawProviders:()=>{let t;const e=u("div","provider-container"),n=u("button","country-btn"),a=u("div","house-provider-container");if([n,a].forEach((t=>{e.appendChild(t)})),Object.keys(l).length)if(t=!0,Object.keys(l).includes("Australia"))o("Australia"),n.textContent="Australia";else{const t=Object.keys(l)[0];o(t),n.textContent=`${t}`}else t=!1,n.textContent="No countries offer this tv/movie at the moment.";return n.addEventListener("click",(e=>{e.preventDefault(),t&&(function(t){const e=Object.keys(l);let n,a={};e.forEach((e=>{a[e]=l[e].countryCode,t===e&&(n=l[e].countryCode)}));const o=u("form","modal-country-container"),r=u("div","modal-header"),i=u("div","modal-body"),c=u("div","modal-current-country"),s=u("input","modal-input-search"),d=u("ul","modal-list-countries"),p=u("button","modal-close-btn");function m(t,e){const n=u("img","country-flag");return n.setAttribute("crossorigin","anonymous"),n.src=`https://countryflagsapi.com/png/${t}`,n.alt=`${e} flag`,n}function h(){let t,e,n,a,o,r,i;for(t=document.getElementById("modal-input-search"),e=t.value.toUpperCase(),n=document.getElementById("countries-list"),a=n.getElementsByTagName("li"),r=0;r<a.length;r++)o=a[r].getElementsByTagName("a")[0],i=o.textContent||o.innerText,i.toUpperCase().indexOf(e)>-1?a[r].style.display="":a[r].style.display="none"}(()=>{const e=document.createElement("h2");e.textContent="Countries";const a=document.createElement("h3"),o=document.createElement("label"),i={id:"modal-input-search",type:"search",placeholder:"ðŸ” Search for countries...",title:"Type in a country name",role:"search"};for(let t in i)s.setAttribute(t,i[t]);s.addEventListener("keyup",h),s.addEventListener("submit",(t=>{t.preventDefault()}));const l=m(n,t);a.textContent=t,c.appendChild(l),c.appendChild(a),o.htmlFor=`${s.id}`,[e,c,o,s].forEach((t=>{r.appendChild(t)}))})(),(()=>{d.id="countries-list";for(let t in a){let e=a[t];const n=u("li","country-container"),o=m(e,t),r=u("a","country-name");r.textContent=t,r.setAttribute("href","#"),[o,r].forEach((t=>{n.appendChild(t)})),d.appendChild(n)}[d].forEach((t=>{i.appendChild(t)}))})(),(t=>{const e=u("i","fa");e.classList.add("fa-close"),p.appendChild(e),t()})((()=>{p.addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".modal-country-container").remove(),document.querySelector(".face-mask").style.display="none"}))})),[r,i,p].forEach((t=>o.appendChild(t))),document.querySelector("body").append(o),document.querySelector(".face-mask").style.display="block"}(n.textContent),function(t){let e,n,a,o,r;for(e=document.getElementById("countries-list"),n=e.getElementsByTagName("li"),a=0;a<n.length;a++)if(o=n[a].getElementsByTagName("a")[0],r=o.textContent||o.innerText,r===t){n[a].style.backgroundColor="rgba(25, 150, 150, 0.5)",n[a].style.transform="scale(1.025)";const t=u("i","fa");t.classList.add("fa-check"),n[a].append(t)}}(n.textContent),document.querySelectorAll(".country-container").forEach((t=>t.addEventListener("click",(e=>{if(e.preventDefault(),t.lastChild.textContent){const e=t.lastChild.textContent;a.innerHTML="",o(e)}document.querySelector(".modal-country-container").remove(),document.querySelector(".face-mask").style.display="none"})))))})),e;function o(t="Australia"){n.textContent=t;const e=l[t].stream,o=l[t].buy,r=l[t].rent,i=["Stream at:","Purchase at:","Rent at:"];let c=0;[e,o,r].forEach((t=>{const e=u("div","service-container"),n=u("div","service-name"),o=u("h2","service-name-bold"),r=u("div","provider-service-container");t.forEach((t=>{const e=u("div","provider-service"),n=u("img","provider-img"),a=u("span","provider-name");t.provider_logo_path&&(n.src=`https://image.tmdb.org/t/p/original/${t.provider_logo_path}`,n.alt=`${t.provider_name} picture.`,n.setAttribute("loading","lazy"),a.textContent=t.provider_name),[n,a].forEach((t=>{e.appendChild(t)})),r.appendChild(e)})),t.length&&(o.textContent=`${i[c]}`,n.appendChild(o)),c++,e.appendChild(n),e.appendChild(r),a.appendChild(e)}))}}}};async function s(e){const n=await async function(e){const n=function(t){return t.split(" ").join("+")}(e);try{const a=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${t}&language=en-US&query=${n}&page=1`,{mode:"cors"}),o=await a.json();let r={},i=o.results.sort(((t,e)=>t.popularity<e.popularity?1:t.popularity>e.popularity?-1:0));if(i.length){for(let t=0;t<i.length;t++)r[i[t].id]=i[t].media_type;return r}return void alert(`No results found for ${e}`)}catch(t){alert(t)}}(e),a=document.querySelector(".main-container");let o=[];for(let t in n)"movie"===n[t]&&o.push([t,n[t]]);async function r(t,e){const n=await c(t,e);return n.addToSection(n.drawIntro("300")),n.addToSection(n.drawSubInfos()),n.addToSection(n.drawProviders()),a.appendChild(n.section),r}o.forEach((async t=>await r(t[0],t[1])))}console.log("Hello World"),async function(){document.querySelector(".search-query").addEventListener("click",(async t=>{t.preventDefault();const e=document.getElementById("input-search").value.split(" ").join("+");e?(document.querySelector(".main-container").innerHTML="",await s(e),document.querySelector(".search-query").value=""):alert("Please enter a valid movie/tv show")}))}(),s("iron man")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bUJBQy9CWSxVQUFZLFNFbkJWYyxFQUFhRSxHQUVuQjdJLFNBQVNpSCxjQUFjLGlCQUFpQnhCLE1BQVEsSUFOL0NqSixNQUFNLHFDQU0yQyxHQUVwRCxDRFFBaU4sR0FDQWQsRUFBYSxXIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL2FwaUZ1bmN0aW9ucy9mZXRjaElkLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9hcGlGdW5jdGlvbnMvZmV0Y2hNb3ZpZUluZm8uanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL0RPTUZ1bmN0aW9ucy9kcmF3U2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvRE9NRnVuY3Rpb25zL2RyYXdTZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL1VJL3N1Ym1pdFNlYXJjaC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBBUElfS0VZID0gXCI3MjBkMjE1MGNmMDliZmE2MWUyOGE1MDQyY2Q3NDY4ZlwiO1xuLypcbkZldGNoZXMgdGhlIHRoZSBmaXJzdCBwYWdlIG9mIHRoZSBtb3ZpZS9zaG93IGlkcyBhbmQgcmV0dXJuIGl0IGluIGFuIGFycmF5LlxuKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoSWRzKG5hbWUpIHtcblx0Y29uc3QgcXVlcnkgPSBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpO1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9zZWFyY2gvbXVsdGk/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJnF1ZXJ5PSR7cXVlcnl9JnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0bGV0IGlkcyA9IHt9O1xuXHRcdC8vIGxldCByZXN1bHQgPSBkYXRhLnJlc3VsdHM7XG5cdFx0bGV0IHJlc3VsdCA9IGRhdGEucmVzdWx0cy5zb3J0KChwMSwgcDIpID0+XG5cdFx0XHRwMS5wb3B1bGFyaXR5IDwgcDIucG9wdWxhcml0eSA/IDEgOiBwMS5wb3B1bGFyaXR5ID4gcDIucG9wdWxhcml0eSA/IC0xIDogMFxuXHRcdCk7IC8vIFNvcnQgYnkgcG9wdWxhcml0eS5cblxuXHRcdGlmIChyZXN1bHQubGVuZ3RoKSB7XG5cdFx0XHQvLyBpZiAocmVzdWx0Lmxlbmd0aCA+IDQpIHtcblx0XHRcdC8vIFx0Zm9yIChsZXQgaSA9IDA7IGkgPCA1OyBpKyspIHtcblx0XHRcdC8vIFx0XHRpZHNbcmVzdWx0W2ldLmlkXSA9IHJlc3VsdFtpXS5tZWRpYV90eXBlO1xuXHRcdFx0Ly8gXHR9XG5cdFx0XHQvLyB9IGVsc2Uge1xuXHRcdFx0Ly8gXHRmb3IgKGxldCBpID0gMDsgaSA8IHJlc3VsdC5sZW5ndGg7IGkrKykge1xuXHRcdFx0Ly8gXHRcdGlkc1tyZXN1bHRbaV0uaWRdID0gcmVzdWx0W2ldLm1lZGlhX3R5cGU7XG5cdFx0XHQvLyBcdH1cblx0XHRcdC8vIH1cblx0XHRcdGZvciAobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlkc1tyZXN1bHRbaV0uaWRdID0gcmVzdWx0W2ldLm1lZGlhX3R5cGU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gaWRzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhbGVydChgTm8gcmVzdWx0cyBmb3VuZCBmb3IgJHtuYW1lfWApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG5mdW5jdGlvbiBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIrXCIpO1xufVxuXG5leHBvcnQgeyBmZXRjaElkcyB9O1xuIiwiY29uc3QgQVBJX0tFWSA9IFwiNzIwZDIxNTBjZjA5YmZhNjFlMjhhNTA0MmNkNzQ2OGZcIjtcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZURldGFpbHMobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGNvbnN0IGdlbnJlcyA9IGRhdGEuZ2VucmVzLnJlZHVjZSgoYWNjLCB2YWwpID0+IFsuLi5hY2MsIHZhbC5uYW1lXSwgW10pO1xuXG5cdFx0Y29uc3QgZ2VuZXJhbEluZm8gPSB7XG5cdFx0XHRtTmFtZTogZGF0YS5vcmlnaW5hbF90aXRsZSxcblx0XHRcdHN1bW1hcnk6IGRhdGEub3ZlcnZpZXcsXG5cdFx0XHR0YWdsaW5lOiBkYXRhLnRhZ2xpbmUsXG5cdFx0XHRwb3B1bGFyaXR5OiBkYXRhLnBvcHVsYXJpdHksXG5cdFx0XHR2b3RlX2F2ZXJhZ2U6IGRhdGEudm90ZV9hdmVyYWdlLFxuXHRcdFx0dm90ZV9jb3VudDogZGF0YS52b3RlX2NvdW50LFxuXHRcdFx0Z2VucmVzOiBnZW5yZXMsXG5cdFx0XHR2aWRlbzogZGF0YS52aWRlbyxcblx0XHRcdHJ1bnRpbWU6IGRhdGEucnVudGltZSxcblx0XHRcdHBvc3Rlcl9wYXRoOiBkYXRhLnBvc3Rlcl9wYXRoLFxuXHRcdFx0YmFja2Ryb3BfcGF0aDogZGF0YS5iYWNrZHJvcF9wYXRoLFxuXHRcdH07XG5cdFx0cmV0dXJuIGdlbmVyYWxJbmZvO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRhbGVydChlcnIpO1xuXHR9XG59XG5cbi8qXG5SZXR1cm5zIGFuIGFycmF5IG9mIHJlY29tbWVuZGVkIG1vdmllcyB3aXRoIHRoZWlyIG5hbWUsIGlkLCBwb3N0ZXJfcGF0aCBhbmRcbmJhY2tkcm9wX3BhdGggcmVjb3JkZWQuIFxuSWYgbm8gbW92aWVzIGFyZSByZWNvbW1lbmRlZCwgcmV0dXJuIG51bGw7XG4qL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVJlY2Nvcyhtb3ZpZV9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS9yZWNvbW1lbmRhdGlvbnM/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRjb25zdCByZWNNb3ZpZXMgPSB7fTtcblx0XHRpZiAoZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRsZXQgY291bnQgPSAxO1xuXHRcdFx0Zm9yIChsZXQgbW92aWUgb2YgZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRcdHJlY01vdmllc1ttb3ZpZS5vcmlnaW5hbF90aXRsZV0gPSB7XG5cdFx0XHRcdFx0bU5hbWU6IG1vdmllLm9yaWdpbmFsX3RpdGxlLFxuXHRcdFx0XHRcdGlkOiBtb3ZpZS5pZCxcblx0XHRcdFx0XHRwb3N0ZXJfcGF0aDogbW92aWUucG9zdGVyX3BhdGgsXG5cdFx0XHRcdFx0YmFja2Ryb3BfcGF0aDogbW92aWUuYmFja2Ryb3BfcGF0aCxcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGNvdW50ID09PSA1KSB7XG5cdFx0XHRcdFx0Ly8gTWF4IDUgbW92aWVzIHRvIGJlIHJlY29tbWVuZGVkXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y291bnQrKztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHJlY01vdmllcztcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG4vKlxuUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBjb3VudHJpZXMgYW5kIHRoZSBhdmFpbGFibGUgc3RyZWFtaW5nIHNlcnZpY2VzLCBidXlcbm9yIHJlbnQgaXQgY29tZXMgd2l0aCBFQUNIIGluZGl2aWR1YWwgY291bnRyeS5cbiovXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllUHJvdmlkZXJzKG1vdmllX2lkKSB7XG5cdGNvbnN0IHByb3ZpZGVyc0J5Q291bnRyeSA9IHt9O1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS93YXRjaC9wcm92aWRlcnM/YXBpX2tleT0ke0FQSV9LRVl9YCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGZvciAoY29uc3QgY291bnRyeUNvZGUgaW4gZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRjb25zdCBjb3VudHJ5ID0gZ2V0Q291bnRyeU5hbWUoY291bnRyeUNvZGUpO1xuXHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldID0ge1xuXHRcdFx0XHRzdHJlYW06IFtdLFxuXHRcdFx0XHRyZW50OiBbXSxcblx0XHRcdFx0YnV5OiBbXSxcblx0XHRcdFx0Y291bnRyeUNvZGU6IGNvdW50cnlDb2RlLFxuXHRcdFx0fTtcblxuXHRcdFx0Lypcblx0XHRcdFNvcnRzIHByb3ZpZGVycyBiYXNlZCBvbiBjb3VudHJ5IGFuZCBzZXJ2aWNlcyB0aGV5IHByb3ZpZGUuXG5cblx0XHRcdFRha2VzIGluIHR5cGUgb2Ygc2VydmljZXMgYXMgcGFyYW0gPT4gW1wiZmxhdHJhdGUgKHN0cmVhbWluZylcIiwgXG5cdFx0XHRcInJlbnRcIiwgXCJidXlcIl0gYW5kIGFuIGFycmF5IHRvIGFwcGVuZCBpdCB0by5cblx0XHRcdCovXG5cdFx0XHRjb25zdCBzb3J0UHJvdmlkZXJzID0gKHNlcnZpY2VzLCBjb2xsZWN0aW9uKSA9PiB7XG5cdFx0XHRcdGlmIChzZXJ2aWNlcykge1xuXHRcdFx0XHRcdHNlcnZpY2VzLmZvckVhY2goKHNlcnZpY2UpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVySW5mbyA9IHtcblx0XHRcdFx0XHRcdFx0cHJvdmlkZXJfbmFtZTogc2VydmljZS5wcm92aWRlcl9uYW1lLFxuXHRcdFx0XHRcdFx0XHRwcm92aWRlcl9sb2dvX3BhdGg6IHNlcnZpY2UubG9nb19wYXRoLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGNvbGxlY3Rpb24ucHVzaChwcm92aWRlckluZm8pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBBZGQgc3RyZWFtaW5nIHNlcnZpY2VzIGZvciBzcGVjaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5mbGF0cmF0ZSxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLnN0cmVhbVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gQWRkIHJlbnRpbmcgc2VydmljZXMgZm9yIHNwZWljaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5yZW50LFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0ucmVudFxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gQWRkIGJ1eWluZyBzZXJ2aWNlcyBmb3Igc3BlY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0uYnV5LFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0uYnV5XG5cdFx0XHQpO1xuXHRcdH1cblx0XHRyZXR1cm4gcHJvdmlkZXJzQnlDb3VudHJ5O1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRhbGVydChlcnIpO1xuXHR9XG59XG5cbi8vIEZpbmQgbW92aWUgdHJhaWxlciBhbmQgcmV0dXJuIGZhbHNlIGlmIG5vbmUgY2FuIGJlIGZvdW5kLlxuLy8gT2ZmaWNpYWwgdHJhaWxlciB3aWxsIGJlIHByaW9yaXRpc2VkLlxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVRyYWlsZXIobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRsZXQgbW92aWVUcmFpbGVyO1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS92aWRlb3M/YXBpX2tleT0ke0FQSV9LRVl9YCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGNvbnN0IHRyYWlsZXJzID0gZGF0YS5yZXN1bHRzLmZpbHRlcigodmlkZW8pID0+IHZpZGVvLnR5cGUgPT09IFwiVHJhaWxlclwiKTtcblxuXHRcdGlmICh0cmFpbGVycy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblx0XHQvLyBGaW5kIG9mZmljaWFsIHRyYWlsZXIuXG5cdFx0Y29uc3Qgb2ZmaWNpYWwgPSB0cmFpbGVycy5maWx0ZXIoKHZpZGVvKSA9PiB7XG5cdFx0XHR2aWRlby5vZmZpY2lhbCA9PT0gdHJ1ZTtcblx0XHR9KTtcblxuXHRcdG9mZmljaWFsLmxlbmd0aCAhPT0gMFxuXHRcdFx0PyAobW92aWVUcmFpbGVyID0gb2ZmaWNpYWxbMF0pXG5cdFx0XHQ6IChtb3ZpZVRyYWlsZXIgPSB0cmFpbGVyc1swXSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0bU5hbWU6IG1vdmllVHJhaWxlci5uYW1lLFxuXHRcdFx0a2V5OiBtb3ZpZVRyYWlsZXIua2V5LFxuXHRcdFx0c2l0ZTogbW92aWVUcmFpbGVyLnNpdGUsXG5cdFx0XHR0eXBlOiBtb3ZpZVRyYWlsZXIudHlwZSxcblx0XHRcdGxhbmc6IGdldExhbmd1YWdlKG1vdmllVHJhaWxlci5pc29fNjM5XzEpLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdGFsZXJ0KGVycik7XG5cdH1cbn1cblxuLy8gUmV0dXJucyBhbiBhcnIgb2YgYSBtYXhpbXVtIG9mIDUgcmV2aWV3cyBiYXNlZCBvbiB0aGUgbW92aWUgZnJvbSByYW5kb20gc291cmNlcy5cbi8vIElmIG5vIHJldmlld3MgYXJlIGZvdW5kLCB0aGlzIGZuYyByZXR1cm5zIGZhbHNlLlxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVJldmlld3MobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRsZXQgcmV2aWV3cyA9IFtdO1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS9yZXZpZXdzP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZwYWdlPTFgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdGlmIChkYXRhLnJlc3VsdHMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cblx0XHRsZXQgY291bnQgPSAxO1xuXHRcdGRhdGEucmVzdWx0cy5mb3JFYWNoKChyZXZpZXcpID0+IHtcblx0XHRcdHJldmlld3MucHVzaCh7XG5cdFx0XHRcdGF1dGhvcjogcmV2aWV3LmF1dGhvcixcblx0XHRcdFx0cmF0aW5nOiByZXZpZXcuYXV0aG9yX2RldGFpbHMucmF0aW5nLFxuXHRcdFx0XHRwaWNfcGF0aDogcmV2aWV3LmF1dGhvcl9kZXRhaWxzLmF2YXRhcl9wYXRoLFxuXHRcdFx0XHRjb250ZW50OiByZXZpZXcuY29udGVudCxcblx0XHRcdFx0dXJsOiByZXZpZXcudXJsLFxuXHRcdFx0XHRsYXN0X3VwZGF0ZWQ6IHJldmlldy51cGRhdGVkX2F0LFxuXHRcdFx0fSk7XG5cdFx0XHRjb3VudCsrO1xuXHRcdH0pO1xuXHRcdHJldHVybiByZXZpZXdzLnNsaWNlKDAsIDUpO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRhbGVydChlcnIpO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGdldENvdW50cnlOYW1lKGNvZGUpIHtcblx0bGV0IHJlZ2lvbk5hbWVzID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwicmVnaW9uXCIgfSk7XG5cdHJldHVybiByZWdpb25OYW1lcy5vZihjb2RlKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFuZ3VhZ2UoY29kZSkge1xuXHRjb25zdCBsYW5nID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwibGFuZ3VhZ2VcIiB9KTtcblx0cmV0dXJuIGxhbmcub2YoY29kZSk7XG59XG5leHBvcnQge1xuXHRmZXRjaE1vdmllRGV0YWlscyxcblx0ZmV0Y2hNb3ZpZVJlY2Nvcyxcblx0ZmV0Y2hNb3ZpZVByb3ZpZGVycyxcblx0ZmV0Y2hNb3ZpZVRyYWlsZXIsXG5cdGZldGNoTW92aWVSZXZpZXdzLFxuXHRnZXRDb3VudHJ5TmFtZSxcbn07XG4iLCJpbXBvcnQgKiBhcyBtb3ZpZSBmcm9tIFwiLi4vYXBpRnVuY3Rpb25zL2ZldGNoTW92aWVJbmZvXCI7XG5cbi8qXG5EcmF3IGFuIGluZGl2aWR1YWwgc2VjdGlvbiBiYXNlZCBvbiB1c2VyIGlucHV0IHF1ZXJ5LlxuVGhpcyBzZWN0aW9uIHdpbGwgY29uc3RzIG9mIHRoZSBvdmVyYWxsIG1vdmllL3R2J3MgXG4gICAgLSBEZXRhaWxzLFxuICAgIC0gVGhlIHdhdGNoIHByb3ZpZGVycyBiYXNlZCBvbiBzcGVjaWZpYyBjb3VudHJpZXNcbiAgICAtIEF2YWlsYWJsZSB0cmFpbGVycyxcbiAgICAtIE90aGVyIHJlY29tbWVuZGF0aW9ucy5cbiAgICAtIFJldmlld3MgYnkgZXN0YWJsaXNoZWQgYXV0aG9ycyBiYXNlZCBmcm9tIHJhbmRvbSBzb3VyY2VzLlxuKi9cblxuY29uc3QgZHJhd1NlY3Rpb24gPSBhc3luYyAoaWQsIG1lZGlhKSA9PiB7XG5cdGNvbnN0IHNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiKTtcblx0Y29uc3QgZGV0YWlscyA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVEZXRhaWxzLCBcIlwiKTtcblx0Y29uc3QgcmVjcyA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVSZWNjb3MsIFwiXCIpO1xuXHRjb25zdCBwcm92aWRlcnMgPSBhd2FpdCBnZXRJbmZvKGlkLCBtb3ZpZS5mZXRjaE1vdmllUHJvdmlkZXJzLCBcIlwiKTtcblx0Y29uc29sZS5sb2cocHJvdmlkZXJzKTtcblx0Y29uc3QgdHJhaWxlciA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVUcmFpbGVyLCBcIlwiKTtcblx0Y29uc3QgcmV2aWV3cyA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVSZXZpZXdzLCBcIlwiKTtcblxuXHRmdW5jdGlvbiBkcmF3QWxsKCkge1xuXHRcdGFkZFRvU2VjdGlvbihkcmF3SW50cm8oKSk7XG5cdH1cblxuXHRmdW5jdGlvbiBhZGRUb1NlY3Rpb24ocGFydCkge1xuXHRcdHNlY3Rpb24uYXBwZW5kQ2hpbGQocGFydCk7XG5cdH1cblxuXHRmdW5jdGlvbiByZW5kZXJFbGVtZW50KHRhZywgY2xhc3NOYW1lKSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXHRcdGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcblx0fVxuXG5cdGFzeW5jIGZ1bmN0aW9uIGdldEluZm8oaWQsIG1vdmllRm5jLCB0dkZuYykge1xuXHRcdHJldHVybiBtZWRpYSA9PT0gXCJtb3ZpZVwiID8gYXdhaXQgbW92aWVGbmMoaWQpIDogXCJcIjtcblx0fVxuXG5cdC8vIERyYXcgKGlmIGFueSkgdGl0bGUsIHBob3RvLCB0YWdsaW5lLCBhbmQgc3VtbWFyeS5cblx0Y29uc3QgZHJhd0ludHJvID0gKGltZ1NpemUpID0+IHtcblx0XHRjb25zdCBpbnRyb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0aW50cm9Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImludHJvXCIpO1xuXG5cdFx0aW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlVGl0bGUoKSk7XG5cdFx0ZGV0YWlscy50YWdsaW5lID8gaW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQod3JpdGVUYWdsaW5lKCkpIDogXCJcIjtcblxuXHRcdGNvbnN0IGltZyA9IHJlbmRlckltZyhpbWdTaXplKTtcblx0XHRpbWcgPyBpbnRyb0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbWcpIDogXCJcIjtcblxuXHRcdGludHJvQ29udGFpbmVyLmFwcGVuZENoaWxkKHdyaXRlU3VtbWFyeSgpKTtcblxuXHRcdGZ1bmN0aW9uIGNyZWF0ZVRpdGxlKCkge1xuXHRcdFx0Y29uc3QgdGl0bGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDFcIik7XG5cdFx0XHR0aXRsZS50ZXh0Q29udGVudCA9IGRldGFpbHMubU5hbWU7XG5cdFx0XHR0aXRsZS5jbGFzc0xpc3QuYWRkKFwidGl0bGVcIik7XG5cdFx0XHRyZXR1cm4gdGl0bGU7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gcmVuZGVySW1nKGltZ1NpemUgPSBcIlwiKSB7XG5cdFx0XHRjb25zdCBwb3N0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuXHRcdFx0Y29uc3QgYmFzZUltZ1VybCA9IFwiaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3BcIjtcblx0XHRcdGxldCBpbWdfcGF0aDtcblx0XHRcdHBvc3Rlci5jbGFzc0xpc3QuYWRkKFwicG9zdGVyXCIpO1xuXG5cdFx0XHRpZiAoZGV0YWlscy5wb3N0ZXJfcGF0aCkge1xuXHRcdFx0XHRpbWdfcGF0aCA9IGRldGFpbHMucG9zdGVyX3BhdGg7XG5cdFx0XHR9IGVsc2UgaWYgKGRldGFpbHMuYmFja2Ryb3BfcGF0aCkge1xuXHRcdFx0XHRpbWdfcGF0aCA9IGRldGFpbHMuYmFja2Ryb3BfcGF0aDtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHRcdCFpbWdTaXplXG5cdFx0XHRcdD8gKHBvc3Rlci5zcmMgPSBgJHtiYXNlSW1nVXJsfS9vcmlnaW5hbC8ke2ltZ19wYXRofWApXG5cdFx0XHRcdDogKHBvc3Rlci5zcmMgPSBgJHtiYXNlSW1nVXJsfS93JHtpbWdTaXplfS8ke2ltZ19wYXRofWApO1xuXHRcdFx0cG9zdGVyLmFsdCA9IFwiTW92aWUgcGljdHVyZSBwb3N0ZXJcIjtcblx0XHRcdHBvc3Rlci5zZXRBdHRyaWJ1dGUoXCJsb2FkaW5nXCIsIFwibGF6eVwiKTtcblx0XHRcdHJldHVybiBwb3N0ZXI7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gd3JpdGVUYWdsaW5lKCkge1xuXHRcdFx0Y29uc3QgdGFnUGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuXHRcdFx0dGFnUGFyYS50ZXh0Q29udGVudCA9IGRldGFpbHMudGFnbGluZTtcblx0XHRcdHRhZ1BhcmEuY2xhc3NMaXN0LmFkZChcInRhZ2xpbmVcIik7XG5cdFx0XHRyZXR1cm4gdGFnUGFyYTtcblx0XHR9XG5cblx0XHRmdW5jdGlvbiB3cml0ZVN1bW1hcnkoKSB7XG5cdFx0XHRjb25zdCBwYXJhID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XG5cdFx0XHRwYXJhLnRleHRDb250ZW50ID0gZGV0YWlscy5zdW1tYXJ5O1xuXHRcdFx0cGFyYS5jbGFzc0xpc3QuYWRkKFwic3VtbWFyeVwiKTtcblx0XHRcdHJldHVybiBwYXJhO1xuXHRcdH1cblx0XHRyZXR1cm4gaW50cm9Db250YWluZXI7XG5cdH07XG5cblx0Y29uc3QgZHJhd1N1YkluZm9zID0gKCkgPT4ge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0Y29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJzdWJpbmZvLWNvbnRhaW5lclwiKTtcblxuXHRcdGNvbnN0IGluZm9ybWF0aW9uID0gW1xuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIkdlbnJlczpcIiwgZGV0YWlscy5nZW5yZXMuam9pbihcIiwgXCIpKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJSdW50aW1lOlwiLCBjb252ZXJ0TWluVG9IcihkZXRhaWxzLnJ1bnRpbWUpKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJWb3RlIEF2ZXJhZ2U6XCIsIGRldGFpbHMudm90ZV9hdmVyYWdlKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJWb3RlIENvdW50OlwiLCBkZXRhaWxzLnZvdGVfY291bnQpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIlBvcHVsYXJpdHk6XCIsIGRldGFpbHMucG9wdWxhcml0eSksXG5cdFx0XTtcblxuXHRcdGluZm9ybWF0aW9uLmZvckVhY2goKGluZm8pID0+IGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvKSk7XG5cblx0XHRmdW5jdGlvbiBjcmVhdGVTdWJJbmZvKGNhdGVnb3J5LCBpbmZvKSB7XG5cdFx0XHRjb25zdCBzdWJJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRcdGNvbnN0IGNhdGVnb3J5TmFtZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuXHRcdFx0Y29uc3QgY2F0ZWdvcnlJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNwYW5cIik7XG5cblx0XHRcdHN1YkluZm8uY2xhc3NMaXN0LmFkZChcInN1Yi1pbmZvXCIpO1xuXHRcdFx0Y2F0ZWdvcnlOYW1lLmNsYXNzTGlzdC5hZGQoXCJjYXRlZ29yeS1uYW1lXCIpO1xuXHRcdFx0Y2F0ZWdvcnlJbmZvLmNsYXNzTGlzdC5hZGQoXCJjYXRlZ29yeS1pbmZvXCIpO1xuXG5cdFx0XHRjYXRlZ29yeU5hbWUudGV4dENvbnRlbnQgPSBjYXRlZ29yeTtcblx0XHRcdGNhdGVnb3J5SW5mby50ZXh0Q29udGVudCA9IGluZm87XG5cblx0XHRcdFtjYXRlZ29yeU5hbWUsIGNhdGVnb3J5SW5mb10uZm9yRWFjaCgoaW5mbykgPT4gc3ViSW5mby5hcHBlbmRDaGlsZChpbmZvKSk7XG5cdFx0XHRyZXR1cm4gc3ViSW5mbztcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjb252ZXJ0TWluVG9IcihtaW5zKSB7XG5cdFx0XHRjb25zdCBob3VycyA9IG1pbnMgLyA2MDtcblx0XHRcdGNvbnN0IHJIb3VycyA9IE1hdGguZmxvb3IoaG91cnMpO1xuXHRcdFx0Y29uc3QgbWludXRlcyA9IChob3VycyAtIHJIb3VycykgKiA2MDtcblx0XHRcdGNvbnN0IHJNaW51dGVzID0gTWF0aC5yb3VuZChtaW51dGVzKTtcblx0XHRcdHJldHVybiBgJHtySG91cnN9aCAke3JNaW51dGVzfW1pbmA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcblx0fTtcblxuXHRjb25zdCBkcmF3UHJvdmlkZXJzID0gKCkgPT4ge1xuXHRcdGxldCBhdmFpbFByb3ZpZGVyczsgLy8gQm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVyZSBhcmUgYW55IHdhdGNoXG5cdFx0Ly8gcHJvdmlkZXJzIGZvciB0aGlzIHNob3cuXG5cblx0XHQvLyBIb3VzZXMgdGhlIGJ0biB0aGF0IG9wZW5zIHRoZSBtb2RhbCBhbmQgb3ZlcmxheSwgYW5kIHRoZSBhdmFpbGFibGUgcHJvdmlkZXJzIGZvciAnc3RyZWFtaW5nJywgJ3JlbnQnIGFuZCAncHVyY2hhc2UnLlxuXHRcdGNvbnN0IHByb3ZpZGVyQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInByb3ZpZGVyLWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCBjb3VudHJ5QnRuID0gcmVuZGVyRWxlbWVudChcImJ1dHRvblwiLCBcImNvdW50cnktYnRuXCIpO1xuXHRcdGNvbnN0IGhvdXNlQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcImhvdXNlLXByb3ZpZGVyLWNvbnRhaW5lclwiKTtcblx0XHRbY291bnRyeUJ0biwgaG91c2VDb250YWluZXJdLmZvckVhY2goKGVsZW0pID0+IHtcblx0XHRcdHByb3ZpZGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU2VhcmNoIGZvciBkZWZhdWx0IGNvdW50cnkgXCJBdXN0cmFsaWFcIi4gSWYgbm9uZSBmb3VuZC4gRHJhdyB0aGUgZmlyc3QgY291bnRyeSdzIHByb3ZpZGVyLlxuXHRcdGlmIChPYmplY3Qua2V5cyhwcm92aWRlcnMpLmxlbmd0aCkge1xuXHRcdFx0YXZhaWxQcm92aWRlcnMgPSB0cnVlO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKHByb3ZpZGVycykuaW5jbHVkZXMoXCJBdXN0cmFsaWFcIikpIHtcblx0XHRcdFx0ZHJhd1Byb3ZpZGVyKFwiQXVzdHJhbGlhXCIpO1xuXHRcdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID0gXCJBdXN0cmFsaWFcIjtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdGNvbnN0IGZpcnN0UHJvdmlkZXIgPSBPYmplY3Qua2V5cyhwcm92aWRlcnMpWzBdO1xuXHRcdFx0XHRkcmF3UHJvdmlkZXIoZmlyc3RQcm92aWRlcik7XG5cdFx0XHRcdGNvdW50cnlCdG4udGV4dENvbnRlbnQgPSBgJHtmaXJzdFByb3ZpZGVyfWA7XG5cdFx0XHR9XG5cdFx0fSBlbHNlIHtcblx0XHRcdGF2YWlsUHJvdmlkZXJzID0gZmFsc2U7XG5cdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID1cblx0XHRcdFx0XCJObyBjb3VudHJpZXMgb2ZmZXIgdGhpcyB0di9tb3ZpZSBhdCB0aGUgbW9tZW50LlwiO1xuXHRcdH1cblxuXHRcdC8vIGF2YWlsUHJvdmlkZXJzID8gcmVuZGVyQ291bnRyaWVzTW9kYWwoY291bnRyeUJ0bi50ZXh0Q29udGVudCkgOiBcIlwiOyAvLyB0ZW1wXG5cdFx0Ly8gQWRkIGJ0biBldmVudCBjbGljayBsaXN0ZW5lciB0byBvcGVuIG1vZGFsXG5cdFx0Y291bnRyeUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGlmIChhdmFpbFByb3ZpZGVycykge1xuXHRcdFx0XHRyZW5kZXJDb3VudHJpZXNNb2RhbChjb3VudHJ5QnRuLnRleHRDb250ZW50KTtcblx0XHRcdFx0aGlnaGxpZ2h0Q3VyckNvdW50cnkoY291bnRyeUJ0bi50ZXh0Q29udGVudCk7XG5cdFx0XHRcdC8vIGFkZCBjb3VudHJ5IGV2ZW50IGhlcmVcblx0XHRcdFx0YXBwbHlDaG9vc2VDb3VudHJ5Rm5jcygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXHRcdGZ1bmN0aW9uIGFwcGx5Q2hvb3NlQ291bnRyeUZuY3MoKSB7XG5cdFx0XHRjb25zdCBjb3VudHJpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcuY291bnRyeS1jb250YWluZXInKTtcblx0XHRcdGNvdW50cmllcy5mb3JFYWNoKGNvdW50cnkgPT4gY291bnRyeS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRpZihjb3VudHJ5Lmxhc3RDaGlsZC50ZXh0Q29udGVudCkge1xuXHRcdFx0XHRcdGNvbnN0IHNlbGVjdGVkQ291bnRyeSA9IGNvdW50cnkubGFzdENoaWxkLnRleHRDb250ZW50O1xuXHRcdFx0XHRcdGNsZWFyUHJvdmlkZXIoKTtcblx0XHRcdFx0XHRkcmF3UHJvdmlkZXIoc2VsZWN0ZWRDb3VudHJ5KTtcblx0XHRcdFx0fSBcblx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLm1vZGFsLWNvdW50cnktY29udGFpbmVyJykucmVtb3ZlKCk7XG5cdFx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5mYWNlLW1hc2snKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHR9KSlcblx0XHR9XG5cblx0XHRyZXR1cm4gcHJvdmlkZXJDb250YWluZXI7XG5cblx0XHRmdW5jdGlvbiBkcmF3UHJvdmlkZXIoY291bnRyeU5hbWUgPSBcIkF1c3RyYWxpYVwiKSB7XG5cdFx0XHQvLyBDaGFuZ2UgdGV4dCBvZiBidG4gdG8gY291bnRyeU5hbWVcblx0XHRcdGNvdW50cnlCdG4udGV4dENvbnRlbnQgPSBjb3VudHJ5TmFtZTtcblxuXHRcdFx0Y29uc3Qgc3RyZWFtSW5mbyA9IHByb3ZpZGVyc1tjb3VudHJ5TmFtZV0uc3RyZWFtO1xuXHRcdFx0Y29uc3QgYnV5SW5mbyA9IHByb3ZpZGVyc1tjb3VudHJ5TmFtZV0uYnV5O1xuXHRcdFx0Y29uc3QgcmVudEluZm8gPSBwcm92aWRlcnNbY291bnRyeU5hbWVdLnJlbnQ7XG5cblx0XHRcdGNvbnN0IHNlcnZpY2VOYW1lcyA9IFtcIlN0cmVhbSBhdDpcIiwgXCJQdXJjaGFzZSBhdDpcIiwgXCJSZW50IGF0OlwiXTtcblx0XHRcdC8vIFRvIGFzc2lnbiBuYW1lcyBmb3IgZWFjaCBzZXZpY2UgcHJvdmlkZXJzLlxuXHRcdFx0Ly8gVGhpcyBpbmNyZW1lbnRzIGFzIHByb3ZpZGVycyBhcmUgbGlzdGVkIGZvciBlYWNoIHNlcnZpY2UuXG5cdFx0XHRsZXQgaWR4ID0gMDtcblxuXHRcdFx0W3N0cmVhbUluZm8sIGJ1eUluZm8sIHJlbnRJbmZvXS5mb3JFYWNoKChpbmZvKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHNlcnZpY2VDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwic2VydmljZS1jb250YWluZXJcIik7XG5cdFx0XHRcdGNvbnN0IHNlcnZpY2VOYW1lID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInNlcnZpY2UtbmFtZVwiKTtcblx0XHRcdFx0Y29uc3Qgc2VydmljZU5hbWVCb2xkID0gcmVuZGVyRWxlbWVudChcImgyXCIsIFwic2VydmljZS1uYW1lLWJvbGRcIik7XG5cdFx0XHRcdGNvbnN0IHByb3ZpZGVyU2VydmljZUNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXG5cdFx0XHRcdFx0XCJkaXZcIixcblx0XHRcdFx0XHRcInByb3ZpZGVyLXNlcnZpY2UtY29udGFpbmVyXCJcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpbmZvLmZvckVhY2goKHByb3ZpZGVyKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJTZXJ2aWNlID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInByb3ZpZGVyLXNlcnZpY2VcIik7XG5cdFx0XHRcdFx0Ly8gQWRkIGltZyBhbmQgbmFtZSBvZiBwcm92aWRlci5cblx0XHRcdFx0XHRjb25zdCBwcm92aWRlckltZyA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJwcm92aWRlci1pbWdcIik7XG5cdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJOYW1lID0gcmVuZGVyRWxlbWVudChcInNwYW5cIiwgXCJwcm92aWRlci1uYW1lXCIpO1xuXG5cdFx0XHRcdFx0aWYgKHByb3ZpZGVyLnByb3ZpZGVyX2xvZ29fcGF0aCkge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJJbWcuc3JjID0gYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL29yaWdpbmFsLyR7cHJvdmlkZXIucHJvdmlkZXJfbG9nb19wYXRofWA7XG5cdFx0XHRcdFx0XHRwcm92aWRlckltZy5hbHQgPSBgJHtwcm92aWRlci5wcm92aWRlcl9uYW1lfSBwaWN0dXJlLmA7XG5cdFx0XHRcdFx0XHRwcm92aWRlckltZy5zZXRBdHRyaWJ1dGUoXCJsb2FkaW5nXCIsIFwibGF6eVwiKTtcblx0XHRcdFx0XHRcdHByb3ZpZGVyTmFtZS50ZXh0Q29udGVudCA9IHByb3ZpZGVyLnByb3ZpZGVyX25hbWU7XG5cdFx0XHRcdFx0fVxuXG5cdFx0XHRcdFx0W3Byb3ZpZGVySW1nLCBwcm92aWRlck5hbWVdLmZvckVhY2goKGVsZW0pID0+IHtcblx0XHRcdFx0XHRcdHByb3ZpZGVyU2VydmljZS5hcHBlbmRDaGlsZChlbGVtKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0XHRwcm92aWRlclNlcnZpY2VDb250YWluZXIuYXBwZW5kQ2hpbGQocHJvdmlkZXJTZXJ2aWNlKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0aWYgKGluZm8ubGVuZ3RoKSB7XG5cdFx0XHRcdFx0c2VydmljZU5hbWVCb2xkLnRleHRDb250ZW50ID0gYCR7c2VydmljZU5hbWVzW2lkeF19YDtcblx0XHRcdFx0XHRzZXJ2aWNlTmFtZS5hcHBlbmRDaGlsZChzZXJ2aWNlTmFtZUJvbGQpO1xuXHRcdFx0XHR9XG5cdFx0XHRcdGlkeCsrO1xuXHRcdFx0XHRzZXJ2aWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlcnZpY2VOYW1lKTtcblx0XHRcdFx0c2VydmljZUNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm92aWRlclNlcnZpY2VDb250YWluZXIpO1xuXHRcdFx0XHRob3VzZUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZXJ2aWNlQ29udGFpbmVyKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRmdW5jdGlvbiBjbGVhclByb3ZpZGVyKCkge1xuXHRcdFx0aG91c2VDb250YWluZXIuaW5uZXJIVE1MID0gXCJcIjtcblx0XHR9XG5cdH07XG5cblx0ZnVuY3Rpb24gcmVuZGVyQ291bnRyaWVzTW9kYWwoY3VyckNvdW50cnlOYW1lKSB7XG5cdFx0Ly8gQ291bnRyeSBuYW1lc1xuXHRcdGNvbnN0IHByb3ZpZGVyQ291bnRyaWVzID0gT2JqZWN0LmtleXMocHJvdmlkZXJzKTtcblx0XHQvLyBTb3J0IGJ5IGNvdW50cnkgbmFtZSBhbmQgY29kZXMgaW50byBhbiBvYmouXG5cdFx0bGV0IGNvdW50cmllcyA9IHt9O1xuXHRcdGxldCBjdXJyQ291bnRyeUNvZGU7XG5cdFx0cHJvdmlkZXJDb3VudHJpZXMuZm9yRWFjaCgoY291bnRyeSkgPT4ge1xuXHRcdFx0Y291bnRyaWVzW2NvdW50cnldID0gcHJvdmlkZXJzW2NvdW50cnldLmNvdW50cnlDb2RlO1xuXG5cdFx0XHQvLyBGaW5kIGN1cnJlbnQgY291bnRyeSBjb2RlLlxuXHRcdFx0aWYgKGN1cnJDb3VudHJ5TmFtZSA9PT0gY291bnRyeSkge1xuXHRcdFx0XHRjdXJyQ291bnRyeUNvZGUgPSBwcm92aWRlcnNbY291bnRyeV0uY291bnRyeUNvZGU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHRjb25zdCBtb2RhbENvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJmb3JtXCIsIFwibW9kYWwtY291bnRyeS1jb250YWluZXJcIik7XG5cdFx0Y29uc3QgbW9kYWxIZWFkZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwibW9kYWwtaGVhZGVyXCIpO1xuXG5cdFx0Y29uc3QgbW9kYWxCb2R5ID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcIm1vZGFsLWJvZHlcIik7XG5cdFx0Y29uc3QgbW9kYWxDdXJyZW50Q291bnRyeSA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJtb2RhbC1jdXJyZW50LWNvdW50cnlcIik7XG5cdFx0Y29uc3QgbW9kYWxJbnB1dFNlYXJjaCA9IHJlbmRlckVsZW1lbnQoXCJpbnB1dFwiLCBcIm1vZGFsLWlucHV0LXNlYXJjaFwiKTtcblx0XHRjb25zdCBtb2RhbExpc3RDb3VudHJpZXMgPSByZW5kZXJFbGVtZW50KFwidWxcIiwgXCJtb2RhbC1saXN0LWNvdW50cmllc1wiKTtcblxuXHRcdGNvbnN0IG1vZGFsQ2xvc2VCdG4gPSByZW5kZXJFbGVtZW50KFwiYnV0dG9uXCIsIFwibW9kYWwtY2xvc2UtYnRuXCIpO1xuXG5cdFx0Y29uc3QgcmVuZGVySGVhZGluZyA9ICgpID0+IHtcblx0XHRcdC8vIEhlYWRpbmcgdGhhdCBkaXNwbGF5cyBjdXJyZW50IGNvdW50cnkgc2VsZWN0ZWQuXG5cdFx0XHRjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuXHRcdFx0aGVhZGluZy50ZXh0Q29udGVudCA9IFwiQ291bnRyaWVzXCI7XG5cblx0XHRcdGNvbnN0IGN1cnJDb3VudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuXHRcdFx0Y29uc3Qgc2VhcmNoTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG5cblx0XHRcdGNvbnN0IHNlYXJjaEF0dHJpYnV0ZXMgPSB7XG5cdFx0XHRcdGlkOiBcIm1vZGFsLWlucHV0LXNlYXJjaFwiLFxuXHRcdFx0XHR0eXBlOiBcInNlYXJjaFwiLFxuXHRcdFx0XHRwbGFjZWhvbGRlcjogXCLwn5SNIFNlYXJjaCBmb3IgY291bnRyaWVzLi4uXCIsXG5cdFx0XHRcdHRpdGxlOiBcIlR5cGUgaW4gYSBjb3VudHJ5IG5hbWVcIixcblx0XHRcdFx0cm9sZTogXCJzZWFyY2hcIixcblx0XHRcdH07XG5cblx0XHRcdGZvciAobGV0IGkgaW4gc2VhcmNoQXR0cmlidXRlcykge1xuXHRcdFx0XHRtb2RhbElucHV0U2VhcmNoLnNldEF0dHJpYnV0ZShpLCBzZWFyY2hBdHRyaWJ1dGVzW2ldKTtcblx0XHRcdH1cblx0XHRcdG1vZGFsSW5wdXRTZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGZpbHRlclJlc3VsdHMpO1xuXHRcdFx0bW9kYWxJbnB1dFNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH0pXG5cblx0XHRcdC8vIEZpbmQgY3VycmVudCBjb3VudHJ5IG5hbWUgYW5kIGNvZGUuXG5cdFx0XHRjb25zdCBjdXJyQ291bnRyeUZsYWcgPSByZW5kZXJDb3VudHJ5RmxhZyhcblx0XHRcdFx0Y3VyckNvdW50cnlDb2RlLFxuXHRcdFx0XHRjdXJyQ291bnRyeU5hbWVcblx0XHRcdCk7XG5cdFx0XHRjdXJyQ291bnRyeS50ZXh0Q29udGVudCA9IGN1cnJDb3VudHJ5TmFtZTtcblxuXHRcdFx0bW9kYWxDdXJyZW50Q291bnRyeS5hcHBlbmRDaGlsZChjdXJyQ291bnRyeUZsYWcpO1xuXHRcdFx0bW9kYWxDdXJyZW50Q291bnRyeS5hcHBlbmRDaGlsZChjdXJyQ291bnRyeSk7XG5cblx0XHRcdHNlYXJjaExhYmVsLmh0bWxGb3IgPSBgJHttb2RhbElucHV0U2VhcmNoLmlkfWA7XG5cblx0XHRcdFtoZWFkaW5nLCBtb2RhbEN1cnJlbnRDb3VudHJ5LCBzZWFyY2hMYWJlbCwgbW9kYWxJbnB1dFNlYXJjaF0uZm9yRWFjaChcblx0XHRcdFx0KGZvcm1FbGVtKSA9PiB7XG5cdFx0XHRcdFx0bW9kYWxIZWFkZXIuYXBwZW5kQ2hpbGQoZm9ybUVsZW0pO1xuXHRcdFx0XHR9XG5cdFx0XHQpO1xuXHRcdH07XG5cblx0XHRjb25zdCByZW5kZXJCb2R5ID0gKCkgPT4ge1xuXHRcdFx0bW9kYWxMaXN0Q291bnRyaWVzLmlkID0gXCJjb3VudHJpZXMtbGlzdFwiO1xuXHRcdFx0Zm9yIChsZXQgY291bnRyeSBpbiBjb3VudHJpZXMpIHtcblx0XHRcdFx0bGV0IGNvdW50cnlDb2RlID0gY291bnRyaWVzW2NvdW50cnldO1xuXG5cdFx0XHRcdGNvbnN0IGNvdW50cnlDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwibGlcIiwgXCJjb3VudHJ5LWNvbnRhaW5lclwiKTtcblx0XHRcdFx0Y29uc3QgY291bnRyeUZsYWcgPSByZW5kZXJDb3VudHJ5RmxhZyhjb3VudHJ5Q29kZSwgY291bnRyeSk7XG5cdFx0XHRcdGNvbnN0IGNvdW50cnlOYW1lID0gcmVuZGVyRWxlbWVudChcImFcIiwgXCJjb3VudHJ5LW5hbWVcIik7XG5cblx0XHRcdFx0Y291bnRyeU5hbWUudGV4dENvbnRlbnQgPSBjb3VudHJ5O1xuXHRcdFx0XHRjb3VudHJ5TmFtZS5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIFwiI1wiKTtcblxuXHRcdFx0XHRbY291bnRyeUZsYWcsIGNvdW50cnlOYW1lXS5mb3JFYWNoKChjb3VudHJ5RWxlbSkgPT4ge1xuXHRcdFx0XHRcdGNvdW50cnlDb250YWluZXIuYXBwZW5kQ2hpbGQoY291bnRyeUVsZW0pO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRtb2RhbExpc3RDb3VudHJpZXMuYXBwZW5kQ2hpbGQoY291bnRyeUNvbnRhaW5lcik7XG5cdFx0XHR9XG5cblx0XHRcdFttb2RhbExpc3RDb3VudHJpZXNdLmZvckVhY2goKGZvcm1FbGVtKSA9PiB7XG5cdFx0XHRcdG1vZGFsQm9keS5hcHBlbmRDaGlsZChmb3JtRWxlbSk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0Y29uc3QgcmVuZGVyQ2xvc2VCdG4gPSAoY2xvc2VGbmMpID0+IHtcblx0XHRcdGNvbnN0IGNsb3NlU3ltYiA9IHJlbmRlckVsZW1lbnQoXCJpXCIsIFwiZmFcIik7XG5cdFx0XHRjbG9zZVN5bWIuY2xhc3NMaXN0LmFkZChcImZhLWNsb3NlXCIpO1xuXHRcdFx0bW9kYWxDbG9zZUJ0bi5hcHBlbmRDaGlsZChjbG9zZVN5bWIpO1xuXHRcdFx0Y2xvc2VGbmMoKTtcblx0XHR9O1xuXHRcdGNvbnN0IGFkZENsb3NlRm5jID0gKCkgPT4ge1xuXHRcdFx0bW9kYWxDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRjb25zdCBjdXJyZW50Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY291bnRyeS1jb250YWluZXJcIik7XG5cdFx0XHRcdGN1cnJlbnRGb3JtLnJlbW92ZSgpO1xuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhY2UtbWFza1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0Ly8gUmVuZGVyIHNlY3Rpb25zIG9mIHRoZSBmb3JtLlxuXHRcdHJlbmRlckhlYWRpbmcoKTtcblx0XHRyZW5kZXJCb2R5KCk7XG5cdFx0cmVuZGVyQ2xvc2VCdG4oYWRkQ2xvc2VGbmMpO1xuXG5cdFx0W21vZGFsSGVhZGVyLCBtb2RhbEJvZHksIG1vZGFsQ2xvc2VCdG5dLmZvckVhY2goKG1vZGFsRWxlbSkgPT5cblx0XHRcdG1vZGFsQ29udGFpbmVyLmFwcGVuZENoaWxkKG1vZGFsRWxlbSlcblx0XHQpO1xuXG5cdFx0Y29uc3QgYm9keURvY3VtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG5cdFx0Ym9keURvY3VtZW50LmFwcGVuZChtb2RhbENvbnRhaW5lcik7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mYWNlLW1hc2tcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuXHRcdGZ1bmN0aW9uIHJlbmRlckNvdW50cnlGbGFnKGNvdW50cnlDb2RlLCBjb3VudHJ5TmFtZSkge1xuXHRcdFx0Y29uc3QgZmxhZyA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJjb3VudHJ5LWZsYWdcIik7XG5cdFx0XHRmbGFnLnNldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIsIFwiYW5vbnltb3VzXCIpO1xuXHRcdFx0ZmxhZy5zcmMgPSBgaHR0cHM6Ly9jb3VudHJ5ZmxhZ3NhcGkuY29tL3BuZy8ke2NvdW50cnlDb2RlfWA7XG5cdFx0XHRmbGFnLmFsdCA9IGAke2NvdW50cnlOYW1lfSBmbGFnYDtcblx0XHRcdHJldHVybiBmbGFnO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIGZpbHRlclJlc3VsdHMoKSB7XG5cdFx0XHRsZXQgaW5wdXQsIGZpbHRlciwgdWwsIGxpLCBhLCBpLCB0eHRWYWx1ZTtcblx0XHRcdGlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtb2RhbC1pbnB1dC1zZWFyY2hcIik7XG5cdFx0XHRmaWx0ZXIgPSBpbnB1dC52YWx1ZS50b1VwcGVyQ2FzZSgpO1xuXHRcdFx0dWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvdW50cmllcy1saXN0XCIpO1xuXHRcdFx0bGkgPSB1bC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpXCIpO1xuXG5cdFx0XHQvLyBMb2dpYyB0aGF0IGZpbHRlcnMgdGhlIGNvdW50cmllcyBiYXNlZCBvbiBpbnB1dC5cblx0XHRcdGZvciAoaSA9IDA7IGkgPCBsaS5sZW5ndGg7IGkrKykge1xuXHRcdFx0XHRhID0gbGlbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJhXCIpWzBdO1xuXHRcdFx0XHR0eHRWYWx1ZSA9IGEudGV4dENvbnRlbnQgfHwgYS5pbm5lclRleHQ7XG5cdFx0XHRcdGlmICh0eHRWYWx1ZS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoZmlsdGVyKSA+IC0xKSB7XG5cdFx0XHRcdFx0bGlbaV0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGlbaV0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdGZ1bmN0aW9uIGhpZ2hsaWdodEN1cnJDb3VudHJ5KGNvdW50cnlOYW1lKSB7XG5cdFx0Ly8gSGlnaGxpZ2h0IHNlbGVjdGVkIGN1cnJlbnQgY291bnRyeSBpbiB0aGUgbGlzdCBvZiBjb3VudHJpZXMgd2hlblxuXHRcdC8vIG1vZGFsIGlzIG9wZW5lZC4gQWRkIGEgdGljayBpY29uIHNpbXVsdGFuZW91c2x5XG5cblx0XHRsZXQgdWwsIGxpLCBpLCBhLCB0eHRWYWx1ZTtcblx0XHR1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291bnRyaWVzLWxpc3RcIik7XG5cdFx0bGkgPSB1bC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpXCIpO1xuXHRcdGZvciAoaSA9IDA7IGkgPCBsaS5sZW5ndGg7IGkrKykge1xuXHRcdFx0YSA9IGxpW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKVswXTtcblx0XHRcdHR4dFZhbHVlID0gYS50ZXh0Q29udGVudCB8fCBhLmlubmVyVGV4dDtcblx0XHRcdGlmICh0eHRWYWx1ZSA9PT0gY291bnRyeU5hbWUpIHtcblx0XHRcdFx0bGlbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDI1LCAxNTAsIDE1MCwgMC41KVwiO1xuXHRcdFx0XHRsaVtpXS5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDEuMDI1KVwiO1xuXHRcdFx0XHRjb25zdCB0aWNrSWNvbiA9IHJlbmRlckVsZW1lbnQoJ2knLCAnZmEnKTtcblx0XHRcdFx0dGlja0ljb24uY2xhc3NMaXN0LmFkZCgnZmEtY2hlY2snKTtcblx0XHRcdFx0bGlbaV0uYXBwZW5kKHRpY2tJY29uKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHtcblx0XHRzZWN0aW9uLFxuXHRcdGFkZFRvU2VjdGlvbixcblx0XHRkcmF3QWxsLFxuXHRcdGRyYXdJbnRybyxcblx0XHRkcmF3U3ViSW5mb3MsXG5cdFx0ZHJhd1Byb3ZpZGVycyxcblx0fTtcbn07XG5cbmV4cG9ydCB7IGRyYXdTZWN0aW9uIH07XG4iLCJpbXBvcnQgY29sbGVjdFNlYXJjaFF1ZXJ5IGZyb20gXCIuL3NlYXJjaFwiO1xuaW1wb3J0IHsgZmV0Y2hJZHMgfSBmcm9tIFwiLi4vYXBpRnVuY3Rpb25zL2ZldGNoSWRcIjtcbmltcG9ydCAqIGFzIG1vdmllIGZyb20gXCIuLi9hcGlGdW5jdGlvbnMvZmV0Y2hNb3ZpZUluZm9cIjtcbmltcG9ydCB7IGRyYXdTZWN0aW9uIH0gZnJvbSBcIi4vZHJhd1NlY3Rpb25cIjtcblxuYXN5bmMgZnVuY3Rpb24gZHJhd1NlY3Rpb25zKHRpdGxlKSB7XG5cdGNvbnN0IGlkcyA9IGF3YWl0IGZldGNoSWRzKHRpdGxlKTtcblx0Y29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250YWluZXJcIik7XG5cdGxldCBzZWN0aW9ucyA9IFtdO1xuXG5cdC8vIE1ha2UgYW4gYXJyIHcvIGVsZW1zIG9mIFtpZCwgbWVkaWFdXG5cdGZvciAobGV0IGlkIGluIGlkcykge1xuXHRcdC8vIFRlbXAgbWFrZSBpdCBzbyB0aGF0IGl0IG9ubHkgYWNjZXB0cyBtb3ZpZXNcblxuXHRcdGlkc1tpZF0gPT09IFwibW92aWVcIiA/IHNlY3Rpb25zLnB1c2goW2lkLCBpZHNbaWRdXSkgOiBcIlwiO1xuXHR9XG5cblx0c2VjdGlvbnMuZm9yRWFjaChcblx0XHRhc3luYyAoc2VjdGlvbikgPT4gYXdhaXQgcmVuZGVyU2VjdGlvbihzZWN0aW9uWzBdLCBzZWN0aW9uWzFdKVxuXHQpO1xuXG5cdGFzeW5jIGZ1bmN0aW9uIHJlbmRlclNlY3Rpb24oaWQsIG1lZGlhKSB7XG5cdFx0Y29uc3Qgc2VjdGlvbiA9IGF3YWl0IGRyYXdTZWN0aW9uKGlkLCBtZWRpYSk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3SW50cm8oXCIzMDBcIikpO1xuXHRcdHNlY3Rpb24uYWRkVG9TZWN0aW9uKHNlY3Rpb24uZHJhd1N1YkluZm9zKCkpO1xuXHRcdHNlY3Rpb24uYWRkVG9TZWN0aW9uKHNlY3Rpb24uZHJhd1Byb3ZpZGVycygpKTtcblx0XHRtYWluLmFwcGVuZENoaWxkKHNlY3Rpb24uc2VjdGlvbik7XG5cdFx0cmV0dXJuIHJlbmRlclNlY3Rpb247XG5cdH1cbn1cblxuZnVuY3Rpb24gY2xlYXJTZWN0aW9ucygpIHtcblx0Y29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250YWluZXJcIik7XG5cdG1haW4uaW5uZXJIVE1MID0gXCJcIjtcbn1cblxuZXhwb3J0IHsgZHJhd1NlY3Rpb25zLCBjbGVhclNlY3Rpb25zIH07XG4iLCJpbXBvcnQgeyBkcmF3U2VjdGlvbnMgfSBmcm9tIFwiLi9qcy9ET01GdW5jdGlvbnMvZHJhd1NlY3Rpb25zXCI7XG5pbXBvcnQgYWRkU3VibWl0U2VhcmNoRm5jIGZyb20gXCIuL2pzL1VJL3N1Ym1pdFNlYXJjaFwiO1xuXG5jb25zb2xlLmxvZyhcIkhlbGxvIFdvcmxkXCIpO1xuLy8gZmV0Y2hJZHMoJ0lST04gTUFOJyk7XG5cbi8vIGZldGNoTW92aWVEdW1teSgxNzI2KTtcbi8vIGZldGNoTW92aWVEdW1teSgzMDk3KTsgLy8gZmFpbCB0byBmZXRjaCBiZWNhdXNlIGl0cyB0di5cbi8vIGZldGNoTW92aWVEdW1teSgxMDEzOCk7XG4vLyBmZXRjaE1vdmllRHVtbXkoNjg3MjEpO1xuXG4vLyBhc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllRHVtbXkoaWQpIHtcbi8vICAgICBjb25zdCBtb3ZpZURldGFpbHMgPSBhd2FpdCBtb3ZpZS5mZXRjaE1vdmllRGV0YWlscyhpZCk7XG4vLyAgICAgY29uc3QgbW92aWVSZWNjb3MgPSBhd2FpdCBtb3ZpZS5mZXRjaE1vdmllUmVjY29zKGlkKTtcbi8vICAgICBjb25zdCBtb3ZpZVByb3ZpZGVycyA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVQcm92aWRlcnMoaWQpO1xuLy8gICAgIGNvbnN0IG1vdmllVHJhaWxlciA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVUcmFpbGVyKGlkKTtcbi8vICAgICBjb25zdCBtb3ZpZVJldmlld3MgPSBhd2FpdCBtb3ZpZS5mZXRjaE1vdmllUmV2aWV3cyhpZCk7XG4vLyAgICAgY29uc29sZS5sb2cobW92aWVEZXRhaWxzKTtcbi8vICAgICBjb25zb2xlLmxvZyhtb3ZpZVJlY2Nvcyk7XG4vLyAgICAgY29uc29sZS5sb2cobW92aWVQcm92aWRlcnMpO1xuLy8gICAgIGNvbnNvbGUubG9nKG1vdmllVHJhaWxlcik7XG4vLyAgICAgY29uc29sZS5sb2cobW92aWVSZXZpZXdzKTtcbi8vIH1cblxuLy8gYWRkU3VibWl0U2VhcmNoRnVuY3Rpb24oKTtcblxuYWRkU3VibWl0U2VhcmNoRm5jKCk7XG5kcmF3U2VjdGlvbnMoXCJpcm9uIG1hblwiKTtcbi8vIGRyYXdTZWN0aW9ucyhcInBlZSBtYWtcIik7XG4iLCJpbXBvcnQgeyBkcmF3U2VjdGlvbnMsIGNsZWFyU2VjdGlvbnMgfSBmcm9tIFwiLi4vRE9NRnVuY3Rpb25zL2RyYXdTZWN0aW9uc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBhZGRTdWJtaXRTZWFyY2hGbmMoKSB7XG5cdGNvbnN0IHNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLXF1ZXJ5XCIpO1xuXHRzZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChlKSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGNvbnN0IHF1ZXJ5ID0gaW50ZXJwcmV0VG9RdWVyeShcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXQtc2VhcmNoXCIpLnZhbHVlXG5cdFx0KTtcblx0XHRpZiAoIXF1ZXJ5KSB7XG5cdFx0XHRhbGVydChcIlBsZWFzZSBlbnRlciBhIHZhbGlkIG1vdmllL3R2IHNob3dcIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXHRcdGNsZWFyU2VjdGlvbnMoKTtcblx0XHRhd2FpdCBkcmF3U2VjdGlvbnMocXVlcnkpO1xuXG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtcXVlcnlcIikudmFsdWUgPSBcIlwiO1xuXHR9KTtcbn1cblxuZnVuY3Rpb24gaW50ZXJwcmV0VG9RdWVyeShuYW1lKSB7XG5cdHJldHVybiBuYW1lLnNwbGl0KFwiIFwiKS5qb2luKFwiK1wiKTtcbn1cbiJdLCJuYW1lcyI6WyJBUElfS0VZIiwiYXN5bmMiLCJmZXRjaE1vdmllRGV0YWlscyIsIm1vdmllX2lkIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1vZGUiLCJkYXRhIiwianNvbiIsImdlbnJlcyIsInJlZHVjZSIsImFjYyIsInZhbCIsIm5hbWUiLCJtTmFtZSIsIm9yaWdpbmFsX3RpdGxlIiwic3VtbWFyeSIsIm92ZXJ2aWV3IiwidGFnbGluZSIsInBvcHVsYXJpdHkiLCJ2b3RlX2F2ZXJhZ2UiLCJ2b3RlX2NvdW50IiwidmlkZW8iLCJydW50aW1lIiwicG9zdGVyX3BhdGgiLCJiYWNrZHJvcF9wYXRoIiwiZXJyIiwiYWxlcnQiLCJmZXRjaE1vdmllUmVjY29zIiwicmVjTW92aWVzIiwicmVzdWx0cyIsImNvdW50IiwibW92aWUiLCJpZCIsImZldGNoTW92aWVQcm92aWRlcnMiLCJwcm92aWRlcnNCeUNvdW50cnkiLCJjb3VudHJ5Q29kZSIsImNvdW50cnkiLCJjb2RlIiwiSW50bCIsIkRpc3BsYXlOYW1lcyIsInR5cGUiLCJvZiIsInN0cmVhbSIsInJlbnQiLCJidXkiLCJzb3J0UHJvdmlkZXJzIiwic2VydmljZXMiLCJjb2xsZWN0aW9uIiwiZm9yRWFjaCIsInNlcnZpY2UiLCJwcm92aWRlckluZm8iLCJwcm92aWRlcl9uYW1lIiwicHJvdmlkZXJfbG9nb19wYXRoIiwibG9nb19wYXRoIiwicHVzaCIsImZsYXRyYXRlIiwiZmV0Y2hNb3ZpZVRyYWlsZXIiLCJtb3ZpZVRyYWlsZXIiLCJ0cmFpbGVycyIsImZpbHRlciIsImxlbmd0aCIsIm9mZmljaWFsIiwia2V5Iiwic2l0ZSIsImxhbmciLCJpc29fNjM5XzEiLCJmZXRjaE1vdmllUmV2aWV3cyIsInJldmlld3MiLCJyZXZpZXciLCJhdXRob3IiLCJyYXRpbmciLCJhdXRob3JfZGV0YWlscyIsInBpY19wYXRoIiwiYXZhdGFyX3BhdGgiLCJjb250ZW50IiwidXJsIiwibGFzdF91cGRhdGVkIiwidXBkYXRlZF9hdCIsInNsaWNlIiwiZHJhd1NlY3Rpb24iLCJtZWRpYSIsInNlY3Rpb24iLCJkb2N1bWVudCIsImNyZWF0ZUVsZW1lbnQiLCJkZXRhaWxzIiwiZ2V0SW5mbyIsInByb3ZpZGVycyIsImFkZFRvU2VjdGlvbiIsInBhcnQiLCJhcHBlbmRDaGlsZCIsInJlbmRlckVsZW1lbnQiLCJ0YWciLCJjbGFzc05hbWUiLCJjb250YWluZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJtb3ZpZUZuYyIsInR2Rm5jIiwiY29uc29sZSIsImxvZyIsImRyYXdJbnRybyIsImltZ1NpemUiLCJpbnRyb0NvbnRhaW5lciIsInRpdGxlIiwidGV4dENvbnRlbnQiLCJjcmVhdGVUaXRsZSIsInRhZ1BhcmEiLCJ3cml0ZVRhZ2xpbmUiLCJpbWciLCJwb3N0ZXIiLCJiYXNlSW1nVXJsIiwiaW1nX3BhdGgiLCJzcmMiLCJhbHQiLCJzZXRBdHRyaWJ1dGUiLCJyZW5kZXJJbWciLCJwYXJhIiwid3JpdGVTdW1tYXJ5IiwiZHJhd0FsbCIsImRyYXdTdWJJbmZvcyIsImNyZWF0ZVN1YkluZm8iLCJjYXRlZ29yeSIsImluZm8iLCJzdWJJbmZvIiwiY2F0ZWdvcnlOYW1lIiwiY2F0ZWdvcnlJbmZvIiwiam9pbiIsIm1pbnMiLCJob3VycyIsInJIb3VycyIsIk1hdGgiLCJmbG9vciIsIm1pbnV0ZXMiLCJyb3VuZCIsImNvbnZlcnRNaW5Ub0hyIiwiZHJhd1Byb3ZpZGVycyIsImF2YWlsUHJvdmlkZXJzIiwicHJvdmlkZXJDb250YWluZXIiLCJjb3VudHJ5QnRuIiwiaG91c2VDb250YWluZXIiLCJlbGVtIiwiT2JqZWN0Iiwia2V5cyIsImluY2x1ZGVzIiwiZHJhd1Byb3ZpZGVyIiwiZmlyc3RQcm92aWRlciIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJjdXJyQ291bnRyeU5hbWUiLCJwcm92aWRlckNvdW50cmllcyIsImN1cnJDb3VudHJ5Q29kZSIsImNvdW50cmllcyIsIm1vZGFsQ29udGFpbmVyIiwibW9kYWxIZWFkZXIiLCJtb2RhbEJvZHkiLCJtb2RhbEN1cnJlbnRDb3VudHJ5IiwibW9kYWxJbnB1dFNlYXJjaCIsIm1vZGFsTGlzdENvdW50cmllcyIsIm1vZGFsQ2xvc2VCdG4iLCJyZW5kZXJDb3VudHJ5RmxhZyIsImNvdW50cnlOYW1lIiwiZmxhZyIsImZpbHRlclJlc3VsdHMiLCJpbnB1dCIsInVsIiwibGkiLCJhIiwiaSIsInR4dFZhbHVlIiwiZ2V0RWxlbWVudEJ5SWQiLCJ2YWx1ZSIsInRvVXBwZXJDYXNlIiwiZ2V0RWxlbWVudHNCeVRhZ05hbWUiLCJpbm5lclRleHQiLCJpbmRleE9mIiwic3R5bGUiLCJkaXNwbGF5IiwiaGVhZGluZyIsImN1cnJDb3VudHJ5Iiwic2VhcmNoTGFiZWwiLCJzZWFyY2hBdHRyaWJ1dGVzIiwicGxhY2Vob2xkZXIiLCJyb2xlIiwiY3VyckNvdW50cnlGbGFnIiwiaHRtbEZvciIsImZvcm1FbGVtIiwicmVuZGVySGVhZGluZyIsImNvdW50cnlDb250YWluZXIiLCJjb3VudHJ5RmxhZyIsImNvdW50cnlFbGVtIiwicmVuZGVyQm9keSIsImNsb3NlRm5jIiwiY2xvc2VTeW1iIiwicmVuZGVyQ2xvc2VCdG4iLCJxdWVyeVNlbGVjdG9yIiwicmVtb3ZlIiwibW9kYWxFbGVtIiwiYXBwZW5kIiwicmVuZGVyQ291bnRyaWVzTW9kYWwiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0cmFuc2Zvcm0iLCJ0aWNrSWNvbiIsImhpZ2hsaWdodEN1cnJDb3VudHJ5IiwicXVlcnlTZWxlY3RvckFsbCIsImxhc3RDaGlsZCIsInNlbGVjdGVkQ291bnRyeSIsImlubmVySFRNTCIsInN0cmVhbUluZm8iLCJidXlJbmZvIiwicmVudEluZm8iLCJzZXJ2aWNlTmFtZXMiLCJpZHgiLCJzZXJ2aWNlQ29udGFpbmVyIiwic2VydmljZU5hbWUiLCJzZXJ2aWNlTmFtZUJvbGQiLCJwcm92aWRlclNlcnZpY2VDb250YWluZXIiLCJwcm92aWRlciIsInByb3ZpZGVyU2VydmljZSIsInByb3ZpZGVySW1nIiwicHJvdmlkZXJOYW1lIiwiZHJhd1NlY3Rpb25zIiwiaWRzIiwicXVlcnkiLCJzcGxpdCIsImludGVycHJldFRvUXVlcnkiLCJyZXN1bHQiLCJzb3J0IiwicDEiLCJwMiIsIm1lZGlhX3R5cGUiLCJmZXRjaElkcyIsIm1haW4iLCJzZWN0aW9ucyIsInJlbmRlclNlY3Rpb24iLCJhZGRTdWJtaXRTZWFyY2hGbmMiXSwic291cmNlUm9vdCI6IiJ9