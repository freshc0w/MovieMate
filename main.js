(()=>{"use strict";const e=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("show")}))})),t="720d2150cf09bfa61e28a5042cd7468f";async function n(e){try{const n=await fetch(`https://api.themoviedb.org/3/movie/${e}?api_key=${t}\n\t\t\t&language=en-US`,{mode:"cors"}),{original_title:a,overview:o,tagline:r,popularity:i,vote_average:s,vote_count:c,genres:d,video:l,runtime:p,poster_path:u,backdrop_path:m,release_date:h}=await n.json();return{mName:a,summary:o,tagline:r,popularity:i,vote_average:s,vote_count:c,genres:d.map((e=>e.name)),video:l,runtime:p,poster_path:u,backdrop_path:m,release_date:h}}catch(e){console.error(`Failed to fetch movie details ${e.message}`)}}async function a(e){try{const n=await fetch(`https://api.themoviedb.org/3/movie/${e}/recommendations\n\t\t\t?api_key=${t}&language=en-US&page=1`,{mode:"cors"});if(!n.ok)throw new Error("Failed to fetch movie recommendations from API.");return(await n.json()).results.slice(0,5).map((e=>({mName:e.original_title,id:e.id,poster_path:e.poster_path,backdrop_path:e.backdrop_path,release_date:e.release_date,vote_count:e.vote_count,vote_average:e.vote_average})))}catch(e){console.error(`Failed to fetch movie recommendations: ${e.message}`)}}async function o(e){const n={};try{const o=await fetch(`https://api.themoviedb.org/3/movie/${e}/watch/providers\n\t\t\t?api_key=${t}`,{mode:"cors"}),r=await o.json();for(const e in r.results){const t=(a=e,new Intl.DisplayNames(["en"],{type:"region"}).of(a));n[t]={stream:[],rent:[],buy:[],countryCode:e};const o=(e,t)=>{e&&e.forEach((e=>{const n={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(n)}))};o(r.results[e].flatrate,n[t].stream),o(r.results[e].rent,n[t].rent),o(r.results[e].buy,n[t].buy)}return n}catch(e){console.erroror(`Failed to fetch movie providers: ${e.message}`)}var a}async function r(e){try{const a=await fetch(`https://api.themoviedb.org/3/movie/${e}/videos?api_key=\n\t\t\t${t}&mode=cors`);if(!a.ok)throw new Error("Failed to fetch movie trailers from API.");const o=(await a.json()).results.filter((e=>"Trailer"===e.type));if(0===o.length)return;const r=o.find((e=>!0===e.official))||o[0];return{tName:r.name,key:r.key,site:r.site,type:r.type,lang:(n=r.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(n))}}catch(e){console.error(`Failed to fetch movie trailers: ${e.message}`)}var n}async function i(e){try{let n=[];const a=await fetch(`https://api.themoviedb.org/3/movie/${e}/reviews?api_key=\n\t\t\t${t}&language=en-US&page=1`,{mode:"cors"}),o=await a.json();return 0!==o.results.length&&(o.results.forEach((e=>{n.push({author:e.author,rating:e.author_details?.rating,pic_path:e.author_details?.avatar_path,content:e.content,url:e.url,last_updated:e.updated_at})})),n.slice(0,5))}catch(e){console.error(`Fail to fetch movie reviews: ${e.message}`)}}async function s(e){try{const n=await fetch(`https://api.themoviedb.org/3/tv/${e}?api_key=${t}\n\t\t\t&language=en-US`,{mode:"cors"});if(!n.ok)throw new Error("Failed to fetch TV details from API.");const a=await n.json(),o=a.genres.reduce(((e,t)=>[...e,t.name]),[]);return{tName:a.original_name,tagline:a.tagline,language:a.original_language,summary:a.overview,episode_run_time:a.episode_run_time[0],origin_country:a.origin_country,vote_average:a.vote_average,vote_count:a.vote_count,status:a.status,seasons:a.seasons,number_of_seasons:a.number_of_seasons,first_air_date:a.first_air_date,last_air_date:a.last_air_date,backdrop_path:a.backdrop_path,poster_path:a.poster_path,popularity:a.popularity,genres:o}}catch(e){console.error(`Failed to fetch relevant information for TV SHOW: ${e.message}`)}}async function c(e){try{const n=await fetch(`https://api.themoviedb.org/3/tv/${e}/recommendations?api_key=${t}&language=en-US&page=1`,{mode:"cors"});if(!n.ok)throw new Error("Failed to fetch TV recommendations from API.");const a=(await n.json()).results?.slice(0,5).reduce(((e,t)=>(e[t.original_name]={tName:t.original_name,id:t.id,first_air_date:t.first_air_date,poster_path:t.poster_path,backdrop_path:t.backdrop_path,vote_average:t.vote_average,vote_count:t.vote_count},e)),{});return a||{}}catch(e){console.error(`Failed to fetch TV recommendations: ${e.message}`)}}async function d(e){const n={};try{const o=await fetch(`https://api.themoviedb.org/3/tv/${e}/watch/providers?api_key=${t}`,{mode:"cors"});if(!o.ok)throw new Error("Failed to fetch TV show providers from API.");const r=await o.json();for(const e in r.results){const t=(a=e,new Intl.DisplayNames(["en"],{type:"region"}).of(a));n[t]={stream:[],rent:[],buy:[],countryCode:e};const o=(e,t)=>{e&&e.forEach((e=>{const n={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(n)}))};o(r.results[e].flatrate,n[t].stream),o(r.results[e].rent,n[t].rent),o(r.results[e].buy,n[t].buy)}return n}catch(e){console.error(`Failed to fetch TV providers: ${e.message}`)}var a}async function l(e){try{const a=await fetch(`https://api.themoviedb.org/3/tv/${e}/videos?api_key=${t}`,{mode:"cors"});if(!a.ok)throw new Error("Failed to fetch TV trailer from API.");const o=(await a.json()).results.filter((e=>"Trailer"===e.type));if(0===o.length)return;const r=o.find((e=>!0===e.official))||o[0];return{tName:r.name,key:r.key,site:r.site,type:r.type,lang:(n=r.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(n))}}catch(e){console.error(`Failed to fetch TV trailer: ${e.message}`)}var n}async function p(e){try{const n=await fetch(`https://api.themoviedb.org/3/tv/${e}/reviews?api_key=\n\t\t\t${t}&language=en-US&page=1`,{mode:"cors"});if(!n.ok)throw new Error("Failed to fetch TV reviews from API.");const a=await n.json();return 0!==a.results.length&&a.results.map((e=>({author:e.author,rating:e.author_details?.rating,pic_path:e.author_details?.avatar_path,content:e.content,url:e.url,last_updated:e.updated_at}))).slice(0,5)}catch(e){console.error(`Failed to fetch TV reviews: ${e.message}`)}}const u=async(e,t)=>{const u=document.createElement("section"),f=await b(e,n,s),g=await b(e,a,c),v=await b(e,o,d),y=await b(e,r,l),_=await b(e,i,p);function w(e){e&&u.appendChild(e)}function C(e,t){const n=document.createElement(e);return n.classList.add(t),n}async function b(e,n,a){return"movie"===t?await n(e):await a(e)}u.classList.add("section-container");const $=e=>{const t=document.createElement("div");t.classList.add("intro"),t.appendChild(function(){const e=C("h1","title");return e.textContent=f.mName?f.mName:f.tName,e}()),t.appendChild(function(){const e=C("em","tagline");return e.textContent=`"${f.tagline}"`,e}());const n=function(e=""){const t=document.createElement("img"),n="https://image.tmdb.org/t/p",a=f.poster_path||f.backdrop_path;return a?(t.classList.add("poster"),t.src=e?`${n}/w${e}/${a}`:`${n}/original/${a}`,t.alt="Movie picture poster",t.setAttribute("loading","lazy"),t):null}(e);return n&&t.appendChild(n),t},E=e=>{const t=C("div","rec-container"),n=C("img","rec-poster"),a=C("div","rec-info");n.src=`https://image.tmdb.org/t/p/w300/${e.poster_path}`,t.appendChild(n),function(e){if(e){const t=C("p","rec-name"),n=C("p","rec-date"),a=C("p","rec-vote-count"),o=C("p","rec-vote-avg");return t.textContent=e.tName?`Name: ${e.tName}`:`Name: ${e.mName}`,n.textContent=e.first_air_date?`First Air Date: ${e.first_air_date}`:`Release Date: ${e.release_date}`,a.textContent=`Vote Count: ${e.vote_count}`,o.textContent=`Vote Avg: ${e.vote_average}`,[t,n,a,o]}}(e).forEach((e=>a.appendChild(e)));const o=C("a","rec-link"),r=e.tName?"TV Show":"Movie";return o.textContent=`Search for this ${r} -> `,o.addEventListener("click",(async t=>{t.preventDefault(),h(),e.tName?await m(e.tName):await m(e.mName)})),a.appendChild(o),t.appendChild(a),t};return{section:u,addToSection:w,drawAll:function(){w($())},drawIntro:$,drawSubInfos:()=>{const e=C("div","subinfo-container");let t,n;f.release_date?(t=o("Release Date:",f.release_date.split("-").reverse().join("/")),n=""):f.first_air_date?(t=o("First Aired: ",f.first_air_date.split("-").reverse().join("/")),n=o("Last Aired: ",f.last_air_date.split("-").reverse().join("/"))):t="";let a=f.runtime?function(e){const t=e/60,n=Math.floor(t),a=60*(t-n);return`${n}h ${Math.round(a)}min`}(f.runtime):"";function o(e,t){if(!t)return null;const n=C("div","sub-info"),a=C("span","category-name"),o=C("span","category-info");return a.textContent=e,o.textContent=t,[a,o].forEach((e=>n.appendChild(e))),n}return[t,n,o("Show status:",f.status),o("Runtime: ",a),o("Genres: ",f.genres.join(", ")),o("Number of seasons: ",f.number_of_seasons),o("Est Avg Episode Runtime: ",f.episode_run_time),o("Country of Origin: ",f.origin_country),o("Vote Average: ",f.vote_average),o("Vote Count: ",f.vote_count),o("Popularity: ",f.popularity)].forEach((t=>t?e.appendChild(t):"")),e},drawSummaryHeading:()=>{const e=document.createElement("h2");return e.textContent="Synopsis: ",e},drawSummary:()=>{const e=C("p","summary");return e.textContent=f.summary,e},drawProviders:()=>{let e;const t=C("div","provider-container"),n=C("button","country-btn"),a=C("div","house-provider-container");if([n,a].forEach((e=>{t.appendChild(e)})),Object.keys(v).length)if(e=!0,Object.keys(v).includes("Australia")){const e=C("img","country-flag");e.src="https://flagsapi.com/AU/shiny/64.png",e.alt="Australia flag",e.classList.add("btn-country-flag"),r("Australia"),n.textContent="Australia",n.appendChild(e)}else{const e=Object.keys(v)[0];console.log(e);const t=C("img","country-flag");t.src=`https://flagsapi.com/${v[e].countryCode}/shiny/64.png`,t.alt=`${e} flag`,t.classList.add("btn-country-flag"),r(e),n.textContent=`${e}`,n.appendChild(t)}else{e=!1,n.textContent="No countries offer this tv/movie at the moment.",n.classList.add("lost-providers");const t=C("img","lost-gif");t.src="./img/lost-gif.gif",t.alt="Prover cannot be found picture.",a.style.display="flex",a.style.justifyContent="center",a.appendChild(t)}const o=C("i","fas");return o.classList.add("fa-angle-down"),n.appendChild(o),n.addEventListener("click",(t=>{t.preventDefault(),e&&(function(e){const t=Object.keys(v);let n,a={};t.forEach((t=>{a[t]=v[t].countryCode,e===t&&(n=v[t].countryCode)}));const o=C("form","modal-country-container"),r=C("div","modal-header"),i=C("div","modal-body"),s=C("div","modal-current-country"),c=C("input","modal-input-search"),d=C("ul","modal-list-countries"),l=C("button","modal-close-btn");function p(e,t){const n=C("img","country-flag");try{n.src=`https://flagsapi.com/${v[t].countryCode}/shiny/64.png`}catch(e){console.error(`Failed to retrieve flag for: ${t}`)}return n.alt=`${t} flag`,n}function u(){let e,t,n,a,o,r,i;for(e=document.getElementById("modal-input-search"),t=e.value.toUpperCase(),n=document.getElementById("countries-list"),a=n.getElementsByTagName("li"),r=0;r<a.length;r++)o=a[r].getElementsByTagName("a")[0],i=o.textContent||o.innerText,i.toUpperCase().indexOf(t)>-1?a[r].style.display="":a[r].style.display="none"}(()=>{const t=document.createElement("h2");t.textContent="Countries";const n=document.createElement("h3"),a=document.createElement("label"),o={id:"modal-input-search",type:"search",placeholder:"ðŸ” Search for countries...",title:"Type in a country name",role:"search"};for(let e in o)c.setAttribute(e,o[e]);c.addEventListener("keyup",u),c.addEventListener("submit",(e=>{e.preventDefault()}));const i=p(0,e);n.textContent=e,s.appendChild(i),s.appendChild(n),a.htmlFor=`${c.id}`,[t,s,a,c].forEach((e=>{r.appendChild(e)}))})(),d.id="countries-list",Object.entries(a).forEach((([e,t])=>{const n=C("li","country-container"),a=p(0,e),o=C("a","country-name");o.textContent=e,o.href="#",[a,o].forEach((e=>{n.appendChild(e)})),d.appendChild(n)})),[d].forEach((e=>{i.appendChild(e)})),(e=>{const t=C("i","fa");t.classList.add("fa-close"),l.appendChild(t),e()})((()=>{l.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(".modal-country-container");document.querySelector(".face-mask").style.display="none",setTimeout((function(){t.style.transform="translateY(-125%)"}),100),setTimeout((function(){t.style.opacity=0,t.style.visibility="hidden",t.remove()}),750)}))})),[r,i,l].forEach((e=>o.appendChild(e))),setTimeout((function(){o.style.visibility="visible",o.style.opacity=1,o.style.transform="translateY(0%)"}),100),document.querySelector("body").append(o),document.querySelector(".face-mask").style.display="block"}(n.textContent),function(e){let t,n,a,o,r;for(t=document.getElementById("countries-list"),n=t.getElementsByTagName("li"),a=0;a<n.length;a++)if(o=n[a].getElementsByTagName("a")[0],r=o.textContent||o.innerText,r===e){n[a].style.backgroundColor="rgba(25, 150, 150, 0.5)",n[a].style.transform="scale(1.025)";const e=C("i","fa");e.classList.add("fa-check"),n[a].append(e)}}(n.textContent),function(){function e(e){e.preventDefault();const t=this.lastChild.textContent.trim();t&&(function(){for(;a.firstChild;)a.removeChild(a.lastChild)}(),r(t)),document.querySelector(".modal-country-container").remove(),document.querySelector(".face-mask").style.display="none"}document.querySelectorAll(".country-container").forEach((t=>{t.addEventListener("click",e)}))}())})),t;function r(e="Australia"){n.textContent=e;try{const t=C("img","country-flag");t.src=`https://flagsapi.com/${v[e].countryCode}/shiny/64.png`,t.alt=`${e} flag`,t.classList.add("btn-country-flag"),n.appendChild(t)}catch(e){console.error("Failed to retrieve flag",e.message)}const t=C("i","fas");t.classList.add("fa-angle-down"),n.appendChild(t);const o=v[e].stream,r=v[e].buy,i=v[e].rent,s=["Stream at:","Purchase at:","Rent at:"];let c=0;[o,r,i].forEach((e=>{const t=C("div","service-container"),n=C("div","service-name"),o=C("h2","service-name-bold"),r=C("div","provider-service-container");e.forEach((e=>{const t=C("div","provider-service"),n=C("img","provider-img"),a=C("span","provider-name");e.provider_logo_path&&(n.src=`https://image.tmdb.org/t/p/original/\n\t\t\t\t\t\t${e.provider_logo_path}`,n.alt=`${e.provider_name} picture.`,n.setAttribute("loading","lazy"),a.textContent=e.provider_name),[n,a].forEach((e=>{t.appendChild(e)})),r.appendChild(t)})),e.length&&(o.textContent=`${s[c]}`,n.appendChild(o)),c++,t.appendChild(n),t.appendChild(r),a.appendChild(t)}))}},drawReviews:()=>{if(!_)return;const e=C("div","review-container"),t=C("h2","review-title");return t.textContent="Reviews:",e.appendChild(t),_.forEach((t=>((e,t)=>{function n(t,n,a,o){const r=C(a,o);t&&(r.textContent=t),t===e.rating&&(r.textContent=e.rating?`${t}/10`:"Rating not provided.."),n.appendChild(r)}t.appendChild((()=>{const t=C("div","review-heading");try{if(e.pic_path){const n=C("img","author-pic");n.src="http"!==e.pic_path.slice(1,5)?`https://image.tmdb.org/t/p/w300/${e.pic_path}`:e.pic_path.slice(1),n.alt=`${e.author} profile picture.`,t.appendChild(n)}}catch(e){console.error("Cannot fetch author profile pictures:",e.message)}return n(e.author,t,"h3","review-author"),n(e.rating,t,"span","review-rating"),t})()),t.appendChild((()=>{const t=C("p","review-content");return t.textContent=`"${e.content}"`,t})()),t.appendChild((()=>{const t=C("div","review-footer"),n=C("a","review-link"),a=C("span","review-updated");return n.setAttribute("href",`${e.url}`),n.setAttribute("target","_blank"),n.textContent="Click for review link",a.textContent=`Last updated: ${function(e){const[t,n,a]=e.split("-");return`${a.slice(0,2)}/${n}/${t}`}(e.last_updated)}`,t.appendChild(n),t.appendChild(a),t})())})(t,e))),e},drawTrailer:()=>{const e=C("div","trailer-container"),t=C("div","trailer-heading");if(y){(function(){const e=C("h2","trailer-name"),t=C("h3","trailer-lang");return e.textContent=`${y.tName}`,t.textContent=`Language: ${y.lang}`,[e,t]})().forEach((e=>t.appendChild(e))),e.appendChild(t);const n=C("div","video-wrapper");n.appendChild(function(e,t){const n=C("iframe","trailer-video"),a={loading:"lazy",width:"560",height:"315",src:`https://youtube.com/embed/${e}`,title:`${t} video player`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted media; gyroscope; picture-in-picture; web-share"};for(let e in a)n.setAttribute(e,a[e]),n.setAttribute("allowfullscreen",!0);return n}(y.key,y.site)),e.appendChild(n)}return e},drawRecs:()=>{const e=C("div","recs-container");if(0===Object.keys(g).length){const t=C("h4","no-review-msg");return t.textContent="No recommendations found.",e.appendChild(t),e.style="display: flex; justify-content: center;",e}for(let t in g)e.appendChild(E(g[t]));return e}}};async function m(e){const n=await async function(e){const n=function(e){return e.split(" ").join("+")}(e);try{const a=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${t}\n\t\t\t&language=en-US&query=${n}&page=1`,{mode:"cors"}),o=await a.json();let r=o.results.reduce(((e,t)=>(e[t.id]=t.media_type,e)),{});return o.results.sort(((e,t)=>t.popularity-e.popularity)).length?r:void alert(`No results found for "${e}".\nPlease check your spelling.`)}catch(e){throw e}}(e),a=document.querySelector(".main-container");document.querySelector(".loader").style.visibility="visible";let o=[];for(let e in n)o.push([e,n[e]]);const r=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("show")}))}));o.forEach((async e=>{await async function(e,t){const n=await u(e,t),o=document.createElement("div");o.classList.add("intro-sub-info"),o.appendChild(n.drawIntro("300")),o.appendChild(n.drawSubInfos());const r=document.createElement("div");r.classList.add("synopsis-watch-providers"),r.appendChild(n.drawSummaryHeading()),r.appendChild(n.drawSummary()),r.appendChild(n.drawProviders());const i=document.createElement("h2");i.classList.add("rec-heading"),i.textContent="RECOMMENDATIONS:",n.addToSection(o),n.addToSection(r),n.addToSection(n.drawReviews()),n.addToSection(n.drawTrailer()),n.addToSection(i),n.addToSection(n.drawRecs()),a.appendChild(n.section)}(e[0],e[1]).then((()=>{document.querySelector(".loader").style.visibility="hidden"})),document.getElementById("check-animation").checked&&[...document.getElementsByTagName("div")].forEach((e=>{e.classList.add("hidden"),r.observe(e)}))})),document.getElementById("input-search").value=e.split("+").join(" ")}function h(){[...document.querySelector(".main-container").getElementsByTagName("section")].forEach((e=>e.remove()))}(async function(){document.querySelector(".search-query").addEventListener("click",(async e=>{e.preventDefault();const t=document.getElementById("input-search").value.split(" ").join("+");t?(document.getElementById("title-page")&&document.getElementById("title-page").remove(),document.querySelector(".intro-container2")&&document.querySelector(".intro-container2").remove(),h(),await m(t)):alert("Please enter a valid movie/tv show")}))})(),function(){const t=document.getElementById("check-animation");t.addEventListener("click",(()=>{const n=document.querySelectorAll("div");t.checked?n.forEach((t=>{t.classList.add("hidden"),e.observe(t)})):n.forEach((t=>{t.classList.remove("hidden"),e.disconnect()}))}))}()})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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UzRHLGVBQWUsZ0JBQWdCQyxNQUFRMUYsRUFBTWlDLE1BQU0sS0FBS0UsS0FBSyxJQTZCdkUsQ0FFQSxTQUFTMkssSUFHUixJQUZhak8sU0FBU21JLGNBQWMsbUJBQ2RwQixxQkFBcUIsWUFDN0JqTyxTQUFRb1YsR0FBUUEsRUFBSzFGLFVBQ3BDLEVFNUVlblAsaUJBQ0kyRyxTQUFTbUksY0FBYyxpQkFDL0J2RixpQkFBaUIsU0FBU3ZKLE1BQU93SixJQUMxQ0EsRUFBRUMsaUJBQ0YsTUFBTStKLEVBQ0w3TSxTQUFTNEcsZUFBZSxnQkFBZ0JDLE1BdUI5QnpELE1BQU0sS0FBS0UsS0FBSyxLQXJCdEJ1SixHQU1GN00sU0FBUzRHLGVBQWUsZUFDMUI1RyxTQUFTNEcsZUFBZSxjQUFjNEIsU0FHcEN4SSxTQUFTbUksY0FBYyxzQkFDekJuSSxTQUFTbUksY0FBYyxxQkFBcUJLLFNBRzdDeUYsVUFDTXRCLEVBQWFFLElBZGxCTyxNQUFNLHFDQWNrQixHQUczQixFQ3BCSWUsR1JLVyxXQUNkLE1BQU1DLEVBQWlCcE8sU0FBUzRHLGVBQWUsbUJBQy9Dd0gsRUFBZXhMLGlCQUFpQixTQUFTLEtBQ3hDLE1BQU15TCxFQUFXck8sU0FBU3VKLGlCQUFpQixPQUN2QzZFLEVBQWVOLFFBQ2xCTyxFQUFTdlYsU0FBU2lWLElBQ2pCQSxFQUFHN1UsVUFBVUMsSUFBSSxVQUNqQlIsRUFBU3FWLFFBQVFELEVBQUcsSUFHckJNLEVBQVN2VixTQUFTaVYsSUFDakJBLEVBQUc3VSxVQUFVc1AsT0FBTyxVQUNwQjdQLEVBQVMyVixZQUFZLEdBRXZCLEdBRUYsQ1FwQklDLEUiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvVUkvY2hlY2tBbmltYXRpb24uanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL2FwaUZ1bmN0aW9ucy9jb25zdGFudC5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvYXBpRnVuY3Rpb25zL2ZldGNoTW92aWVJbmZvLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9hcGlGdW5jdGlvbnMvZmV0Y2hUdkluZm8uanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL0RPTUZ1bmN0aW9ucy9kcmF3U2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvRE9NRnVuY3Rpb25zL2RyYXdTZWN0aW9ucy5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvYXBpRnVuY3Rpb25zL2ZldGNoSWQuanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL1VJL3N1Ym1pdFNlYXJjaC5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvaW5kZXguanMiXSwic291cmNlc0NvbnRlbnQiOlsiLy8gQWRkIGNsaWNrIGV2ZW50IGxpc3RlbmVyIGZvciBjaGVja2JveCB0aGF0IGF1dG9tYXRpY2FsbHkgZGlzYWJsZXMgYW5pbWF0aW9uXG4vLyBhbmQgcmVsb2FkcyB0aGUgcGFnZS5cbmNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG5cdGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcblx0XHRpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcblx0XHRcdGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVG9nZ2xlQW5pbWF0aW9uRm5jKCkge1xuXHRjb25zdCBhbmltYXRpb25DaGVjayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hlY2stYW5pbWF0aW9uXCIpO1xuXHRhbmltYXRpb25DaGVjay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXHRcdGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdlwiKTtcblx0XHRpZiAoYW5pbWF0aW9uQ2hlY2suY2hlY2tlZCkge1xuXHRcdFx0ZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0ZWwuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcblx0XHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcblx0XHRcdFx0b2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcbn1cbiIsImV4cG9ydCBjb25zdCBBUElfS0VZID0gXCI3MjBkMjE1MGNmMDliZmE2MWUyOGE1MDQyY2Q3NDY4ZlwiO1xuIiwiaW1wb3J0IHsgQVBJX0tFWSB9IGZyb20gXCIuL2NvbnN0YW50XCI7XG4vKipcbiAqIEZldGNoZXMgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIGRldGFpbHMgb2YgYSBtb3ZpZSBhbmQgcmV0dXJuIG9ubHkgdGhlIG1vc3RcbiAqIHJlbGV2YW50IGluZm9ybWF0aW9uLlxuICogQHBhcmFtIHtOdW1iZXJ9IG1vdmllX2lkIElkZW50aWZpZXMgdGhlIG1vdmllIGFzIGFuIGludGVnZXJcbiAqIEByZXR1cm5zIHtPYmplY3R9XG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVEZXRhaWxzKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL21vdmllLyR7bW92aWVfaWR9P2FwaV9rZXk9JHtBUElfS0VZfVxuXHRcdFx0Jmxhbmd1YWdlPWVuLVVTYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3Qge1xuXHRcdFx0b3JpZ2luYWxfdGl0bGUsXG5cdFx0XHRvdmVydmlldyxcblx0XHRcdHRhZ2xpbmUsXG5cdFx0XHRwb3B1bGFyaXR5LFxuXHRcdFx0dm90ZV9hdmVyYWdlLFxuXHRcdFx0dm90ZV9jb3VudCxcblx0XHRcdGdlbnJlcyxcblx0XHRcdHZpZGVvLFxuXHRcdFx0cnVudGltZSxcblx0XHRcdHBvc3Rlcl9wYXRoLFxuXHRcdFx0YmFja2Ryb3BfcGF0aCxcblx0XHRcdHJlbGVhc2VfZGF0ZSxcblx0XHR9ID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgZ2VucmVOYW1lcyA9IGdlbnJlcy5tYXAoKGdlbnJlKSA9PiBnZW5yZS5uYW1lKTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHRtTmFtZTogb3JpZ2luYWxfdGl0bGUsXG5cdFx0XHRzdW1tYXJ5OiBvdmVydmlldyxcblx0XHRcdHRhZ2xpbmUsXG5cdFx0XHRwb3B1bGFyaXR5LFxuXHRcdFx0dm90ZV9hdmVyYWdlLFxuXHRcdFx0dm90ZV9jb3VudCxcblx0XHRcdGdlbnJlczogZ2VucmVOYW1lcyxcblx0XHRcdHZpZGVvLFxuXHRcdFx0cnVudGltZSxcblx0XHRcdHBvc3Rlcl9wYXRoLFxuXHRcdFx0YmFja2Ryb3BfcGF0aCxcblx0XHRcdHJlbGVhc2VfZGF0ZSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdC8vIFNxdWFzaGVkXG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIG1vdmllIGRldGFpbHMgJHtlcnJvci5tZXNzYWdlfWApO1xuXHR9XG59XG5cbi8qKlxuICogUmV1cm5zIG1vdmllIHJlY29tbWVuZGF0aW9ucyBhcyBhbiBvYmplY3Qgd2l0aCBpdHMgcmVsZXZhbnQgaW5mb3JtYXRpb24uXG4gKiBNYXhpbXVtIDUgbW92aWVzIGNhbiBiZSByZWNvbW1lbmRlZCBhbmQgdGhlIC5cbiAqIEBwYXJhbSB7TnVtYmVyfSBtb3ZpZV9pZCBJZGVudGlmaWVzIHRoZSBtb3ZpZSBhcyBhbiBJbnRlZ2VyLlxuICogQHJldHVybnMge09iamVjdH1cdFx0QW4gb2JqZWN0IHRoYXQgaGFzIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiB3aXRoXG4gKiBcdFx0XHRcdFx0XHRcdGl0J3MgaW1hZ2VzLCB0aXRsZSwgaWQgYW5kIHJlbGV2YW50IHZvdGUgaW5mby5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVJlY2Nvcyhtb3ZpZV9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS9yZWNvbW1lbmRhdGlvbnNcblx0XHRcdD9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggbW92aWUgcmVjb21tZW5kYXRpb25zIGZyb20gQVBJLlwiKTtcblx0XHR9XG5cblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Ly8gT25seSByZXRyaWV2ZSB0aGUgaW5mbyBvbiB0aGUgZmlyc3QgNSBtb3ZpZSByZWNvbW1lbmRhdGlvbnMuXG5cdFx0Y29uc3QgcmVjY29zID0gZGF0YS5yZXN1bHRzLnNsaWNlKDAsIDUpLm1hcCgobW92aWUpID0+ICh7XG5cdFx0XHRtTmFtZTogbW92aWUub3JpZ2luYWxfdGl0bGUsXG5cdFx0XHRpZDogbW92aWUuaWQsXG5cdFx0XHRwb3N0ZXJfcGF0aDogbW92aWUucG9zdGVyX3BhdGgsXG5cdFx0XHRiYWNrZHJvcF9wYXRoOiBtb3ZpZS5iYWNrZHJvcF9wYXRoLFxuXHRcdFx0cmVsZWFzZV9kYXRlOiBtb3ZpZS5yZWxlYXNlX2RhdGUsXG5cdFx0XHR2b3RlX2NvdW50OiBtb3ZpZS52b3RlX2NvdW50LFxuXHRcdFx0dm90ZV9hdmVyYWdlOiBtb3ZpZS52b3RlX2F2ZXJhZ2UsXG5cdFx0fSkpO1xuXG5cdFx0cmV0dXJuIHJlY2Nvcztcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKFxuXHRcdFx0YEZhaWxlZCB0byBmZXRjaCBtb3ZpZSByZWNvbW1lbmRhdGlvbnM6ICR7ZXJyb3IubWVzc2FnZX1gXG5cdFx0KTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIChzdHJlYW1pbmcsIHB1cmNoYXNlIGFuZC9vciByZW50KSBvZiB0aGVcbiAqIG1vdmllIHByb3ZpZGVycy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBtb3ZpZV9pZCBJZGVudGlmaWVzIHRoZSBtb3ZpZSBhcyBhbiBJbnRlZ2VyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllUHJvdmlkZXJzKG1vdmllX2lkKSB7XG5cdGNvbnN0IHByb3ZpZGVyc0J5Q291bnRyeSA9IHt9O1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS93YXRjaC9wcm92aWRlcnNcblx0XHRcdD9hcGlfa2V5PSR7QVBJX0tFWX1gLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Zm9yIChjb25zdCBjb3VudHJ5Q29kZSBpbiBkYXRhLnJlc3VsdHMpIHtcblx0XHRcdGNvbnN0IGNvdW50cnkgPSBnZXRDb3VudHJ5TmFtZShjb3VudHJ5Q29kZSk7XG5cdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0gPSB7XG5cdFx0XHRcdHN0cmVhbTogW10sXG5cdFx0XHRcdHJlbnQ6IFtdLFxuXHRcdFx0XHRidXk6IFtdLFxuXHRcdFx0XHRjb3VudHJ5Q29kZTogY291bnRyeUNvZGUsXG5cdFx0XHR9O1xuXG5cdFx0XHQvKlxuXHRcdFx0U29ydHMgcHJvdmlkZXJzIGJhc2VkIG9uIGNvdW50cnkgYW5kIHNlcnZpY2VzIHRoZXkgcHJvdmlkZS5cblxuXHRcdFx0VGFrZXMgaW4gdHlwZSBvZiBzZXJ2aWNlcyBhcyBwYXJhbSA9PiBbXCJmbGF0cmF0ZSAoc3RyZWFtaW5nKVwiLCBcblx0XHRcdFwicmVudFwiLCBcImJ1eVwiXSBhbmQgYW4gYXJyYXkgdG8gYXBwZW5kIGl0IHRvLlxuXHRcdFx0Ki9cblx0XHRcdGNvbnN0IHNvcnRQcm92aWRlcnMgPSAoc2VydmljZXMsIGNvbGxlY3Rpb24pID0+IHtcblx0XHRcdFx0aWYgKHNlcnZpY2VzKSB7XG5cdFx0XHRcdFx0c2VydmljZXMuZm9yRWFjaCgoc2VydmljZSkgPT4ge1xuXHRcdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJJbmZvID0ge1xuXHRcdFx0XHRcdFx0XHRwcm92aWRlcl9uYW1lOiBzZXJ2aWNlLnByb3ZpZGVyX25hbWUsXG5cdFx0XHRcdFx0XHRcdHByb3ZpZGVyX2xvZ29fcGF0aDogc2VydmljZS5sb2dvX3BhdGgsXG5cdFx0XHRcdFx0XHR9O1xuXHRcdFx0XHRcdFx0Y29sbGVjdGlvbi5wdXNoKHByb3ZpZGVySW5mbyk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdH1cblx0XHRcdH07XG5cblx0XHRcdC8vIEFkZCBzdHJlYW1pbmcgc2VydmljZXMgZm9yIHNwZWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLmZsYXRyYXRlLFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0uc3RyZWFtXG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBBZGQgcmVudGluZyBzZXJ2aWNlcyBmb3Igc3BlaWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLnJlbnQsXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5yZW50XG5cdFx0XHQpO1xuXG5cdFx0XHQvLyBBZGQgYnV5aW5nIHNlcnZpY2VzIGZvciBzcGVjaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5idXksXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5idXlcblx0XHRcdCk7XG5cdFx0fVxuXHRcdHJldHVybiBwcm92aWRlcnNCeUNvdW50cnk7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcm9yKGBGYWlsZWQgdG8gZmV0Y2ggbW92aWUgcHJvdmlkZXJzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiBvZiB0aGUgbW92aWUgdHJhaWxlci4gVGhlIGlkIHNob3VsZCBhbHNvXG4gKiBiZSByZXRyaWV2ZWQgc28gdGhhdCB0aGUgdXNlciBjYW4gc2VhcmNoIGZvciB0aGUgbW92aWUgcmVzcGVjdGl2ZWx5LlxuICogQHBhcmFtIHtOdW1iZXJ9IG1vdmllX2lkIElkZW50aWZpZXMgdGhlIG1vdmllIGFzIGFuIEludGVnZXIuXG4gKiBAcmV0dXJucyB7T2JqZWN0fVx0XHRSZWxldmFudCBpbmZvIG9mIHRyYWlsZXIgaW5jbHVkaW5nIHZpZGVvIG5hbWUsIHNpdGVcbiAqIFx0XHRcdFx0XHRcdFx0bGFuZ3VhZ2UgYW5kIHR5cGUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVUcmFpbGVyKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL21vdmllLyR7bW92aWVfaWR9L3ZpZGVvcz9hcGlfa2V5PVxuXHRcdFx0JHtBUElfS0VZfSZtb2RlPWNvcnNgXG5cdFx0KTtcblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggbW92aWUgdHJhaWxlcnMgZnJvbSBBUEkuXCIpO1xuXHRcdH1cblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Ly8gRmluZCBhbGwgdHJhaWxlcnNcblx0XHRjb25zdCB0cmFpbGVycyA9IGRhdGEucmVzdWx0cy5maWx0ZXIoXG5cdFx0XHQodmlkZW8pID0+IHZpZGVvLnR5cGUgPT09IFwiVHJhaWxlclwiXG5cdFx0KTtcblx0XHRpZiAodHJhaWxlcnMubGVuZ3RoID09PSAwKSByZXR1cm47XG5cblx0XHQvLyBGaW5kIG9mZmljaWFsIHRyYWlsZXIuT1IgdXNlIGZpcnN0IHRyYWlsZXJcblx0XHRjb25zdCBtb3ZpZVRyYWlsZXIgPVxuXHRcdFx0dHJhaWxlcnMuZmluZCgodmlkZW8pID0+IHZpZGVvLm9mZmljaWFsID09PSB0cnVlKSB8fCB0cmFpbGVyc1swXTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0TmFtZTogbW92aWVUcmFpbGVyLm5hbWUsXG5cdFx0XHRrZXk6IG1vdmllVHJhaWxlci5rZXksXG5cdFx0XHRzaXRlOiBtb3ZpZVRyYWlsZXIuc2l0ZSxcblx0XHRcdHR5cGU6IG1vdmllVHJhaWxlci50eXBlLFxuXHRcdFx0bGFuZzogZ2V0TGFuZ3VhZ2UobW92aWVUcmFpbGVyLmlzb182MzlfMSksXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggbW92aWUgdHJhaWxlcnM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IDUgcmV2aWV3cyB3aXRoIHRoZWlyIHJhdGluZ3MsIGF1dGhvciBpbmZvcm1hdGlvbiBhbmQgbGlua3MuXG4gKiBAcGFyYW0ge051bWJlcn0gbW92aWVfaWQgSWRlbnRpZmllcyB0aGUgbW92aWUgYXMgYW4gSW50ZWdlclxuICogQHJldHVybnMge09iamVjdH1cdFx0UmV2aWV3IGluZm9ybWF0aW9uIGluY2x1ZGluZyB0aGUgY29udGVudCwgYXV0aG9yLFxuICogXHRcdFx0XHRcdFx0XHRsaW5rcyBhbmQgcmF0aW5ncy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVJldmlld3MobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRsZXQgcmV2aWV3cyA9IFtdO1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS9yZXZpZXdzP2FwaV9rZXk9XG5cdFx0XHQke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0aWYgKGRhdGEucmVzdWx0cy5sZW5ndGggPT09IDApIHJldHVybiBmYWxzZTtcblxuXHRcdGRhdGEucmVzdWx0cy5mb3JFYWNoKChyZXZpZXcpID0+IHtcblx0XHRcdHJldmlld3MucHVzaCh7XG5cdFx0XHRcdGF1dGhvcjogcmV2aWV3LmF1dGhvcixcblx0XHRcdFx0cmF0aW5nOiByZXZpZXcuYXV0aG9yX2RldGFpbHM/LnJhdGluZyxcblx0XHRcdFx0cGljX3BhdGg6IHJldmlldy5hdXRob3JfZGV0YWlscz8uYXZhdGFyX3BhdGgsXG5cdFx0XHRcdGNvbnRlbnQ6IHJldmlldy5jb250ZW50LFxuXHRcdFx0XHR1cmw6IHJldmlldy51cmwsXG5cdFx0XHRcdGxhc3RfdXBkYXRlZDogcmV2aWV3LnVwZGF0ZWRfYXQsXG5cdFx0XHR9KTtcblx0XHR9KTtcblx0XHRyZXR1cm4gcmV2aWV3cy5zbGljZSgwLCA1KTsgLy8gRmlyc3QgNSByZXZpZXdzIHJldHVybmVkXG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbCB0byBmZXRjaCBtb3ZpZSByZXZpZXdzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdH1cbn1cblxuLy8gSGVscGVyIGZuY3NcbmZ1bmN0aW9uIGdldENvdW50cnlOYW1lKGNvZGUpIHtcblx0bGV0IHJlZ2lvbk5hbWVzID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwicmVnaW9uXCIgfSk7XG5cdHJldHVybiByZWdpb25OYW1lcy5vZihjb2RlKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFuZ3VhZ2UoY29kZSkge1xuXHRjb25zdCBsYW5nID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwibGFuZ3VhZ2VcIiB9KTtcblx0cmV0dXJuIGxhbmcub2YoY29kZSk7XG59XG5leHBvcnQge1xuXHRmZXRjaE1vdmllRGV0YWlscyxcblx0ZmV0Y2hNb3ZpZVJlY2Nvcyxcblx0ZmV0Y2hNb3ZpZVByb3ZpZGVycyxcblx0ZmV0Y2hNb3ZpZVRyYWlsZXIsXG5cdGZldGNoTW92aWVSZXZpZXdzLFxuXHRnZXRDb3VudHJ5TmFtZSxcbn07XG4iLCJpbXBvcnQgeyBBUElfS0VZIH0gZnJvbSBcIi4vY29uc3RhbnRcIjtcbi8qKlxuICogUmV0dXJucyB0aGUgcmVsZXZhbnQgaW5mb3JtYXRpb24gb2YgYSB0diBzaG93IGJhc2VkIG9uIGl0cyBpZC5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0dl9pZCBJZGVudGlmaWVzIHR2IHNob3cgYnkgYW4gaW50ZWdlclxuICogQHJldHVybnMge09iamVjdH1cdCBSZWxldmFudCBpbmZvcm1hdGlvbiBvZiBUViBTSE9XLiBpLmUuIG5hbWUgYW5kIG51bWJlclxuICogXHRcdFx0XHRcdFx0IHNlYXNvbnNcbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hUdkRldGFpbHModHZfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvdHYvJHt0dl9pZH0/YXBpX2tleT0ke0FQSV9LRVl9XG5cdFx0XHQmbGFuZ3VhZ2U9ZW4tVVNgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblxuXHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBUViBkZXRhaWxzIGZyb20gQVBJLlwiKTtcblx0XHR9XG5cblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXG5cdFx0Y29uc3QgZ2VucmVzID0gZGF0YS5nZW5yZXMucmVkdWNlKChhY2MsIHZhbCkgPT4gWy4uLmFjYywgdmFsLm5hbWVdLCBbXSk7XG5cblx0XHRjb25zdCBnZW5lcmFsSW5mbyA9IHtcblx0XHRcdHROYW1lOiBkYXRhLm9yaWdpbmFsX25hbWUsXG5cdFx0XHR0YWdsaW5lOiBkYXRhLnRhZ2xpbmUsXG5cdFx0XHRsYW5ndWFnZTogZGF0YS5vcmlnaW5hbF9sYW5ndWFnZSxcblx0XHRcdHN1bW1hcnk6IGRhdGEub3ZlcnZpZXcsXG5cdFx0XHRlcGlzb2RlX3J1bl90aW1lOiBkYXRhLmVwaXNvZGVfcnVuX3RpbWVbMF0sXG5cdFx0XHRvcmlnaW5fY291bnRyeTogZGF0YS5vcmlnaW5fY291bnRyeSxcblx0XHRcdHZvdGVfYXZlcmFnZTogZGF0YS52b3RlX2F2ZXJhZ2UsXG5cdFx0XHR2b3RlX2NvdW50OiBkYXRhLnZvdGVfY291bnQsXG5cdFx0XHRzdGF0dXM6IGRhdGEuc3RhdHVzLFxuXHRcdFx0c2Vhc29uczogZGF0YS5zZWFzb25zLFxuXHRcdFx0bnVtYmVyX29mX3NlYXNvbnM6IGRhdGEubnVtYmVyX29mX3NlYXNvbnMsXG5cdFx0XHRmaXJzdF9haXJfZGF0ZTogZGF0YS5maXJzdF9haXJfZGF0ZSxcblx0XHRcdGxhc3RfYWlyX2RhdGU6IGRhdGEubGFzdF9haXJfZGF0ZSxcblx0XHRcdGJhY2tkcm9wX3BhdGg6IGRhdGEuYmFja2Ryb3BfcGF0aCxcblx0XHRcdHBvc3Rlcl9wYXRoOiBkYXRhLnBvc3Rlcl9wYXRoLFxuXHRcdFx0cG9wdWxhcml0eTogZGF0YS5wb3B1bGFyaXR5LFxuXHRcdFx0Z2VucmVzOiBnZW5yZXMsXG5cdFx0fTtcblx0XHRyZXR1cm4gZ2VuZXJhbEluZm87XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdGBGYWlsZWQgdG8gZmV0Y2ggcmVsZXZhbnQgaW5mb3JtYXRpb24gZm9yIFRWIFNIT1c6ICR7ZXJyb3IubWVzc2FnZX1gXG5cdFx0KTtcblx0fVxufVxuXG4vKlxuUmV0dXJucyBhbiBhcnJheSBvZiByZWNvbW1lbmRlZCB0diBzaG93cyB3aXRoIHRoZWlyIG5hbWUsIGlkLCBwb3N0ZXJfcGF0aCBhbmRcbmJhY2tkcm9wX3BhdGggcmVjb3JkZWQuIFxuSWYgbm8gbW92aWVzIGFyZSByZWNvbW1lbmRlZCwgcmV0dXJuIG51bGw7XG4qL1xuLyoqXG4gKiBSZXR1cm5zLCBhdCBtb3N0IDUsIHJlY29tbWVuZGF0aW9uIGJhc2VkIG9uIHRoZSBzcGVjaWZpZWQgVFYgU0hPVy4gVGhlXG4gKiBtb3N0IHJlbGV2YW50IGluZm9ybWF0aW9uIGZvciBlYWNoIHJlY2NvIGlzIHJldHVybmVkIGFzIGFuIG9iamVjdC5cbiAqIEBwYXJhbSB7TnVtYmVyfSB0dl9pZCBJZGVudGlmaWVzIHRoZSBzcGVjaWZpZWQgVFYgc2hvdyBieSBhbiBJbnRlZ2VyXG4gKiBAcmV0dXJucyB7T2JqZWN0fSBcdCBNYXggNSByZWNvbW1lbmRhdGlvbnMgd2l0aCBpdHMgcmVsZXZhbnQgaW5mb3JtYXRpb25cbiAqIFx0XHRcdFx0XHRcdCBhcyBhbiBvYmplY3QuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVHZSZWNjb3ModHZfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvdHYvJHt0dl9pZH0vcmVjb21tZW5kYXRpb25zP2FwaV9rZXk9JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZwYWdlPTFgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggVFYgcmVjb21tZW5kYXRpb25zIGZyb20gQVBJLlwiKTtcblx0XHR9XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGNvbnN0IHJlY1R2cyA9IGRhdGEucmVzdWx0cz8uc2xpY2UoMCwgNSkucmVkdWNlKChhY2MsIHR2KSA9PiB7XG5cdFx0XHRhY2NbdHYub3JpZ2luYWxfbmFtZV0gPSB7XG5cdFx0XHRcdHROYW1lOiB0di5vcmlnaW5hbF9uYW1lLFxuXHRcdFx0XHRpZDogdHYuaWQsXG5cdFx0XHRcdGZpcnN0X2Fpcl9kYXRlOiB0di5maXJzdF9haXJfZGF0ZSxcblx0XHRcdFx0cG9zdGVyX3BhdGg6IHR2LnBvc3Rlcl9wYXRoLFxuXHRcdFx0XHRiYWNrZHJvcF9wYXRoOiB0di5iYWNrZHJvcF9wYXRoLFxuXHRcdFx0XHR2b3RlX2F2ZXJhZ2U6IHR2LnZvdGVfYXZlcmFnZSxcblx0XHRcdFx0dm90ZV9jb3VudDogdHYudm90ZV9jb3VudCxcblx0XHRcdH07XG5cdFx0XHRyZXR1cm4gYWNjO1xuXHRcdH0sIHt9KTtcblxuXHRcdHJldHVybiByZWNUdnMgfHwge307XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIFRWIHJlY29tbWVuZGF0aW9uczogJHtlcnJvci5tZXNzYWdlfWApO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyByZWxldmFudCBUViBwcm92aWRlcnMgYmFzZWQgb24gdGhlIHNlbGVjdGVkIFRWIHNob3cuXG4gKiBAcGFyYW0ge051bWJlcn0gdHZfaWQgSWRlbnRpZmllcyB0aGUgc3BlY2lmaWVkIFRWIHNob3cgYnkgYW4gSW50ZWdlclxuICogQHJldHVybnMge09iamVjdH1cdCBUViBwcm92aWRlcnMgZm9yIHN0cmVhbWluZywgcHVyY2hhc2UgYW5kL29yIHJlbnRcbiAqIFx0XHRcdFx0XHRcdCBmb3IgdGhlIHNwZWNpZmllZCBUViBzaG93LlxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaFR2UHJvdmlkZXJzKHR2X2lkKSB7XG5cdGNvbnN0IHByb3ZpZGVyc0J5Q291bnRyeSA9IHt9O1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy90di8ke3R2X2lkfS93YXRjaC9wcm92aWRlcnM/YXBpX2tleT0ke0FQSV9LRVl9YCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoYEZhaWxlZCB0byBmZXRjaCBUViBzaG93IHByb3ZpZGVycyBmcm9tIEFQSS5gKTtcblx0XHR9XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGZvciAoY29uc3QgY291bnRyeUNvZGUgaW4gZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRjb25zdCBjb3VudHJ5ID0gZ2V0Q291bnRyeU5hbWUoY291bnRyeUNvZGUpO1xuXHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldID0ge1xuXHRcdFx0XHRzdHJlYW06IFtdLFxuXHRcdFx0XHRyZW50OiBbXSxcblx0XHRcdFx0YnV5OiBbXSxcblx0XHRcdFx0Y291bnRyeUNvZGU6IGNvdW50cnlDb2RlLFxuXHRcdFx0fTtcblxuXHRcdFx0Lypcblx0XHRcdFNvcnRzIHByb3ZpZGVycyBiYXNlZCBvbiBjb3VudHJ5IGFuZCBzZXJ2aWNlcyB0aGV5IHByb3ZpZGUuXG5cblx0XHRcdFRha2VzIGluIHR5cGUgb2Ygc2VydmljZXMgYXMgcGFyYW0gPT4gW1wiZmxhdHJhdGUgKHN0cmVhbWluZylcIiwgXG5cdFx0XHRcInJlbnRcIiwgXCJidXlcIl0gYW5kIGFuIGFycmF5IHRvIGFwcGVuZCBpdCB0by5cblx0XHRcdCovXG5cdFx0XHRjb25zdCBzb3J0UHJvdmlkZXJzID0gKHNlcnZpY2VzLCBjb2xsZWN0aW9uKSA9PiB7XG5cdFx0XHRcdGlmIChzZXJ2aWNlcykge1xuXHRcdFx0XHRcdHNlcnZpY2VzLmZvckVhY2goKHNlcnZpY2UpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVySW5mbyA9IHtcblx0XHRcdFx0XHRcdFx0cHJvdmlkZXJfbmFtZTogc2VydmljZS5wcm92aWRlcl9uYW1lLFxuXHRcdFx0XHRcdFx0XHRwcm92aWRlcl9sb2dvX3BhdGg6IHNlcnZpY2UubG9nb19wYXRoLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGNvbGxlY3Rpb24ucHVzaChwcm92aWRlckluZm8pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBBZGQgc3RyZWFtaW5nIHNlcnZpY2VzIGZvciBzcGVjaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5mbGF0cmF0ZSxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLnN0cmVhbVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gQWRkIHJlbnRpbmcgc2VydmljZXMgZm9yIHNwZWljaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5yZW50LFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0ucmVudFxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gQWRkIGJ1eWluZyBzZXJ2aWNlcyBmb3Igc3BlY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0uYnV5LFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0uYnV5XG5cdFx0XHQpO1xuXHRcdH1cblx0XHRyZXR1cm4gcHJvdmlkZXJzQnlDb3VudHJ5O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBUViBwcm92aWRlcnM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIG9mIHRoZSB0diB0cmFpbGVyLiBUaGUgaWQgc2hvdWxkIGFsc29cbiAqIGJlIHJldHJpZXZlZCBzbyB0aGF0IHRoZSB1c2VyIGNhbiBzZWFyY2ggZm9yIHRoZSB0diByZXNwZWN0aXZlbHkuXG4gKiBAcGFyYW0ge051bWJlcn0gdHZfaWQgSWRlbnRpZmllcyB0aGUgdHYgc2hvdyBhcyBhbiBJbnRlZ2VyLlxuICogQHJldHVybnMge09iamVjdH1cdCBSZWxldmFudCBpbmZvIG9mIHRyYWlsZXIgaW5jbHVkaW5nIHZpZGVvIG5hbWUsIHNpdGVcbiAqIFx0XHRcdFx0XHRcdCBsYW5ndWFnZSBhbmQgdHlwZS5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hUdlRyYWlsZXIodHZfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvdHYvJHt0dl9pZH0vdmlkZW9zP2FwaV9rZXk9JHtBUElfS0VZfWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBUViB0cmFpbGVyIGZyb20gQVBJLlwiKTtcblx0XHR9XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGNvbnN0IHRyYWlsZXJzID0gZGF0YS5yZXN1bHRzLmZpbHRlcihcblx0XHRcdCh2aWRlbykgPT4gdmlkZW8udHlwZSA9PT0gXCJUcmFpbGVyXCJcblx0XHQpO1xuXG5cdFx0aWYgKHRyYWlsZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG5cdFx0Ly8gRmluZCBvZmZpY2lhbCB0cmFpbGVyIG9yIHVzZSB0aGUgZmlyc3QgdHJhaWxlci5cblx0XHRjb25zdCB0dlRyYWlsZXIgPVxuXHRcdFx0dHJhaWxlcnMuZmluZCgodmlkZW8pID0+IHZpZGVvLm9mZmljaWFsID09PSB0cnVlKSB8fCB0cmFpbGVyc1swXTtcblxuXHRcdHJldHVybiB7XG5cdFx0XHR0TmFtZTogdHZUcmFpbGVyLm5hbWUsXG5cdFx0XHRrZXk6IHR2VHJhaWxlci5rZXksXG5cdFx0XHRzaXRlOiB0dlRyYWlsZXIuc2l0ZSxcblx0XHRcdHR5cGU6IHR2VHJhaWxlci50eXBlLFxuXHRcdFx0bGFuZzogZ2V0TGFuZ3VhZ2UodHZUcmFpbGVyLmlzb182MzlfMSksXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggVFYgdHJhaWxlcjogJHtlcnJvci5tZXNzYWdlfWApO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgZmlyc3QgNSByZXZpZXdzIHdpdGggdGhlaXIgcmF0aW5ncywgYXV0aG9yIGluZm9ybWF0aW9uIGFuZCBsaW5rcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBtb3ZpZV9pZCBJZGVudGlmaWVzIHRoZSBUViBzaG93IGFzIGFuIEludGVnZXJcbiAqIEByZXR1cm5zIHtPYmplY3R9XHRcdFJldmlldyBpbmZvcm1hdGlvbiBpbmNsdWRpbmcgdGhlIGNvbnRlbnQsIGF1dGhvcixcbiAqIFx0XHRcdFx0XHRcdFx0bGlua3MgYW5kIHJhdGluZ3MuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVHZSZXZpZXdzKHR2X2lkKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3R2LyR7dHZfaWR9L3Jldmlld3M/YXBpX2tleT1cblx0XHRcdCR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIFRWIHJldmlld3MgZnJvbSBBUEkuXCIpO1xuXHRcdH1cblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdGlmIChkYXRhLnJlc3VsdHMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cblx0XHRjb25zdCByZXZpZXdzID0gZGF0YS5yZXN1bHRzXG5cdFx0XHQubWFwKChyZXZpZXcpID0+ICh7XG5cdFx0XHRcdGF1dGhvcjogcmV2aWV3LmF1dGhvcixcblx0XHRcdFx0cmF0aW5nOiByZXZpZXcuYXV0aG9yX2RldGFpbHM/LnJhdGluZyxcblx0XHRcdFx0cGljX3BhdGg6IHJldmlldy5hdXRob3JfZGV0YWlscz8uYXZhdGFyX3BhdGgsXG5cdFx0XHRcdGNvbnRlbnQ6IHJldmlldy5jb250ZW50LFxuXHRcdFx0XHR1cmw6IHJldmlldy51cmwsXG5cdFx0XHRcdGxhc3RfdXBkYXRlZDogcmV2aWV3LnVwZGF0ZWRfYXQsXG5cdFx0XHR9KSlcblx0XHRcdC5zbGljZSgwLCA1KTsgLy8gT25seSByZXR1cm4gdGhlIGZpcnN0IDUgcmV2aWV3cyBtYXhpbXVtLlxuXG5cdFx0cmV0dXJuIHJldmlld3M7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIFRWIHJldmlld3M6ICR7ZXJyb3IubWVzc2FnZX1gKTtcblx0fVxufVxuXG4vLyBIZWxwZXIgZm5jc1xuZnVuY3Rpb24gZ2V0Q291bnRyeU5hbWUoY29kZSkge1xuXHRsZXQgcmVnaW9uTmFtZXMgPSBuZXcgSW50bC5EaXNwbGF5TmFtZXMoW1wiZW5cIl0sIHsgdHlwZTogXCJyZWdpb25cIiB9KTtcblx0cmV0dXJuIHJlZ2lvbk5hbWVzLm9mKGNvZGUpO1xufVxuXG5mdW5jdGlvbiBnZXRMYW5ndWFnZShjb2RlKSB7XG5cdGNvbnN0IGxhbmcgPSBuZXcgSW50bC5EaXNwbGF5TmFtZXMoW1wiZW5cIl0sIHsgdHlwZTogXCJsYW5ndWFnZVwiIH0pO1xuXHRyZXR1cm4gbGFuZy5vZihjb2RlKTtcbn1cbmV4cG9ydCB7XG5cdGZldGNoVHZEZXRhaWxzLFxuXHRmZXRjaFR2UmVjY29zLFxuXHRmZXRjaFR2UHJvdmlkZXJzLFxuXHRmZXRjaFR2VHJhaWxlcixcblx0ZmV0Y2hUdlJldmlld3MsXG59O1xuIiwiaW1wb3J0ICogYXMgbW92aWUgZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mb1wiO1xuaW1wb3J0ICogYXMgdHYgZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaFR2SW5mb1wiO1xuaW1wb3J0ICogYXMgcGFnZSBmcm9tIFwiLi9kcmF3U2VjdGlvbnNcIjtcblxuLyoqXG4gKiBEcmF3IGFuIGluZGl2aWR1YWwgc2VjdGlvbiBiYXNlZCBvbiB1c2VyIGlucHV0IHF1ZXJ5LlxuICogVGhpcyBzZWN0aW9uIHdpbGwgY29uc3RzIG9mIHRoZSBvdmVyYWxsIG1vdmllL3R2J3NcbiAqIFx0LSBEZXRhaWxzLFxuICogXHQtIFRoZSB3YXRjaCBwcm92aWRlcnMgYmFzZWQgb24gc3BlY2lmaWMgY291bnRyaWVzXG4gKiBcdC0gQXZhaWxhYmxlIHRyYWlsZXJzLFxuICogXHQtIE90aGVyIHJlY29tbWVuZGF0aW9ucy5cbiAqIFx0LSBSZXZpZXdzIGJ5IGVzdGFibGlzaGVkIGF1dGhvcnMgYmFzZWQgZnJvbSByYW5kb20gc291cmNlcy5cbiAqIEBwYXJhbSB7TnVtYmVyfSBpZCBBbiBpbnRlZ2VyIHJlcHJlc2VudGluZyB0aGUgc2VsZWN0ZWQgbW92aWUgb3IgVFYgc2hvd1xuICogQHBhcmFtIHtTdHJpbmd9IG1lZGlhIFRoZSBzcGVjaWZpZWQgbWVkaWEgdHlwZSBvZiB0aGUgbW92aWUgLyBUViBzaG93XG4gKiBAcmV0dXJucyB7T2JqZWN0fVx0IEZ1bmN0aW9ucyB0aGF0IGRyYXdzIGFsbCByZWxldmFudCBpbmZvcm1hdGlvbiBpbiBhXG4gKiBcdFx0XHRcdFx0XHQgYXMgYSBzZWN0aW9uLlxuICovXG5jb25zdCBkcmF3U2VjdGlvbiA9IGFzeW5jIChpZCwgbWVkaWEpID0+IHtcblx0Y29uc3Qgc2VjdGlvbiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWN0aW9uXCIpO1xuXHRjb25zdCBkZXRhaWxzID0gYXdhaXQgZ2V0SW5mbyhcblx0XHRpZCxcblx0XHRtb3ZpZS5mZXRjaE1vdmllRGV0YWlscyxcblx0XHR0di5mZXRjaFR2RGV0YWlsc1xuXHQpO1xuXHRjb25zdCByZWNzID0gYXdhaXQgZ2V0SW5mbyhpZCwgbW92aWUuZmV0Y2hNb3ZpZVJlY2NvcywgdHYuZmV0Y2hUdlJlY2Nvcyk7XG5cdGNvbnN0IHByb3ZpZGVycyA9IGF3YWl0IGdldEluZm8oXG5cdFx0aWQsXG5cdFx0bW92aWUuZmV0Y2hNb3ZpZVByb3ZpZGVycyxcblx0XHR0di5mZXRjaFR2UHJvdmlkZXJzXG5cdCk7XG5cdGNvbnN0IHRyYWlsZXIgPSBhd2FpdCBnZXRJbmZvKFxuXHRcdGlkLFxuXHRcdG1vdmllLmZldGNoTW92aWVUcmFpbGVyLFxuXHRcdHR2LmZldGNoVHZUcmFpbGVyXG5cdCk7XG5cdGNvbnN0IHJldmlld3MgPSBhd2FpdCBnZXRJbmZvKFxuXHRcdGlkLFxuXHRcdG1vdmllLmZldGNoTW92aWVSZXZpZXdzLFxuXHRcdHR2LmZldGNoVHZSZXZpZXdzXG5cdCk7XG5cblx0c2VjdGlvbi5jbGFzc0xpc3QuYWRkKFwic2VjdGlvbi1jb250YWluZXJcIik7XG5cdGZ1bmN0aW9uIGRyYXdBbGwoKSB7XG5cdFx0YWRkVG9TZWN0aW9uKGRyYXdJbnRybygpKTtcblx0fVxuXG5cdC8vIElmIGNlcnRhaW4gaW5mbyBleGlzdHMsIGkuZS4gcmV2aWV3cywgYXBwZW5kLCBkcmF3IHRoZSByZWxldmFudFxuXHQvLyBpbmZvcm1hdGlvbiBhbmQgYWRkIGl0IHRvIHRoZSBzZWN0aW9uLlxuXHRmdW5jdGlvbiBhZGRUb1NlY3Rpb24oaW5mbykge1xuXHRcdGluZm8gJiYgc2VjdGlvbi5hcHBlbmRDaGlsZChpbmZvKTtcblx0fVxuXG5cdC8vIEhlbHBlciBmdW5jdGlvbiB0byByZW5kZXIgYW4gZWxlbWVudCBhbmQgYWRkIGEgY29ycmVzcG9uZGluZyBjbGFzcyBuYW1lLlxuXHRmdW5jdGlvbiByZW5kZXJFbGVtZW50KHRhZywgY2xhc3NOYW1lKSB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudCh0YWcpO1xuXHRcdGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKGNsYXNzTmFtZSk7XG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcblx0fVxuXG5cdC8qKlxuXHQgKiBGZXRjaCBpbmZvcm1hdGlvbiB1c2luZyBtb3ZpZSBvciBUViBzaG93IGZ1bmN0aW9uIGJhc2VkIG9uIG1lZGlhIHR5cGUuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBpZCBNb3ZpZS9UViBzaG93IGlkXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IG1vdmllRm5jIEZldGNoIG1vdmllIGZ1bmN0aW9uIGlmIGFwcGxpY2FibGVcblx0ICogQHBhcmFtIHtGdW5jdGlvbn0gdHZGbmMgRmV0Y2ggVFYgZnVuY3Rpb24gaWYgYXBwbGljYWJsZS5cblx0ICogQHJldHVybnMge3ZvaWR9XG5cdCAqL1xuXHRhc3luYyBmdW5jdGlvbiBnZXRJbmZvKGlkLCBtb3ZpZUZuYywgdHZGbmMpIHtcblx0XHRyZXR1cm4gbWVkaWEgPT09IFwibW92aWVcIiA/IGF3YWl0IG1vdmllRm5jKGlkKSA6IGF3YWl0IHR2Rm5jKGlkKTtcblx0fVxuXG5cdC8qKlxuXHQgKiBEcmF3IChpZiBhbnkpIHRpdGxlLCBwaG90bywgdGFnbGluZSBhbmQgc3VtbWFyeS5cblx0ICogQHBhcmFtIHtOdW1iZXJ9IGltZ1NpemUgIEFuIGludGVnZXIgZGlzcGxheWluZyB0aGUgZGVzaXJlZCBwb3N0ZXIgc2l6ZVxuXHQgKiBcdFx0XHRcdFx0XHRcdHdpZHRoLlxuXHQgKiBAcmV0dXJucyB7Tm9kZX1cdFx0XHROb2RlIGNvbnRhaW5lciBjb25zaXN0aW5nIG9mIGVsZW1lbnRzIHdpdGggbW9zdFxuXHQgKiBcdFx0XHRcdFx0XHRcdHJlbGV2YW50IGluZm9ybWF0aW9uIG9mIHNwZWNpZmllZCBtb3ZpZS9UViBzaG93LlxuXHQgKi9cblx0Y29uc3QgZHJhd0ludHJvID0gKGltZ1NpemUpID0+IHtcblx0XHRjb25zdCBpbnRyb0NvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0aW50cm9Db250YWluZXIuY2xhc3NMaXN0LmFkZChcImludHJvXCIpO1xuXG5cdFx0aW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQoY3JlYXRlVGl0bGUoKSk7XG5cdFx0aW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQod3JpdGVUYWdsaW5lKCkpO1xuXG5cdFx0Y29uc3QgaW1nID0gcmVuZGVySW1nKGltZ1NpemUpO1xuXHRcdGltZyAmJiBpbnRyb0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbWcpO1xuXG5cdFx0LyoqXG5cdFx0ICogRGlzcGxheXMgdGhlIHRpdGxlIG9mIHRoZSBtb3ZpZS9UViBzaG93LlxuXHRcdCAqIEByZXR1cm5zIHtOb2RlfVx0VGl0bGUgb2YgdGhlIG1vdmllL1RWIHNob3dcblx0XHQgKi9cblx0XHRmdW5jdGlvbiBjcmVhdGVUaXRsZSgpIHtcblx0XHRcdGNvbnN0IHRpdGxlID0gcmVuZGVyRWxlbWVudChcImgxXCIsIFwidGl0bGVcIik7XG5cdFx0XHR0aXRsZS50ZXh0Q29udGVudCA9IGRldGFpbHMubU5hbWUgPyBkZXRhaWxzLm1OYW1lIDogZGV0YWlscy50TmFtZTtcblx0XHRcdHJldHVybiB0aXRsZTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZW5kZXJzIHBvc3RlciBpbWFnZSBiYXNlZCBvbiBpbWcgc2l6ZS5cblx0XHQgKiBAcGFyYW0ge051bWJlcn0gaW1nU2l6ZSBEZXNpcmVkIHdpZHRoIG9mIHRoZSBwb3N0ZXIgaW1hZ2UuXG5cdFx0ICogQHJldHVybnMge05vZGV9ICAgICAgICAgRWxlbWVudCBjb25zaXN0aW5nIHRoZSBpbWFnZSBwb3N0ZXIuXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gcmVuZGVySW1nKGltZ1NpemUgPSBcIlwiKSB7XG5cdFx0XHRjb25zdCBwb3N0ZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xuXHRcdFx0Y29uc3QgYmFzZUltZ1VybCA9IFwiaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3BcIjtcblxuXHRcdFx0Ly8gRHJhdyBwb3N0ZXIgYnkgZGVmYXVsdC4gSWYgbm9uZSBleGlzdHMsIHVzZSBiYWNrZHJvcCBwaG90by5cblx0XHRcdGNvbnN0IGltZ1BhdGggPSBkZXRhaWxzLnBvc3Rlcl9wYXRoIHx8IGRldGFpbHMuYmFja2Ryb3BfcGF0aDtcblxuXHRcdFx0aWYgKCFpbWdQYXRoKSB7XG5cdFx0XHRcdHJldHVybiBudWxsO1xuXHRcdFx0fVxuXG5cdFx0XHRwb3N0ZXIuY2xhc3NMaXN0LmFkZChcInBvc3RlclwiKTtcblxuXHRcdFx0Ly8gSWYgaW1nIHNpemUgaXMgc3BlY2lmaWVkLCBhbHRlciBpbWFnZSB0byB0aGUgcmVzcGVjdGl2ZSBzaXplLlxuXHRcdFx0Ly8gT3RoZXJ3aXNlLCB1c2Ugb3JpZ2luYWwgc2l6ZS5cblx0XHRcdHBvc3Rlci5zcmMgPSBpbWdTaXplXG5cdFx0XHRcdD8gYCR7YmFzZUltZ1VybH0vdyR7aW1nU2l6ZX0vJHtpbWdQYXRofWBcblx0XHRcdFx0OiBgJHtiYXNlSW1nVXJsfS9vcmlnaW5hbC8ke2ltZ1BhdGh9YDtcblx0XHRcdHBvc3Rlci5hbHQgPSBcIk1vdmllIHBpY3R1cmUgcG9zdGVyXCI7XG5cdFx0XHRwb3N0ZXIuc2V0QXR0cmlidXRlKFwibG9hZGluZ1wiLCBcImxhenlcIik7XG5cblx0XHRcdHJldHVybiBwb3N0ZXI7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gd3JpdGVUYWdsaW5lKCkge1xuXHRcdFx0Y29uc3QgdGFnUGFyYSA9IHJlbmRlckVsZW1lbnQoXCJlbVwiLCBcInRhZ2xpbmVcIik7XG5cdFx0XHR0YWdQYXJhLnRleHRDb250ZW50ID0gYFwiJHtkZXRhaWxzLnRhZ2xpbmV9XCJgO1xuXHRcdFx0cmV0dXJuIHRhZ1BhcmE7XG5cdFx0fVxuXHRcdHJldHVybiBpbnRyb0NvbnRhaW5lcjtcblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgYWxsIHJlbGV2YW50IHN1YmluZm8gKHdoZW4gYXZhaWxhYmxlKTpcblx0ICogXHQtIFJlbGVhc2UgZGF0ZVxuXHQgKiBcdC0gRmlyc3QgYWlyZWRcblx0ICogXHQtIExhc3QgYWlyZWRcblx0ICogXHQtIFNob3cgc3RhdHVzXG5cdCAqIFx0LSBSdW50aW1lXG5cdCAqIFx0LSBHZW5yZXNcblx0ICogXHQtIE51bWJlciBvZiBzZWFzb25zXG5cdCAqIFx0LSBFc3QgQXZnIEVwaXNvZGUgcnVudGltZVxuXHQgKiBcdC0gQ291bnRyeSBvZiBvcmlnaW5cblx0ICogXHQtIFZvdGUgYXZlcmFnZVxuXHQgKiBcdC0gVm90ZSBjb3VudFxuXHQgKiBcdC0gUG9wdWxhcml0eVxuXHQgKiBAcmV0dXJucyB7Tm9kZX1cblx0ICovXG5cdGNvbnN0IGRyYXdTdWJJbmZvcyA9ICgpID0+IHtcblx0XHRjb25zdCBjb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwic3ViaW5mby1jb250YWluZXJcIik7XG5cblx0XHQvLyBSZWxlYXNlIGRhdGUgZm9yIG1vdmllcyBhbmQgZmlyc3QgYWlyZWQgZm9yIHR2IHNob3cuXG5cdFx0bGV0IGRhdGUsIGxhc3RBaXJlZDtcblx0XHRpZiAoZGV0YWlscy5yZWxlYXNlX2RhdGUpIHtcblx0XHRcdGRhdGUgPSBjcmVhdGVTdWJJbmZvKFxuXHRcdFx0XHRcIlJlbGVhc2UgRGF0ZTpcIixcblx0XHRcdFx0ZGV0YWlscy5yZWxlYXNlX2RhdGUuc3BsaXQoXCItXCIpLnJldmVyc2UoKS5qb2luKFwiL1wiKVxuXHRcdFx0KTtcblx0XHRcdGxhc3RBaXJlZCA9IFwiXCI7XG5cdFx0fSBlbHNlIGlmIChkZXRhaWxzLmZpcnN0X2Fpcl9kYXRlKSB7XG5cdFx0XHRkYXRlID0gY3JlYXRlU3ViSW5mbyhcblx0XHRcdFx0XCJGaXJzdCBBaXJlZDogXCIsXG5cdFx0XHRcdGRldGFpbHMuZmlyc3RfYWlyX2RhdGUuc3BsaXQoXCItXCIpLnJldmVyc2UoKS5qb2luKFwiL1wiKVxuXHRcdFx0KTtcblx0XHRcdGxhc3RBaXJlZCA9IGNyZWF0ZVN1YkluZm8oXG5cdFx0XHRcdFwiTGFzdCBBaXJlZDogXCIsXG5cdFx0XHRcdGRldGFpbHMubGFzdF9haXJfZGF0ZS5zcGxpdChcIi1cIikucmV2ZXJzZSgpLmpvaW4oXCIvXCIpXG5cdFx0XHQpO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRkYXRlID0gXCJcIjtcblx0XHR9XG5cdFx0bGV0IHJ1bnRpbWUgPSBkZXRhaWxzLnJ1bnRpbWUgPyBjb252ZXJ0TWluVG9IcihkZXRhaWxzLnJ1bnRpbWUpIDogXCJcIjtcblxuXHRcdGNvbnN0IGluZm9ybWF0aW9uID0gW1xuXHRcdFx0ZGF0ZSxcblx0XHRcdGxhc3RBaXJlZCxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJTaG93IHN0YXR1czpcIiwgZGV0YWlscy5zdGF0dXMpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIlJ1bnRpbWU6IFwiLCBydW50aW1lKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJHZW5yZXM6IFwiLCBkZXRhaWxzLmdlbnJlcy5qb2luKFwiLCBcIikpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIk51bWJlciBvZiBzZWFzb25zOiBcIiwgZGV0YWlscy5udW1iZXJfb2Zfc2Vhc29ucyksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFxuXHRcdFx0XHRcIkVzdCBBdmcgRXBpc29kZSBSdW50aW1lOiBcIixcblx0XHRcdFx0ZGV0YWlscy5lcGlzb2RlX3J1bl90aW1lXG5cdFx0XHQpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIkNvdW50cnkgb2YgT3JpZ2luOiBcIiwgZGV0YWlscy5vcmlnaW5fY291bnRyeSksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiVm90ZSBBdmVyYWdlOiBcIiwgZGV0YWlscy52b3RlX2F2ZXJhZ2UpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIlZvdGUgQ291bnQ6IFwiLCBkZXRhaWxzLnZvdGVfY291bnQpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIlBvcHVsYXJpdHk6IFwiLCBkZXRhaWxzLnBvcHVsYXJpdHkpLFxuXHRcdF07XG5cblx0XHRpbmZvcm1hdGlvbi5mb3JFYWNoKChpbmZvKSA9PlxuXHRcdFx0aW5mbyA/IGNvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvKSA6IFwiXCJcblx0XHQpO1xuXG5cdFx0LyoqXG5cdFx0ICogQ3JlYXRlIGEgc3ViaW5mbyBjb250YWluZXIgYmFzZWQgb24gdGhlIGNhdGVnb3J5IGFuZCBmZXRjaGVkIGRhdGEuXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNhdGVnb3J5IFN0cmluZyByZXByZXNlbnRhdGlvbiBvZiBpbmZvIGNhdGVnb3J5XG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGluZm8gXHRGZXRjaGVkIGluZm8gYmFzZWQgb24gY2F0ZWdvcnlcblx0XHQgKiBAcmV0dXJucyB7Tm9kZX1cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBjcmVhdGVTdWJJbmZvKGNhdGVnb3J5LCBpbmZvKSB7XG5cdFx0XHQvLyBJZ25vcmVzIHR2IHN1YmluZm8gdG8gYmUgZGlzcGxheWVkIGlmIGl0J3MgYSBtb3ZpZSBhbmRcblx0XHRcdC8vIHZpY2V2ZXJzYVxuXHRcdFx0aWYgKCFpbmZvKSByZXR1cm4gbnVsbDtcblxuXHRcdFx0Y29uc3Qgc3ViSW5mbyA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJzdWItaW5mb1wiKTtcblx0XHRcdGNvbnN0IGNhdGVnb3J5TmFtZSA9IHJlbmRlckVsZW1lbnQoXCJzcGFuXCIsIFwiY2F0ZWdvcnktbmFtZVwiKTtcblx0XHRcdGNvbnN0IGNhdGVnb3J5SW5mbyA9IHJlbmRlckVsZW1lbnQoXCJzcGFuXCIsIFwiY2F0ZWdvcnktaW5mb1wiKTtcblxuXHRcdFx0Y2F0ZWdvcnlOYW1lLnRleHRDb250ZW50ID0gY2F0ZWdvcnk7XG5cdFx0XHRjYXRlZ29yeUluZm8udGV4dENvbnRlbnQgPSBpbmZvO1xuXG5cdFx0XHRbY2F0ZWdvcnlOYW1lLCBjYXRlZ29yeUluZm9dLmZvckVhY2goKGluZm8pID0+XG5cdFx0XHRcdHN1YkluZm8uYXBwZW5kQ2hpbGQoaW5mbylcblx0XHRcdCk7XG5cdFx0XHRyZXR1cm4gc3ViSW5mbztcblx0XHR9XG5cblx0XHRmdW5jdGlvbiBjb252ZXJ0TWluVG9IcihtaW5zKSB7XG5cdFx0XHRjb25zdCBob3VycyA9IG1pbnMgLyA2MDtcblx0XHRcdGNvbnN0IHJIb3VycyA9IE1hdGguZmxvb3IoaG91cnMpO1xuXHRcdFx0Y29uc3QgbWludXRlcyA9IChob3VycyAtIHJIb3VycykgKiA2MDtcblx0XHRcdGNvbnN0IHJNaW51dGVzID0gTWF0aC5yb3VuZChtaW51dGVzKTtcblx0XHRcdHJldHVybiBgJHtySG91cnN9aCAke3JNaW51dGVzfW1pbmA7XG5cdFx0fVxuXG5cdFx0cmV0dXJuIGNvbnRhaW5lcjtcblx0fTtcblxuXHQvKipcblx0ICogRHJhdyBzdW1tYXJ5IGhlYWRpbmcgKFN5bm9wc2lzKVxuXHQgKiBAcmV0dXJucyB7Vm9pZH1cblx0ICovXG5cdGNvbnN0IGRyYXdTdW1tYXJ5SGVhZGluZyA9ICgpID0+IHtcblx0XHRjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuXHRcdGhlYWRpbmcudGV4dENvbnRlbnQgPSBcIlN5bm9wc2lzOiBcIjtcblx0XHRyZXR1cm4gaGVhZGluZztcblx0fTtcblx0LyoqXG5cdCAqIERyYXcgc3VtbWFyeSBvZiBzcGVjaWZpZWQgbW92aWUgLyBUViBzaG93LlxuXHQgKiBAcmV0dXJucyB7Vm9pZH1cblx0ICovXG5cdGNvbnN0IGRyYXdTdW1tYXJ5ID0gKCkgPT4ge1xuXHRcdGNvbnN0IHBhcmEgPSByZW5kZXJFbGVtZW50KFwicFwiLCBcInN1bW1hcnlcIik7XG5cdFx0cGFyYS50ZXh0Q29udGVudCA9IGRldGFpbHMuc3VtbWFyeTtcblx0XHRyZXR1cm4gcGFyYTtcblx0fTtcblxuXHQvKipcblx0ICogRHJhdywgaWYgYW55LCBhdmFpYWJsZSBwcm92aWRlcnMgKHN0cmVhbWluZywgcHVyY2hhc2UsIHJlbnQpLlxuXHQgKiBAcmV0dXJucyB7Vm9pZH1cblx0ICovXG5cdGNvbnN0IGRyYXdQcm92aWRlcnMgPSAoKSA9PiB7XG5cdFx0Ly8gQm9vbGVhbiB0aGF0IGluZGljYXRlcyBpZiB0aGVyZSBhcmUgYW55IHdhdGNoIHByb3ZpZGVycyBmb3Jcblx0XHQvLyB0aGlzIHNob3cuXG5cdFx0bGV0IGF2YWlsUHJvdmlkZXJzO1xuXG5cdFx0Ly8gSG91c2VzIHRoZSBidG4gdGhhdCBvcGVucyB0aGUgbW9kYWwgYW5kIG92ZXJsYXksIGFuZCB0aGUgYXZhaWxhYmxlXG5cdFx0Ly8gcHJvdmlkZXJzIGZvciAnc3RyZWFtaW5nJywgJ3JlbnQnIGFuZCAncHVyY2hhc2UnLlxuXHRcdGNvbnN0IHByb3ZpZGVyQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInByb3ZpZGVyLWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCBjb3VudHJ5QnRuID0gcmVuZGVyRWxlbWVudChcImJ1dHRvblwiLCBcImNvdW50cnktYnRuXCIpO1xuXHRcdGNvbnN0IGhvdXNlQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcImhvdXNlLXByb3ZpZGVyLWNvbnRhaW5lclwiKTtcblx0XHRbY291bnRyeUJ0biwgaG91c2VDb250YWluZXJdLmZvckVhY2goKGVsZW0pID0+IHtcblx0XHRcdHByb3ZpZGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKGVsZW0pO1xuXHRcdH0pO1xuXG5cdFx0Ly8gU2VhcmNoIGZvciBkZWZhdWx0IGNvdW50cnkgXCJBdXN0cmFsaWFcIi4gSWYgbm9uZSBmb3VuZC4gRHJhdyB0aGVcblx0XHQvLyBmaXJzdCBjb3VudHJ5J3MgcHJvdmlkZXIuXG5cdFx0aWYgKE9iamVjdC5rZXlzKHByb3ZpZGVycykubGVuZ3RoKSB7XG5cdFx0XHRhdmFpbFByb3ZpZGVycyA9IHRydWU7XG5cdFx0XHRpZiAoT2JqZWN0LmtleXMocHJvdmlkZXJzKS5pbmNsdWRlcyhcIkF1c3RyYWxpYVwiKSkge1xuXHRcdFx0XHQvLyBEcmF3IEF1cyBmbGFnIGluIGJ0bi5cblx0XHRcdFx0Y29uc3QgZmxhZyA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJjb3VudHJ5LWZsYWdcIik7XG5cdFx0XHRcdC8vIGZsYWcuc2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIiwgXCJhbm9ueW1vdXNcIik7XG5cdFx0XHRcdGZsYWcuc3JjID0gYGh0dHBzOi8vZmxhZ3NhcGkuY29tL0FVL3NoaW55LzY0LnBuZ2A7XG5cdFx0XHRcdGZsYWcuYWx0ID0gYEF1c3RyYWxpYSBmbGFnYDtcblx0XHRcdFx0ZmxhZy5jbGFzc0xpc3QuYWRkKFwiYnRuLWNvdW50cnktZmxhZ1wiKTtcblx0XHRcdFx0ZHJhd1Byb3ZpZGVyKFwiQXVzdHJhbGlhXCIpO1xuXHRcdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID0gXCJBdXN0cmFsaWFcIjtcblx0XHRcdFx0Y291bnRyeUJ0bi5hcHBlbmRDaGlsZChmbGFnKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdC8vIERyYXcgZmlyc3QgY291bnRyeSdzIGZsYWcgaW4gYnRuLlxuXHRcdFx0XHRjb25zdCBmaXJzdFByb3ZpZGVyID0gT2JqZWN0LmtleXMocHJvdmlkZXJzKVswXTtcblx0XHRcdFx0Y29uc29sZS5sb2coZmlyc3RQcm92aWRlcik7XG5cdFx0XHRcdGNvbnN0IGZsYWcgPSByZW5kZXJFbGVtZW50KFwiaW1nXCIsIFwiY291bnRyeS1mbGFnXCIpO1xuXHRcdFx0XHRmbGFnLnNyYyA9IGBodHRwczovL2ZsYWdzYXBpLmNvbS8ke3Byb3ZpZGVyc1tmaXJzdFByb3ZpZGVyXS5jb3VudHJ5Q29kZX0vc2hpbnkvNjQucG5nYDtcblx0XHRcdFx0ZmxhZy5hbHQgPSBgJHtmaXJzdFByb3ZpZGVyfSBmbGFnYDtcblx0XHRcdFx0ZmxhZy5jbGFzc0xpc3QuYWRkKFwiYnRuLWNvdW50cnktZmxhZ1wiKTtcblx0XHRcdFx0ZHJhd1Byb3ZpZGVyKGZpcnN0UHJvdmlkZXIpO1xuXHRcdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID0gYCR7Zmlyc3RQcm92aWRlcn1gO1xuXHRcdFx0XHRjb3VudHJ5QnRuLmFwcGVuZENoaWxkKGZsYWcpO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRhdmFpbFByb3ZpZGVycyA9IGZhbHNlO1xuXHRcdFx0Y291bnRyeUJ0bi50ZXh0Q29udGVudCA9XG5cdFx0XHRcdFwiTm8gY291bnRyaWVzIG9mZmVyIHRoaXMgdHYvbW92aWUgYXQgdGhlIG1vbWVudC5cIjtcblx0XHRcdGNvdW50cnlCdG4uY2xhc3NMaXN0LmFkZChcImxvc3QtcHJvdmlkZXJzXCIpO1xuXG5cdFx0XHQvLyBJbnNlcnQgbG9zdCBnaWYgYW5kIG1lc3NhZ2UgaWYgbm8gcHJvdmlkZXJzIGFyZSBhdmFpbGFibGUuXG5cdFx0XHRjb25zdCBsb3N0R2lmID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcImxvc3QtZ2lmXCIpO1xuXHRcdFx0bG9zdEdpZi5zcmMgPSBcIi4vaW1nL2xvc3QtZ2lmLmdpZlwiO1xuXHRcdFx0bG9zdEdpZi5hbHQgPSBcIlByb3ZlciBjYW5ub3QgYmUgZm91bmQgcGljdHVyZS5cIjtcblx0XHRcdGhvdXNlQ29udGFpbmVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcblx0XHRcdGhvdXNlQ29udGFpbmVyLnN0eWxlLmp1c3RpZnlDb250ZW50ID0gXCJjZW50ZXJcIjtcblx0XHRcdGhvdXNlQ29udGFpbmVyLmFwcGVuZENoaWxkKGxvc3RHaWYpO1xuXHRcdH1cblx0XHQvLyByZW5kZXIgZG93biBhcnJvdy5cblx0XHRjb25zdCBkb3duQXJyb3cgPSByZW5kZXJFbGVtZW50KFwiaVwiLCBcImZhc1wiKTtcblx0XHRkb3duQXJyb3cuY2xhc3NMaXN0LmFkZChcImZhLWFuZ2xlLWRvd25cIik7XG5cdFx0Y291bnRyeUJ0bi5hcHBlbmRDaGlsZChkb3duQXJyb3cpO1xuXG5cdFx0Ly8gQWRkIGJ0biBldmVudCBjbGljayBsaXN0ZW5lciB0byBvcGVuIG1vZGFsXG5cdFx0Y291bnRyeUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdGlmIChhdmFpbFByb3ZpZGVycykge1xuXHRcdFx0XHRyZW5kZXJDb3VudHJpZXNNb2RhbChjb3VudHJ5QnRuLnRleHRDb250ZW50KTtcblx0XHRcdFx0aGlnaGxpZ2h0Q3VyckNvdW50cnkoY291bnRyeUJ0bi50ZXh0Q29udGVudCk7XG5cdFx0XHRcdC8vIGFkZCBjb3VudHJ5IGV2ZW50IGhlcmVcblx0XHRcdFx0YXBwbHlDaG9vc2VDb3VudHJ5Rm5jcygpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0LyoqXG5cdFx0ICogRnVuY3Rpb24gdGhhdCBhcHBseXMgYSBjbGljayBldmVudCBsaXN0ZW5lciBvbiBldmVyeSBjb3VudHJ5IGluXG5cdFx0ICogdGhlIG1vZGFsIGxpc3QuIENoYW5nZXMgdGhlIGF2YWlsYWJsZSBwcm92aWRlcnMgYmFzZWQgb24gdGhlIHNlbGVjdGVkXG5cdFx0ICogY291bnRyeSBhbmQgaGlkZXMgbW9kYWwuXG5cdFx0ICogQHJldHVybnMge1ZvaWR9XG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gYXBwbHlDaG9vc2VDb3VudHJ5Rm5jcygpIHtcblx0XHRcdGNvbnN0IGNvdW50cmllcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIuY291bnRyeS1jb250YWluZXJcIik7XG5cblx0XHRcdGZ1bmN0aW9uIGhhbmRsZUNsaWNrKGUpIHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRjb25zdCBzZWxlY3RlZENvdW50cnkgPSB0aGlzLmxhc3RDaGlsZC50ZXh0Q29udGVudC50cmltKCk7XG5cblx0XHRcdFx0aWYgKHNlbGVjdGVkQ291bnRyeSkge1xuXHRcdFx0XHRcdGNsZWFyUHJvdmlkZXIoKTtcblx0XHRcdFx0XHRkcmF3UHJvdmlkZXIoc2VsZWN0ZWRDb3VudHJ5KTtcblx0XHRcdFx0fVxuXG5cdFx0XHRcdC8vIFJlbW92ZSBtb2RhbCBhbmQgbWFzayBvdmVybGF5LlxuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsLWNvdW50cnktY29udGFpbmVyXCIpLnJlbW92ZSgpO1xuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhY2UtbWFza1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEFwcGx5IGhhbmRsZUNsaWNrIHRvIGFsbCBjb3VudHJ5LXNlbGVjdG9ycy5cblx0XHRcdGNvdW50cmllcy5mb3JFYWNoKChjb3VudHJ5KSA9PiB7XG5cdFx0XHRcdGNvdW50cnkuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGhhbmRsZUNsaWNrKTtcblx0XHRcdH0pO1xuXHRcdH1cblxuXHRcdHJldHVybiBwcm92aWRlckNvbnRhaW5lcjtcblxuXHRcdC8qKlxuXHRcdCAqIERyYXdzIHRoZSBhdmFpbGJsZSBwcm92aWRlcnMgYW5kIHVwZGF0ZSB0aGUgdGV4dCBjb250ZW50IG9mIHRoZVxuXHRcdCAqIGJ1dHRvbi1zZWxlY3RvciBiYXNlZCBvbiB0aGUgc2VsZWN0ZWQgY291bnRyeS5cblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gY291bnRyeU5hbWUgQ3VycmVudCBjb3VudHJ5IGluIHdoaWNoIHRoZSBhdmFpbGFibGVcblx0XHQgKiBcdFx0XHRcdFx0XHRcdCAgIHByb3ZpZGVycyBhcmUgZGlzcGxheWVkLlxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGRyYXdQcm92aWRlcihjb3VudHJ5TmFtZSA9IFwiQXVzdHJhbGlhXCIpIHtcblx0XHRcdC8vIENoYW5nZSB0ZXh0IG9mIGJ0biB0byBjb3VudHJ5TmFtZVxuXHRcdFx0Y291bnRyeUJ0bi50ZXh0Q29udGVudCA9IGNvdW50cnlOYW1lO1xuXG5cdFx0XHQvLyBBZGQgYXJyb3dzIGFuZCBmbGFncyBpbnRvIGJ0biBhZnRlciBldmVyeSBzZWxlY3Rpb24uXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRjb25zdCBmbGFnID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcImNvdW50cnktZmxhZ1wiKTtcblx0XHRcdFx0Ly8gZmxhZy5zZXRBdHRyaWJ1dGUoXCJjcm9zc29yaWdpblwiLCBcImFub255bW91c1wiKTtcblx0XHRcdFx0ZmxhZy5zcmMgPSBgaHR0cHM6Ly9mbGFnc2FwaS5jb20vJHtwcm92aWRlcnNbY291bnRyeU5hbWVdLmNvdW50cnlDb2RlfS9zaGlueS82NC5wbmdgO1xuXHRcdFx0XHRmbGFnLmFsdCA9IGAke2NvdW50cnlOYW1lfSBmbGFnYDtcblx0XHRcdFx0ZmxhZy5jbGFzc0xpc3QuYWRkKFwiYnRuLWNvdW50cnktZmxhZ1wiKTtcblx0XHRcdFx0Y291bnRyeUJ0bi5hcHBlbmRDaGlsZChmbGFnKTtcblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoXCJGYWlsZWQgdG8gcmV0cmlldmUgZmxhZ1wiLCBlcnJvci5tZXNzYWdlKTtcblx0XHRcdH1cblx0XHRcdGNvbnN0IGRvd25BcnJvdyA9IHJlbmRlckVsZW1lbnQoXCJpXCIsIFwiZmFzXCIpO1xuXHRcdFx0ZG93bkFycm93LmNsYXNzTGlzdC5hZGQoXCJmYS1hbmdsZS1kb3duXCIpO1xuXHRcdFx0Y291bnRyeUJ0bi5hcHBlbmRDaGlsZChkb3duQXJyb3cpO1xuXG5cdFx0XHRjb25zdCBzdHJlYW1JbmZvID0gcHJvdmlkZXJzW2NvdW50cnlOYW1lXS5zdHJlYW07XG5cdFx0XHRjb25zdCBidXlJbmZvID0gcHJvdmlkZXJzW2NvdW50cnlOYW1lXS5idXk7XG5cdFx0XHRjb25zdCByZW50SW5mbyA9IHByb3ZpZGVyc1tjb3VudHJ5TmFtZV0ucmVudDtcblxuXHRcdFx0Y29uc3Qgc2VydmljZU5hbWVzID0gW1wiU3RyZWFtIGF0OlwiLCBcIlB1cmNoYXNlIGF0OlwiLCBcIlJlbnQgYXQ6XCJdO1xuXG5cdFx0XHQvLyBpZHggYXNzaWduIHBvc2l0aW9uL25hbWVzIGZvciBlYWNoIHNldmljZSBwcm92aWRlcnMuXG5cdFx0XHQvLyBUaGlzIGluY3JlbWVudHMgYXMgcHJvdmlkZXJzIGFyZSBsaXN0ZWQgZm9yIGVhY2ggc2VydmljZS5cblx0XHRcdGxldCBpZHggPSAwO1xuXG5cdFx0XHRbc3RyZWFtSW5mbywgYnV5SW5mbywgcmVudEluZm9dLmZvckVhY2goKGluZm8pID0+IHtcblx0XHRcdFx0Y29uc3Qgc2VydmljZUNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXG5cdFx0XHRcdFx0XCJkaXZcIixcblx0XHRcdFx0XHRcInNlcnZpY2UtY29udGFpbmVyXCJcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29uc3Qgc2VydmljZU5hbWUgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwic2VydmljZS1uYW1lXCIpO1xuXHRcdFx0XHRjb25zdCBzZXJ2aWNlTmFtZUJvbGQgPSByZW5kZXJFbGVtZW50KFxuXHRcdFx0XHRcdFwiaDJcIixcblx0XHRcdFx0XHRcInNlcnZpY2UtbmFtZS1ib2xkXCJcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29uc3QgcHJvdmlkZXJTZXJ2aWNlQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcblx0XHRcdFx0XHRcImRpdlwiLFxuXHRcdFx0XHRcdFwicHJvdmlkZXItc2VydmljZS1jb250YWluZXJcIlxuXHRcdFx0XHQpO1xuXG5cdFx0XHRcdGluZm8uZm9yRWFjaCgocHJvdmlkZXIpID0+IHtcblx0XHRcdFx0XHRjb25zdCBwcm92aWRlclNlcnZpY2UgPSByZW5kZXJFbGVtZW50KFxuXHRcdFx0XHRcdFx0XCJkaXZcIixcblx0XHRcdFx0XHRcdFwicHJvdmlkZXItc2VydmljZVwiXG5cdFx0XHRcdFx0KTtcblx0XHRcdFx0XHQvLyBBZGQgaW1nIGFuZCBuYW1lIG9mIHByb3ZpZGVyLlxuXHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVySW1nID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcInByb3ZpZGVyLWltZ1wiKTtcblx0XHRcdFx0XHRjb25zdCBwcm92aWRlck5hbWUgPSByZW5kZXJFbGVtZW50KFwic3BhblwiLCBcInByb3ZpZGVyLW5hbWVcIik7XG5cblx0XHRcdFx0XHRpZiAocHJvdmlkZXIucHJvdmlkZXJfbG9nb19wYXRoKSB7XG5cdFx0XHRcdFx0XHRwcm92aWRlckltZy5zcmMgPSBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3Avb3JpZ2luYWwvXG5cdFx0XHRcdFx0XHQke3Byb3ZpZGVyLnByb3ZpZGVyX2xvZ29fcGF0aH1gO1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJJbWcuYWx0ID0gYCR7cHJvdmlkZXIucHJvdmlkZXJfbmFtZX0gcGljdHVyZS5gO1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJJbWcuc2V0QXR0cmlidXRlKFwibG9hZGluZ1wiLCBcImxhenlcIik7XG5cdFx0XHRcdFx0XHRwcm92aWRlck5hbWUudGV4dENvbnRlbnQgPSBwcm92aWRlci5wcm92aWRlcl9uYW1lO1xuXHRcdFx0XHRcdH1cblxuXHRcdFx0XHRcdFtwcm92aWRlckltZywgcHJvdmlkZXJOYW1lXS5mb3JFYWNoKChlbGVtKSA9PiB7XG5cdFx0XHRcdFx0XHRwcm92aWRlclNlcnZpY2UuYXBwZW5kQ2hpbGQoZWxlbSk7XG5cdFx0XHRcdFx0fSk7XG5cdFx0XHRcdFx0cHJvdmlkZXJTZXJ2aWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb3ZpZGVyU2VydmljZSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdGlmIChpbmZvLmxlbmd0aCkge1xuXHRcdFx0XHRcdHNlcnZpY2VOYW1lQm9sZC50ZXh0Q29udGVudCA9IGAke3NlcnZpY2VOYW1lc1tpZHhdfWA7XG5cdFx0XHRcdFx0c2VydmljZU5hbWUuYXBwZW5kQ2hpbGQoc2VydmljZU5hbWVCb2xkKTtcblx0XHRcdFx0fVxuXHRcdFx0XHRpZHgrKzsgLy8gSW5jcmVtZW50IGlkeCB0byBnbyB0byB0aGUgbmV4dCB0eXBlIG9mIHNlcnZpY2UuXG5cdFx0XHRcdHNlcnZpY2VDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VydmljZU5hbWUpO1xuXHRcdFx0XHRzZXJ2aWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb3ZpZGVyU2VydmljZUNvbnRhaW5lcik7XG5cdFx0XHRcdGhvdXNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlcnZpY2VDb250YWluZXIpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHRcdGZ1bmN0aW9uIGNsZWFyUHJvdmlkZXIoKSB7XG5cdFx0XHR3aGlsZSAoaG91c2VDb250YWluZXIuZmlyc3RDaGlsZCkge1xuXHRcdFx0XHRob3VzZUNvbnRhaW5lci5yZW1vdmVDaGlsZChob3VzZUNvbnRhaW5lci5sYXN0Q2hpbGQpO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRHJhd3MgYSBtYXhpbXVtIG9mIDUgcmV2aWV3cyBiYXNlZCBvbiB0aGUgc2VhcmNoZWQgbW92aWUgLyBUViBTSE9XLlxuXHQgKiBAcmV0dXJucyB7Tm9kZX1cblx0ICovXG5cdGNvbnN0IGRyYXdSZXZpZXdzID0gKCkgPT4ge1xuXHRcdGlmICghcmV2aWV3cykgcmV0dXJuO1xuXHRcdGNvbnN0IHJldmlld0NvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZXZpZXctY29udGFpbmVyXCIpO1xuXHRcdGNvbnN0IHRpdGxlID0gcmVuZGVyRWxlbWVudChcImgyXCIsIFwicmV2aWV3LXRpdGxlXCIpO1xuXHRcdHRpdGxlLnRleHRDb250ZW50ID0gXCJSZXZpZXdzOlwiO1xuXHRcdHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aXRsZSk7XG5cblx0XHRyZXZpZXdzLmZvckVhY2goKHJldmlldykgPT4gZHJhd1JldmlldyhyZXZpZXcsIHJldmlld0NvbnRhaW5lcikpO1xuXHRcdHJldHVybiByZXZpZXdDb250YWluZXI7XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXdzIGEgc2luZ3VsYXIgcmV2aWV3IGFuZCBkaXNwbGF5cyBhbGwgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uOlxuXHQgKiBcdC0gQXV0aG9yJ3MgbmFtZVxuXHQgKiBcdC0gQXV0aG9yJ3MgcHJvZmlsZSBwaWNcblx0ICogIC0gUmF0aW5nIG9mIHRoZSBtb3ZpZSAvIFRWIHNob3cuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSByZXZpZXcgUmV2aWV3IGluZm9ybWF0aW9uXG5cdCAqIEBwYXJhbSB7Tm9kZX0gcmV2aWV3Q29udGFpbmVyIHJldmlld0NvbnRhaW5lciB0aGF0IGhvdXNlcyBhbGwgdGhlXG5cdCAqIFx0XHRcdFx0XHRcdFx0XHQgcmV2aWV3cy5cblx0ICovXG5cdGNvbnN0IGRyYXdSZXZpZXcgPSAocmV2aWV3LCByZXZpZXdDb250YWluZXIpID0+IHtcblx0XHQvLyBIZWFkaW5nIGluY2x1ZGVzIGF1dGhvciBuYW1lLCByYXRpbmcgYW5kIHRoZWlyIHJlc3BlY3RpdmUgcHJvZmlsZVxuXHRcdC8vIHBpYy5cblx0XHRjb25zdCByZW5kZXJSZXZpZXdIZWFkaW5nID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgcmV2aWV3SGVhZGluZyA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZXZpZXctaGVhZGluZ1wiKTtcblxuXHRcdFx0Ly8gUmVuZGVyIGF1dGhvcidzIHByb2ZpbGUgcGljIGlmIGFueS5cblx0XHRcdHRyeSB7XG5cdFx0XHRcdGlmIChyZXZpZXcucGljX3BhdGgpIHtcblx0XHRcdFx0XHRjb25zdCBhdXRob3JQaWMgPSByZW5kZXJFbGVtZW50KFwiaW1nXCIsIFwiYXV0aG9yLXBpY1wiKTtcblx0XHRcdFx0XHRhdXRob3JQaWMuc3JjID1cblx0XHRcdFx0XHRcdC8vIEFwaSBnaXZlcyB0d28gZGlmZmVyZW50IHR5cGVzIG9mIHVybCBsaW5rLiBOZWVkIHRvXG5cdFx0XHRcdFx0XHQvLyBkaWZmZXJlbnRpYXRlIGJldHdlZW4gdGhlbSB0byByZXRyaWV2ZSBzcmMgdXJsLlxuXHRcdFx0XHRcdFx0cmV2aWV3LnBpY19wYXRoLnNsaWNlKDEsIDUpICE9PSBcImh0dHBcIlxuXHRcdFx0XHRcdFx0XHQ/IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93MzAwLyR7cmV2aWV3LnBpY19wYXRofWBcblx0XHRcdFx0XHRcdFx0OiByZXZpZXcucGljX3BhdGguc2xpY2UoMSk7XG5cdFx0XHRcdFx0YXV0aG9yUGljLmFsdCA9IGAke3Jldmlldy5hdXRob3J9IHByb2ZpbGUgcGljdHVyZS5gO1xuXHRcdFx0XHRcdHJldmlld0hlYWRpbmcuYXBwZW5kQ2hpbGQoYXV0aG9yUGljKTtcblx0XHRcdFx0fVxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdFx0XHRcIkNhbm5vdCBmZXRjaCBhdXRob3IgcHJvZmlsZSBwaWN0dXJlczpcIixcblx0XHRcdFx0XHRlcnJvci5tZXNzYWdlXG5cdFx0XHRcdCk7XG5cdFx0XHR9XG5cblx0XHRcdGFkZFJldkluZm8ocmV2aWV3LmF1dGhvciwgcmV2aWV3SGVhZGluZywgXCJoM1wiLCBcInJldmlldy1hdXRob3JcIik7XG5cdFx0XHRhZGRSZXZJbmZvKHJldmlldy5yYXRpbmcsIHJldmlld0hlYWRpbmcsIFwic3BhblwiLCBcInJldmlldy1yYXRpbmdcIik7XG5cblx0XHRcdHJldHVybiByZXZpZXdIZWFkaW5nO1xuXHRcdH07XG5cblx0XHQvLyBEcmF3IHJldmlldyBjb250ZW50LlxuXHRcdGNvbnN0IHJlbmRlclJldmlld0JvZHkgPSAoKSA9PiB7XG5cdFx0XHRjb25zdCByZXZpZXdDb250ZW50ID0gcmVuZGVyRWxlbWVudChcInBcIiwgXCJyZXZpZXctY29udGVudFwiKTtcblx0XHRcdHJldmlld0NvbnRlbnQudGV4dENvbnRlbnQgPSBgXCIke3Jldmlldy5jb250ZW50fVwiYDtcblx0XHRcdHJldHVybiByZXZpZXdDb250ZW50O1xuXHRcdH07XG5cblx0XHQvLyBEcmF3IHJldmlldyBmb290ZXIgY29udGFpbmluZyBsaW5rIHVybCBhbmQgbGFzdCBkYXRlIHVwZGF0ZWQuXG5cdFx0Y29uc3QgcmVuZGVyUmV2aWV3Rm9vdGVyID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgcmV2aWV3Rm9vdGVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInJldmlldy1mb290ZXJcIik7XG5cdFx0XHRjb25zdCByZXZpZXdVcmwgPSByZW5kZXJFbGVtZW50KFwiYVwiLCBcInJldmlldy1saW5rXCIpO1xuXHRcdFx0Y29uc3QgcmV2aWV3VXBkYXRlZCA9IHJlbmRlckVsZW1lbnQoXCJzcGFuXCIsIFwicmV2aWV3LXVwZGF0ZWRcIik7XG5cblx0XHRcdHJldmlld1VybC5zZXRBdHRyaWJ1dGUoXCJocmVmXCIsIGAke3Jldmlldy51cmx9YCk7XG5cdFx0XHRyZXZpZXdVcmwuc2V0QXR0cmlidXRlKFwidGFyZ2V0XCIsIFwiX2JsYW5rXCIpO1xuXHRcdFx0cmV2aWV3VXJsLnRleHRDb250ZW50ID0gXCJDbGljayBmb3IgcmV2aWV3IGxpbmtcIjtcblxuXHRcdFx0cmV2aWV3VXBkYXRlZC50ZXh0Q29udGVudCA9IGBMYXN0IHVwZGF0ZWQ6ICR7Zm9ybWF0UmV2RGF0ZShcblx0XHRcdFx0cmV2aWV3Lmxhc3RfdXBkYXRlZFxuXHRcdFx0KX1gO1xuXG5cdFx0XHRyZXZpZXdGb290ZXIuYXBwZW5kQ2hpbGQocmV2aWV3VXJsKTtcblx0XHRcdHJldmlld0Zvb3Rlci5hcHBlbmRDaGlsZChyZXZpZXdVcGRhdGVkKTtcblxuXHRcdFx0cmV0dXJuIHJldmlld0Zvb3Rlcjtcblx0XHRcdC8qKlxuXHRcdFx0ICpcblx0XHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBkYXRlIGRhdGUgZm9ybWF0dGVkIGRkLW1tLXl5eXlcblx0XHRcdCAqIEByZXR1cm5zIHtTdHJpbmd9IFx0ZGF0ZSBmb3JtYXR0ZWQgZGQvbW0veXl5eVxuXHRcdFx0ICovXG5cdFx0XHRmdW5jdGlvbiBmb3JtYXRSZXZEYXRlKGRhdGUpIHtcblx0XHRcdFx0Y29uc3QgW3llYXIsIG1vbnRoLCBkYXldID0gZGF0ZS5zcGxpdChcIi1cIik7XG5cdFx0XHRcdHJldHVybiBgJHtkYXkuc2xpY2UoMCwgMil9LyR7bW9udGh9LyR7eWVhcn1gO1xuXHRcdFx0fVxuXHRcdH07XG5cblx0XHQvLyBBZGQgdG8gcmV2aWV3IGhvdXNpbmcgY29udGFpbmVyXG5cdFx0cmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlclJldmlld0hlYWRpbmcoKSk7XG5cdFx0cmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlclJldmlld0JvZHkoKSk7XG5cdFx0cmV2aWV3Q29udGFpbmVyLmFwcGVuZENoaWxkKHJlbmRlclJldmlld0Zvb3RlcigpKTtcblxuXHRcdC8vIEhlbHBlciBmbmMgdGhhdCBjb2xsZWN0cyBjb3JyZXNwb25kaW5nIGluZm8gYW5kXG5cdFx0Ly8gY3JlYXRlcyBhIHNwYW4vZGl2IGNvbnRhaW5lciBpZiBpbmZvIGV4aXN0cy4gT3RoZXJ3aXNlLCByZXR1cm47XG5cdFx0ZnVuY3Rpb24gYWRkUmV2SW5mbyhpbmZvLCBjb250YWluZXIsIHRhZywgY2xhc3NOYW1lKSB7XG5cdFx0XHRjb25zdCBpbmZvQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudCh0YWcsIGNsYXNzTmFtZSk7XG5cdFx0XHRpZiAoaW5mbykge1xuXHRcdFx0XHRpbmZvQ29udGFpbmVyLnRleHRDb250ZW50ID0gaW5mbztcblx0XHRcdH1cblxuXHRcdFx0Ly8gUmVuZGVyIHJldmlldyByYXRpbmcgb3V0IG9mIDEwLiBJZiBub25lIHByb3ZpZGVkLCByZW5kZXIgbWVzc2FnZS5cblx0XHRcdGlmIChpbmZvID09PSByZXZpZXcucmF0aW5nKSB7XG5cdFx0XHRcdGluZm9Db250YWluZXIudGV4dENvbnRlbnQgPSByZXZpZXcucmF0aW5nXG5cdFx0XHRcdFx0PyBgJHtpbmZvfS8xMGBcblx0XHRcdFx0XHQ6IFwiUmF0aW5nIG5vdCBwcm92aWRlZC4uXCI7XG5cdFx0XHR9XG5cdFx0XHRjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5mb0NvbnRhaW5lcik7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBBZGQgdHJhaWxlciB2aWRlbyB0byBzZWN0aW9uXG5cdCAqIEByZXR1cm5zIHtOb2RlfVx0Q29udGFpbmVyIHRoYXQgaG91c2VzIHRoZSB0cmFpbGVyIHdpdGggaXRzIHJlc3BlY3RpdmVcblx0ICogXHRcdFx0XHRcdGhlYWRpbmdcblx0ICovXG5cdGNvbnN0IGRyYXdUcmFpbGVyID0gKCkgPT4ge1xuXHRcdGNvbnN0IHRyYWlsZXJDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwidHJhaWxlci1jb250YWluZXJcIik7XG5cdFx0Y29uc3QgdHJhaWxlckhlYWRpbmcgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwidHJhaWxlci1oZWFkaW5nXCIpO1xuXG5cdFx0aWYgKHRyYWlsZXIpIHtcblx0XHRcdHJlbmRlclRyYWlsZXJIZWFkaW5nKCkuZm9yRWFjaCgoZWxlbSkgPT5cblx0XHRcdFx0dHJhaWxlckhlYWRpbmcuYXBwZW5kQ2hpbGQoZWxlbSlcblx0XHRcdCk7XG5cdFx0XHR0cmFpbGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHRyYWlsZXJIZWFkaW5nKTtcblx0XHRcdGNvbnN0IHZpZGVvV3JhcHBlciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJ2aWRlby13cmFwcGVyXCIpO1xuXHRcdFx0dmlkZW9XcmFwcGVyLmFwcGVuZENoaWxkKGFkZFZpZGVvKHRyYWlsZXIua2V5LCB0cmFpbGVyLnNpdGUpKTtcblx0XHRcdHRyYWlsZXJDb250YWluZXIuYXBwZW5kQ2hpbGQodmlkZW9XcmFwcGVyKTtcblx0XHR9XG5cdFx0cmV0dXJuIHRyYWlsZXJDb250YWluZXI7XG5cblx0XHQvKipcblx0XHQgKiBSZW5kZXIgdHJhaWxlciBoZWFkaW5nIGFuZCBkaXNwbGF5IGxhbmd1YWdlIG9mIHRoZSB2aWRlby5cblx0XHQgKiBAcmV0dXJucyB7QXJyYXl9XHRBcnJheSBjb250YWluaW5nIE5vZGUgZWxlbXMgb2YgdHJhaWxlcidzIG5hbWVcblx0XHQgKiBcdFx0XHRcdFx0YW5kIGxhbmd1YWdlLlxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHJlbmRlclRyYWlsZXJIZWFkaW5nKCkge1xuXHRcdFx0Y29uc3QgdHJhaWxlck5hbWUgPSByZW5kZXJFbGVtZW50KFwiaDJcIiwgXCJ0cmFpbGVyLW5hbWVcIik7XG5cdFx0XHRjb25zdCB0cmFpbGVyTGFuZ3VhZ2UgPSByZW5kZXJFbGVtZW50KFwiaDNcIiwgXCJ0cmFpbGVyLWxhbmdcIik7XG5cdFx0XHR0cmFpbGVyTmFtZS50ZXh0Q29udGVudCA9IGAke3RyYWlsZXIudE5hbWV9YDtcblx0XHRcdHRyYWlsZXJMYW5ndWFnZS50ZXh0Q29udGVudCA9IGBMYW5ndWFnZTogJHt0cmFpbGVyLmxhbmd9YDtcblxuXHRcdFx0cmV0dXJuIFt0cmFpbGVyTmFtZSwgdHJhaWxlckxhbmd1YWdlXTtcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIHRoZSB0cmFpbGVyIHZpZGVvIHRvIGFkZCB0byB0aGUgIHRoZSB0cmFpbGVyIGNvbnRhaW5lciBOb2RlLlxuXHRcdCAqIEFsc28gYWRkcyBhbGwgdGhlIHJlbGV2YW50IGF0dHJpYnV0ZXMgdG8gdGhlIG5vZGUgZWxlbS5cblx0XHQgKiBAcGFyYW0ge051bWJlcn0ga2V5IFx0S2V5IHRoYXQgdW5pcXVlbHkgaWRlbnRpZmllcyB0aGUgdHJhaWxlciB2aWRlb1xuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBzaXRlIE5hbWUgb2Ygd2ViIHBsYXllclxuXHRcdCAqIEByZXR1cm5zIHtOb2RlfSBcdFx0RWxlbWVudCB0aGF0IGZyYW1lcyB0aGUgcGxheWFibGUgdmlkZW9cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBhZGRWaWRlbyhrZXksIHNpdGUpIHtcblx0XHRcdGNvbnN0IGZyYW1lID0gcmVuZGVyRWxlbWVudChcImlmcmFtZVwiLCBcInRyYWlsZXItdmlkZW9cIik7XG5cdFx0XHRjb25zdCBhdHRyaWJ1dGVzID0ge1xuXHRcdFx0XHRsb2FkaW5nOiBcImxhenlcIixcblx0XHRcdFx0d2lkdGg6IFwiNTYwXCIsXG5cdFx0XHRcdGhlaWdodDogXCIzMTVcIixcblx0XHRcdFx0c3JjOiBgaHR0cHM6Ly95b3V0dWJlLmNvbS9lbWJlZC8ke2tleX1gLFxuXHRcdFx0XHR0aXRsZTogYCR7c2l0ZX0gdmlkZW8gcGxheWVyYCxcblx0XHRcdFx0ZnJhbWVib3JkZXI6IFwiMFwiLFxuXHRcdFx0XHRhbGxvdzogXCJhY2NlbGVyb21ldGVyOyBhdXRvcGxheTsgY2xpcGJvYXJkLXdyaXRlOyBlbmNyeXB0ZWQgbWVkaWE7IGd5cm9zY29wZTsgcGljdHVyZS1pbi1waWN0dXJlOyB3ZWItc2hhcmVcIixcblx0XHRcdH07XG5cdFx0XHRmb3IgKGxldCBhdHRyIGluIGF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0ZnJhbWUuc2V0QXR0cmlidXRlKGF0dHIsIGF0dHJpYnV0ZXNbYXR0cl0pO1xuXHRcdFx0XHRmcmFtZS5zZXRBdHRyaWJ1dGUoXCJhbGxvd2Z1bGxzY3JlZW5cIiwgdHJ1ZSk7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gZnJhbWU7XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBSZXR1cm5zIGEgbm9kZSBlbGVtZW50IHRoYXQgZHJhd3MgdGhlIHJlY29tbWVuZGF0aW9ucy5cblx0ICogQHJldHVybnMge05vZGV9XHRTZXJ2ZXMgYXMgYSBob3VzaW5nIGNvbnRhaW5lciBmb3IgYWxsIHRoZVxuXHQgKiBcdFx0XHRcdFx0cmVjb21tZW5kYXRpb25zLlxuXHQgKi9cblx0Y29uc3QgZHJhd1JlY3MgPSAoKSA9PiB7XG5cdFx0Y29uc3QgcmVjc0NvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZWNzLWNvbnRhaW5lclwiKTtcblx0XHRpZiAoT2JqZWN0LmtleXMocmVjcykubGVuZ3RoID09PSAwKSB7XG5cdFx0XHRjb25zdCBub25lTXNnID0gcmVuZGVyRWxlbWVudChcImg0XCIsIFwibm8tcmV2aWV3LW1zZ1wiKTtcblx0XHRcdG5vbmVNc2cudGV4dENvbnRlbnQgPSBcIk5vIHJlY29tbWVuZGF0aW9ucyBmb3VuZC5cIjtcblx0XHRcdHJlY3NDb250YWluZXIuYXBwZW5kQ2hpbGQobm9uZU1zZyk7XG5cdFx0XHRyZWNzQ29udGFpbmVyLnN0eWxlID0gXCJkaXNwbGF5OiBmbGV4OyBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcIjtcblx0XHRcdHJldHVybiByZWNzQ29udGFpbmVyO1xuXHRcdH1cblx0XHRmb3IgKGxldCByZWMgaW4gcmVjcykge1xuXHRcdFx0cmVjc0NvbnRhaW5lci5hcHBlbmRDaGlsZChkcmF3UmVjKHJlY3NbcmVjXSkpO1xuXHRcdH1cblx0XHRyZXR1cm4gcmVjc0NvbnRhaW5lcjtcblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIG5vZGUgZWxlbWVudCB0aGF0IGNvbnRhaW5zIGFsbCB0aGUgcmVsZXZhbnQgaW5mb3JtYXRpb24gb2YgYVxuXHQgKiByZWNvbW1lbmRhdGlvbiBiYXNlZCBvbiB0aGUgc3BlY2lmaWMgbW92aWUvVFYgc2hvdy5cblx0ICogQHBhcmFtIHtPYmplY3R9IHJlYyAgU3BlY2lmaWMgcmVjb21tZW5kYXRpb24ncyByZWxldmFudCBpbmZvcm1hdGlvbi5cblx0ICogQHJldHVybnMge05vZGV9IFx0XHRBIG5vZGUgZWxlbWVudCB0aGF0IGhvdXNlcyBhIHNpbmd1bGFyIHJlY2NvLlxuXHQgKiBcdFx0XHRcdFx0XHRDb250YWlucyBhbGwgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIGFuZCBwb3N0ZXJzLlxuXHQgKi9cblx0Y29uc3QgZHJhd1JlYyA9IChyZWMpID0+IHtcblx0XHRjb25zdCByZWNDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmVjLWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCByZWNQb3N0ZXIgPSByZW5kZXJFbGVtZW50KFwiaW1nXCIsIFwicmVjLXBvc3RlclwiKTtcblx0XHRjb25zdCBpbmZvID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInJlYy1pbmZvXCIpO1xuXG5cdFx0cmVjUG9zdGVyLnNyYyA9IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC93MzAwLyR7cmVjLnBvc3Rlcl9wYXRofWA7XG5cblx0XHRyZWNDb250YWluZXIuYXBwZW5kQ2hpbGQocmVjUG9zdGVyKTtcblx0XHRyZW5kZXJJbmZvKHJlYykuZm9yRWFjaCgoc3ViSW5mbykgPT4gaW5mby5hcHBlbmRDaGlsZChzdWJJbmZvKSk7XG5cblx0XHRjb25zdCByZWNMaW5rID0gcmVuZGVyRWxlbWVudChcImFcIiwgXCJyZWMtbGlua1wiKTtcblx0XHRjb25zdCBtZWRpYVR5cGUgPSByZWMudE5hbWUgPyBcIlRWIFNob3dcIiA6IFwiTW92aWVcIjtcblx0XHRyZWNMaW5rLnRleHRDb250ZW50ID0gYFNlYXJjaCBmb3IgdGhpcyAke21lZGlhVHlwZX0gLT4gYDtcblx0XHRyZWNMaW5rLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBhc3luYyAoZSkgPT4ge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0cGFnZS5jbGVhclNlY3Rpb25zKCk7XG5cdFx0XHRyZWMudE5hbWVcblx0XHRcdFx0PyBhd2FpdCBwYWdlLmRyYXdTZWN0aW9ucyhyZWMudE5hbWUpXG5cdFx0XHRcdDogYXdhaXQgcGFnZS5kcmF3U2VjdGlvbnMocmVjLm1OYW1lKTtcblx0XHR9KTtcblxuXHRcdGluZm8uYXBwZW5kQ2hpbGQocmVjTGluayk7XG5cdFx0cmVjQ29udGFpbmVyLmFwcGVuZENoaWxkKGluZm8pO1xuXHRcdHJldHVybiByZWNDb250YWluZXI7XG5cblx0XHQvKipcblx0XHQgKiBSZXR1cm5zIGFuIEFycmF5IHdpdGggbm9kZXMgd2l0aCAgcmVsZXZhbnQgaW5mb3JtYXRpb24gb24gdGhlXG5cdFx0ICogc3BlY2lmaWVkIHJlY29tbWVuZGF0aW9uLlxuXHRcdCAqIEBwYXJhbSB7T2JqZWN0fSBzdWJJbmZvICBBbGwgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIG5lZWRlZCBmb3IgYVxuXHRcdCAqIFx0XHRcdFx0XHRcdFx0cmVjb21tZW5kYXRpb24uXG5cdFx0ICogQHJldHVybnMge0FycmF5fVx0XHRcdEFsbCA8cD4gbm9kZXMgY29udGFpbmluZyB0aGUgaW5mb3JtYXRpb24uXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gcmVuZGVySW5mbyhzdWJJbmZvKSB7XG5cdFx0XHRpZiAoc3ViSW5mbykge1xuXHRcdFx0XHQvLyBJZiBpbmZvIGV4aXN0cy5cblx0XHRcdFx0Y29uc3QgcmVjTmFtZSA9IHJlbmRlckVsZW1lbnQoXCJwXCIsIFwicmVjLW5hbWVcIik7XG5cdFx0XHRcdGNvbnN0IHJlY0RhdGUgPSByZW5kZXJFbGVtZW50KFwicFwiLCBcInJlYy1kYXRlXCIpO1xuXHRcdFx0XHRjb25zdCB2b3RlQ291bnQgPSByZW5kZXJFbGVtZW50KFwicFwiLCBcInJlYy12b3RlLWNvdW50XCIpO1xuXHRcdFx0XHRjb25zdCB2b3RlQXZnID0gcmVuZGVyRWxlbWVudChcInBcIiwgXCJyZWMtdm90ZS1hdmdcIik7XG5cblx0XHRcdFx0Ly8gU29ydCB0ZXh0IGNvbnRlbnQgb2Ygbm9kZXMgYmFzZWQgb24gdGhlIG1lZGlhIHR5cGUuXG5cdFx0XHRcdHJlY05hbWUudGV4dENvbnRlbnQgPSBzdWJJbmZvLnROYW1lXG5cdFx0XHRcdFx0PyBgTmFtZTogJHtzdWJJbmZvLnROYW1lfWBcblx0XHRcdFx0XHQ6IGBOYW1lOiAke3N1YkluZm8ubU5hbWV9YDtcblx0XHRcdFx0cmVjRGF0ZS50ZXh0Q29udGVudCA9IHN1YkluZm8uZmlyc3RfYWlyX2RhdGVcblx0XHRcdFx0XHQ/IGBGaXJzdCBBaXIgRGF0ZTogJHtzdWJJbmZvLmZpcnN0X2Fpcl9kYXRlfWBcblx0XHRcdFx0XHQ6IGBSZWxlYXNlIERhdGU6ICR7c3ViSW5mby5yZWxlYXNlX2RhdGV9YDtcblx0XHRcdFx0dm90ZUNvdW50LnRleHRDb250ZW50ID0gYFZvdGUgQ291bnQ6ICR7c3ViSW5mby52b3RlX2NvdW50fWA7XG5cdFx0XHRcdHZvdGVBdmcudGV4dENvbnRlbnQgPSBgVm90ZSBBdmc6ICR7c3ViSW5mby52b3RlX2F2ZXJhZ2V9YDtcblxuXHRcdFx0XHRyZXR1cm4gW3JlY05hbWUsIHJlY0RhdGUsIHZvdGVDb3VudCwgdm90ZUF2Z107XG5cdFx0XHR9XG5cdFx0fVxuXHR9O1xuXG5cdC8qKlxuXHQgKiBEcmF3IGNvdW50cmllcyBtb2RhbCB0aGF0IGFwcGVhcnMgd2hlbiBjb3VudHJ5LXNlbGVjdG9yIGJ0biBpcyBjbGlja2VkXG5cdCAqIG9uLiBUaGUgZm9ybSBzdHJ1Y3R1cmUgaXMgZm9ybWF0dGVkIGJ5IHR3byBwYXJ0czpcblx0ICogIC0gSGVhZGluZ1xuXHQgKiBcdC0gQm9keS5cblx0ICogVGhlIGV2ZW50IGxpc3RlbmVyIGZvciB0aGUgY291bnRyeS1zZWxlY3RvciBidG4gaXMgYWxzbyBhdHRhY2hlZC5cblx0ICogQHBhcmFtIHtTdHJpbmd9IGN1cnJDb3VudHJ5TmFtZSAgQ3VycmVudCBuYW1lIG9mIHRoZSBjb3VudHJ5XG5cdCAqIFx0XHRcdFx0XHRcdFx0XHRcdGUuZy4gXCJBdXN0cmFsaWFcIlxuXHQgKi9cblx0ZnVuY3Rpb24gcmVuZGVyQ291bnRyaWVzTW9kYWwoY3VyckNvdW50cnlOYW1lKSB7XG5cdFx0Ly8gQ291bnRyeSBuYW1lc1xuXHRcdGNvbnN0IHByb3ZpZGVyQ291bnRyaWVzID0gT2JqZWN0LmtleXMocHJvdmlkZXJzKTtcblx0XHQvLyBTb3J0IGJ5IGNvdW50cnkgbmFtZSBhbmQgY29kZXMgaW50byBhbiBvYmouXG5cdFx0bGV0IGNvdW50cmllcyA9IHt9O1xuXHRcdGxldCBjdXJyQ291bnRyeUNvZGU7XG5cdFx0cHJvdmlkZXJDb3VudHJpZXMuZm9yRWFjaCgoY291bnRyeSkgPT4ge1xuXHRcdFx0Y291bnRyaWVzW2NvdW50cnldID0gcHJvdmlkZXJzW2NvdW50cnldLmNvdW50cnlDb2RlO1xuXG5cdFx0XHQvLyBGaW5kIGN1cnJlbnQgY291bnRyeSBjb2RlLlxuXHRcdFx0aWYgKGN1cnJDb3VudHJ5TmFtZSA9PT0gY291bnRyeSkge1xuXHRcdFx0XHRjdXJyQ291bnRyeUNvZGUgPSBwcm92aWRlcnNbY291bnRyeV0uY291bnRyeUNvZGU7XG5cdFx0XHR9XG5cdFx0fSk7XG5cblx0XHQvLyBJbml0aWFsaXNlIGNvbnRhaW5lciBub2Rlc1xuXHRcdGNvbnN0IG1vZGFsQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImZvcm1cIiwgXCJtb2RhbC1jb3VudHJ5LWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCBtb2RhbEhlYWRlciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJtb2RhbC1oZWFkZXJcIik7XG5cdFx0Y29uc3QgbW9kYWxCb2R5ID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcIm1vZGFsLWJvZHlcIik7XG5cdFx0Y29uc3QgbW9kYWxDdXJyZW50Q291bnRyeSA9IHJlbmRlckVsZW1lbnQoXG5cdFx0XHRcImRpdlwiLFxuXHRcdFx0XCJtb2RhbC1jdXJyZW50LWNvdW50cnlcIlxuXHRcdCk7XG5cdFx0Y29uc3QgbW9kYWxJbnB1dFNlYXJjaCA9IHJlbmRlckVsZW1lbnQoXCJpbnB1dFwiLCBcIm1vZGFsLWlucHV0LXNlYXJjaFwiKTtcblx0XHRjb25zdCBtb2RhbExpc3RDb3VudHJpZXMgPSByZW5kZXJFbGVtZW50KFwidWxcIiwgXCJtb2RhbC1saXN0LWNvdW50cmllc1wiKTtcblx0XHRjb25zdCBtb2RhbENsb3NlQnRuID0gcmVuZGVyRWxlbWVudChcImJ1dHRvblwiLCBcIm1vZGFsLWNsb3NlLWJ0blwiKTtcblxuXHRcdC8qKlxuXHRcdCAqIERyYXdzIG1vZGFsIGhlYWRpbmcgYW5kIGFkZCBpdCB0byB0aGUgbW9kYWwgZm9ybSBjb250YWluZXIuXG5cdFx0ICogU2hvdWxkIGluY2x1ZGU6XG5cdFx0ICogXHRcdC0gU2VhcmNoIGJhciB0aGF0IGZpbHRlcnMgZGlmZmVyZW50IGNvdW50cnkgcmVzdWx0cy5cblx0XHQgKi9cblx0XHRjb25zdCByZW5kZXJIZWFkaW5nID0gKCkgPT4ge1xuXHRcdFx0Ly8gSGVhZGluZyB0aGF0IGRpc3BsYXlzIGN1cnJlbnQgY291bnRyeSBzZWxlY3RlZC5cblx0XHRcdGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG5cdFx0XHRoZWFkaW5nLnRleHRDb250ZW50ID0gXCJDb3VudHJpZXNcIjtcblxuXHRcdFx0Y29uc3QgY3VyckNvdW50cnkgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDNcIik7XG5cdFx0XHRjb25zdCBzZWFyY2hMYWJlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcblxuXHRcdFx0Ly8gQWRkIHJlc3BlY3RpdmUgYXR0cmlidXRlcyB0byBzZWFyY2ggYmFyIG5vZGUuXG5cdFx0XHRjb25zdCBzZWFyY2hBdHRyaWJ1dGVzID0ge1xuXHRcdFx0XHRpZDogXCJtb2RhbC1pbnB1dC1zZWFyY2hcIixcblx0XHRcdFx0dHlwZTogXCJzZWFyY2hcIixcblx0XHRcdFx0cGxhY2Vob2xkZXI6IFwi8J+UjSBTZWFyY2ggZm9yIGNvdW50cmllcy4uLlwiLFxuXHRcdFx0XHR0aXRsZTogXCJUeXBlIGluIGEgY291bnRyeSBuYW1lXCIsXG5cdFx0XHRcdHJvbGU6IFwic2VhcmNoXCIsXG5cdFx0XHR9O1xuXG5cdFx0XHRmb3IgKGxldCBpIGluIHNlYXJjaEF0dHJpYnV0ZXMpIHtcblx0XHRcdFx0bW9kYWxJbnB1dFNlYXJjaC5zZXRBdHRyaWJ1dGUoaSwgc2VhcmNoQXR0cmlidXRlc1tpXSk7XG5cdFx0XHR9XG5cblx0XHRcdC8vIEZpbHRlciBjb3VudHJpZXMgYmFzZWQgb24gdmFsdWUgYWZ0ZXIgZWFjaCBrZXl1cCBldmVudCB1c2luZ1xuXHRcdFx0Ly8gdGhlIGZpbHRlclJlc3VsdHMgZm5jLlxuXHRcdFx0bW9kYWxJbnB1dFNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgZmlsdGVyUmVzdWx0cyk7XG5cdFx0XHRtb2RhbElucHV0U2VhcmNoLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0fSk7XG5cblx0XHRcdC8vIEZpbmQgY3VycmVudCBjb3VudHJ5IG5hbWUgYW5kIGNvZGUuXG5cdFx0XHRjb25zdCBjdXJyQ291bnRyeUZsYWcgPSByZW5kZXJDb3VudHJ5RmxhZyhcblx0XHRcdFx0Y3VyckNvdW50cnlDb2RlLFxuXHRcdFx0XHRjdXJyQ291bnRyeU5hbWVcblx0XHRcdCk7XG5cdFx0XHRjdXJyQ291bnRyeS50ZXh0Q29udGVudCA9IGN1cnJDb3VudHJ5TmFtZTtcblxuXHRcdFx0Ly8gSGF2ZSB0aGUgY3VycmVudCBjb3VudHJ5IHdpdGggaXRzIGZsYWcgYXMgYSB0aXRsZSBmb3IgdGhlIG1vZGFsLlxuXHRcdFx0bW9kYWxDdXJyZW50Q291bnRyeS5hcHBlbmRDaGlsZChjdXJyQ291bnRyeUZsYWcpO1xuXHRcdFx0bW9kYWxDdXJyZW50Q291bnRyeS5hcHBlbmRDaGlsZChjdXJyQ291bnRyeSk7XG5cblx0XHRcdHNlYXJjaExhYmVsLmh0bWxGb3IgPSBgJHttb2RhbElucHV0U2VhcmNoLmlkfWA7XG5cblx0XHRcdFtcblx0XHRcdFx0aGVhZGluZyxcblx0XHRcdFx0bW9kYWxDdXJyZW50Q291bnRyeSxcblx0XHRcdFx0c2VhcmNoTGFiZWwsXG5cdFx0XHRcdG1vZGFsSW5wdXRTZWFyY2gsXG5cdFx0XHRdLmZvckVhY2goKGZvcm1FbGVtKSA9PiB7XG5cdFx0XHRcdG1vZGFsSGVhZGVyLmFwcGVuZENoaWxkKGZvcm1FbGVtKTtcblx0XHRcdH0pO1xuXHRcdH07XG5cblx0XHQvKipcblx0XHQgKiBGb3IgZXZlcnkgY291bnRyeSB3aGVyZSBhIHdhdGNoIHByb3ZpZGVyIGV4aXN0cyBmb3IgdGhlIG1vdmllL1RWXG5cdFx0ICogc2hvdywgcmVuZGVyIHRoZSBuYW1lIGFuZCBjb3VudHJ5IGZsYWcgYXMgYW4gb3B0aW9uIGluIGEgbGlzdCBmb3JtYXQuXG5cdFx0ICovXG5cdFx0Y29uc3QgcmVuZGVyQm9keSA9ICgpID0+IHtcblx0XHRcdG1vZGFsTGlzdENvdW50cmllcy5pZCA9IFwiY291bnRyaWVzLWxpc3RcIjtcblxuXHRcdFx0T2JqZWN0LmVudHJpZXMoY291bnRyaWVzKS5mb3JFYWNoKChbY291bnRyeSwgY291bnRyeUNvZGVdKSA9PiB7XG5cdFx0XHRcdGNvbnN0IGNvdW50cnlDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFxuXHRcdFx0XHRcdFwibGlcIixcblx0XHRcdFx0XHRcImNvdW50cnktY29udGFpbmVyXCJcblx0XHRcdFx0KTtcblx0XHRcdFx0Y29uc3QgY291bnRyeUZsYWcgPSByZW5kZXJDb3VudHJ5RmxhZyhjb3VudHJ5Q29kZSwgY291bnRyeSk7XG5cdFx0XHRcdGNvbnN0IGNvdW50cnlOYW1lID0gcmVuZGVyRWxlbWVudChcImFcIiwgXCJjb3VudHJ5LW5hbWVcIik7XG5cblx0XHRcdFx0Y291bnRyeU5hbWUudGV4dENvbnRlbnQgPSBjb3VudHJ5O1xuXHRcdFx0XHRjb3VudHJ5TmFtZS5ocmVmID0gXCIjXCI7XG5cblx0XHRcdFx0W2NvdW50cnlGbGFnLCBjb3VudHJ5TmFtZV0uZm9yRWFjaCgoY291bnRyeUVsZW0pID0+IHtcblx0XHRcdFx0XHRjb3VudHJ5Q29udGFpbmVyLmFwcGVuZENoaWxkKGNvdW50cnlFbGVtKTtcblx0XHRcdFx0fSk7XG5cblx0XHRcdFx0bW9kYWxMaXN0Q291bnRyaWVzLmFwcGVuZENoaWxkKGNvdW50cnlDb250YWluZXIpO1xuXHRcdFx0fSk7XG5cblx0XHRcdFttb2RhbExpc3RDb3VudHJpZXNdLmZvckVhY2goKGZvcm1FbGVtKSA9PiB7XG5cdFx0XHRcdG1vZGFsQm9keS5hcHBlbmRDaGlsZChmb3JtRWxlbSk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogRHJhdyBjbG9zZSBidG4gdGhhdCBhcHBlYXJzIHRvcC1yaWdodCBvZiBmb3JtLlxuXHRcdCAqIEBwYXJhbSB7RnVuY3Rpb259IGNsb3NlRm5jIEZ1bmN0aW9uIHRoYXQgY2xvc2VzIHRoZSBmb3JtLlxuXHRcdCAqL1xuXHRcdGNvbnN0IHJlbmRlckNsb3NlQnRuID0gKGNsb3NlRm5jKSA9PiB7XG5cdFx0XHRjb25zdCBjbG9zZVN5bWIgPSByZW5kZXJFbGVtZW50KFwiaVwiLCBcImZhXCIpO1xuXHRcdFx0Y2xvc2VTeW1iLmNsYXNzTGlzdC5hZGQoXCJmYS1jbG9zZVwiKTtcblx0XHRcdG1vZGFsQ2xvc2VCdG4uYXBwZW5kQ2hpbGQoY2xvc2VTeW1iKTtcblx0XHRcdGNsb3NlRm5jKCk7XG5cdFx0fTtcblx0XHRjb25zdCBhZGRDbG9zZUZuYyA9ICgpID0+IHtcblx0XHRcdG1vZGFsQ2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0Y29uc3QgY3VycmVudEZvcm0gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxuXHRcdFx0XHRcdFwiLm1vZGFsLWNvdW50cnktY29udGFpbmVyXCJcblx0XHRcdFx0KTtcblx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mYWNlLW1hc2tcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXG5cdFx0XHRcdHNldFRpbWVvdXQoc2V0SW52aXNpYmxlLCAxMDApOyAvLyBkZWxheSBmb3IgYW5pbWF0aW9uIHRvIGhhcHBlblxuXHRcdFx0XHRmdW5jdGlvbiBzZXRJbnZpc2libGUoKSB7XG5cdFx0XHRcdFx0Y3VycmVudEZvcm0uc3R5bGUudHJhbnNmb3JtID0gXCJ0cmFuc2xhdGVZKC0xMjUlKVwiO1xuXHRcdFx0XHR9XG5cdFx0XHRcdHNldFRpbWVvdXQocmVtb3ZlTW9kYWwsIDc1MCk7IC8vIGRlbGF5IGZvciBhbmltYXRpb24uXG5cdFx0XHRcdGZ1bmN0aW9uIHJlbW92ZU1vZGFsKCkge1xuXHRcdFx0XHRcdGN1cnJlbnRGb3JtLnN0eWxlLm9wYWNpdHkgPSAwO1xuXHRcdFx0XHRcdGN1cnJlbnRGb3JtLnN0eWxlLnZpc2liaWxpdHkgPSBcImhpZGRlblwiO1xuXHRcdFx0XHRcdGN1cnJlbnRGb3JtLnJlbW92ZSgpO1xuXHRcdFx0XHR9XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0Ly8gUmVuZGVyIHNlY3Rpb25zIG9mIHRoZSBmb3JtIHRvIHRoZWlyIHJlc3BlY3RpdmUgY29udGFpbmVycy5cblx0XHRyZW5kZXJIZWFkaW5nKCk7XG5cdFx0cmVuZGVyQm9keSgpO1xuXHRcdHJlbmRlckNsb3NlQnRuKGFkZENsb3NlRm5jKTtcblxuXHRcdC8vIEFkZCBlYWNoIGhvdXNpbmcgY29udGFpbmVyIHRvIHRoZSBvdmVyYWxsIG1vZGFsIGNvbnRhaW5lci5cblx0XHRbbW9kYWxIZWFkZXIsIG1vZGFsQm9keSwgbW9kYWxDbG9zZUJ0bl0uZm9yRWFjaCgobW9kYWxFbGVtKSA9PlxuXHRcdFx0bW9kYWxDb250YWluZXIuYXBwZW5kQ2hpbGQobW9kYWxFbGVtKVxuXHRcdCk7XG5cblx0XHRzZXRUaW1lb3V0KG1ha2VWaXNpYmxlLCAxMDApOyAvLyBkZWxheSBmb3IgYW5pbWF0aW9uLlxuXG5cdFx0ZnVuY3Rpb24gbWFrZVZpc2libGUoKSB7XG5cdFx0XHQvLyBTZXQgc3R5bGluZyB0byB2aXNpYmxlIGZvciBhbmltYXRpb24gZmFkZSBpbiBlZmZlY3QuXG5cdFx0XHRtb2RhbENvbnRhaW5lci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG5cdFx0XHRtb2RhbENvbnRhaW5lci5zdHlsZS5vcGFjaXR5ID0gMTtcblx0XHRcdG1vZGFsQ29udGFpbmVyLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgwJSlcIjtcblx0XHR9XG5cblx0XHRjb25zdCBib2R5RG9jdW1lbnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYm9keVwiKTtcblx0XHRib2R5RG9jdW1lbnQuYXBwZW5kKG1vZGFsQ29udGFpbmVyKTtcblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhY2UtbWFza1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xuXG5cdFx0LyoqXG5cdFx0ICogXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvdW50cnlDb2RlICBDb3VudHJ5IGNvZGUgaW4gYSAyIGxldHRlciBmb3JtYXQuXG5cdFx0ICogXHRcdFx0XHRcdFx0XHRcdGUuZy4gXCJBVVwiXG5cdFx0ICogQHBhcmFtIHsqfSBjb3VudHJ5TmFtZSBcdFx0RnVsbCBjb3VudHJ5IG5hbWUgaS5lLiBcIkF1c3RyYWxpYVwiXG5cdFx0ICogQHJldHVybnMge05vZGV9XHRcdFx0XHRJbWcgTm9kZSB3aXRoIGZsYWcuXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gcmVuZGVyQ291bnRyeUZsYWcoY291bnRyeUNvZGUsIGNvdW50cnlOYW1lKSB7XG5cdFx0XHRjb25zdCBmbGFnID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcImNvdW50cnktZmxhZ1wiKTtcblx0XHRcdC8vIGZsYWcuc2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIiwgXCJhbm9ueW1vdXNcIik7XG5cdFx0XHR0cnkge1xuXHRcdFx0XHRmbGFnLnNyYyA9IGBodHRwczovL2ZsYWdzYXBpLmNvbS8ke3Byb3ZpZGVyc1tjb3VudHJ5TmFtZV1cblx0XHRcdFx0XHRcdFx0LmNvdW50cnlDb2RlfS9zaGlueS82NC5wbmdgO1xuXHRcdFx0fSBjYXRjaChlcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gcmV0cmlldmUgZmxhZyBmb3I6ICR7Y291bnRyeU5hbWV9YCk7XG5cdFx0XHR9XG5cdFx0XHRmbGFnLmFsdCA9IGAke2NvdW50cnlOYW1lfSBmbGFnYDtcblx0XHRcdHJldHVybiBmbGFnO1xuXHRcdH1cblxuXHRcdC8qKlxuXHRcdCAqIEZpbHRlciBjb3VudHJ5IG5hbWVzIGJhc2VkIG9uIHRoZSB2YWx1ZSBvZiB0aGUgc2VhcmNoIGJhciBpbiB0aGUgXG5cdFx0ICogZm9ybSBtb2RhbC5cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBmaWx0ZXJSZXN1bHRzKCkge1xuXHRcdFx0bGV0IGlucHV0LCBmaWx0ZXIsIHVsLCBsaSwgYSwgaSwgdHh0VmFsdWU7XG5cdFx0XHRpbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibW9kYWwtaW5wdXQtc2VhcmNoXCIpO1xuXHRcdFx0ZmlsdGVyID0gaW5wdXQudmFsdWUudG9VcHBlckNhc2UoKTtcblx0XHRcdHVsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjb3VudHJpZXMtbGlzdFwiKTtcblx0XHRcdGxpID0gdWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKTtcblxuXHRcdFx0Ly8gTG9naWMgdGhhdCBmaWx0ZXJzIHRoZSBjb3VudHJpZXMgYmFzZWQgb24gaW5wdXQuXG5cdFx0XHRmb3IgKGkgPSAwOyBpIDwgbGkubGVuZ3RoOyBpKyspIHtcblxuXHRcdFx0XHQvLyBTcGVjaWZpYyBjb3VudHJ5IGlkZW50aWZpZWQgaW4gdGhlIGl0ZXJhdGlvbi5cblx0XHRcdFx0YSA9IGxpW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKVswXTtcblx0XHRcdFx0dHh0VmFsdWUgPSBhLnRleHRDb250ZW50IHx8IGEuaW5uZXJUZXh0O1xuXG5cdFx0XHRcdC8vIEF0dGVtcHRzIHRvIGZpbmQgdGhlIHRleHQgdmFsdWUgb2YgdGhlIHNlYXJjaCdzIHZhbHVlLiBJZlxuXHRcdFx0XHQvLyBmb3VuZCwgZG9uJ3QgY2hhbmdlIGRpc3BsYXkgc3R5bGluZy4gT3RoZXJ3aXNlLCBzZXQgdGhlXG5cdFx0XHRcdC8vIGRpc3BsYXkgb2YgdGhlIGNvdW50cnktY29udGFpbmVyIHRvIG5vbmUuXG5cdFx0XHRcdGlmICh0eHRWYWx1ZS50b1VwcGVyQ2FzZSgpLmluZGV4T2YoZmlsdGVyKSA+IC0xKSB7XG5cdFx0XHRcdFx0bGlbaV0uc3R5bGUuZGlzcGxheSA9IFwiXCI7XG5cdFx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdFx0bGlbaV0uc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIFNpbWlsaWFyIGxvZ2ljIHRvIGZpbHRlclJlc3VsdHMoKS5cblx0ICogRnVuY3Rpb24gYXR0ZW1wdHMgdG8gZmluZCB0aGUgc3BlY2lmaWMgY291bnRyeSBiYXNlZCBvbiBjb3VudHJ5TmFtZSBwYXJhbVxuXHQgKiAuIElmIGZvdW5kLCBoaWdobGlnaHQgdGhlIHNwZWNpZmllZCBjb3VudHJ5J3MgYXBwZWFyYW5jZSBpbiB0aGUgbW9kYWwuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBjb3VudHJ5TmFtZSBGdWxsIGNvdW50cnkgbmFtZSBlLmcuIFwiQXVzdHJhbGlhXCJcblx0ICovXG5cdGZ1bmN0aW9uIGhpZ2hsaWdodEN1cnJDb3VudHJ5KGNvdW50cnlOYW1lKSB7XG5cdFx0Ly8gSGlnaGxpZ2h0IHNlbGVjdGVkIGN1cnJlbnQgY291bnRyeSBpbiB0aGUgbGlzdCBvZiBjb3VudHJpZXMgd2hlblxuXHRcdC8vIG1vZGFsIGlzIG9wZW5lZC4gQWRkIGEgdGljayBpY29uIHNpbXVsdGFuZW91c2x5XG5cblx0XHRsZXQgdWwsIGxpLCBpLCBhLCB0eHRWYWx1ZTtcblx0XHR1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291bnRyaWVzLWxpc3RcIik7XG5cdFx0bGkgPSB1bC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImxpXCIpO1xuXHRcdGZvciAoaSA9IDA7IGkgPCBsaS5sZW5ndGg7IGkrKykge1xuXHRcdFx0YSA9IGxpW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwiYVwiKVswXTtcblx0XHRcdHR4dFZhbHVlID0gYS50ZXh0Q29udGVudCB8fCBhLmlubmVyVGV4dDtcblxuXHRcdFx0Ly8gQ29uZGl0aW9uIHRoYXQgbWF0Y2hlcyB0aGUgdGV4dCB2YWx1ZSBhbmQgaXRzIGNvdW50cnkgbmFtZS5cblx0XHRcdC8vIElmIG1ldCwgY2hhbmdlIHN0eWxpbmcgdG8gaGlnaGxpZ2h0LlxuXHRcdFx0aWYgKHR4dFZhbHVlID09PSBjb3VudHJ5TmFtZSkge1xuXHRcdFx0XHRsaVtpXS5zdHlsZS5iYWNrZ3JvdW5kQ29sb3IgPSBcInJnYmEoMjUsIDE1MCwgMTUwLCAwLjUpXCI7XG5cdFx0XHRcdGxpW2ldLnN0eWxlLnRyYW5zZm9ybSA9IFwic2NhbGUoMS4wMjUpXCI7XG5cblx0XHRcdFx0Ly8gQWRkIHRpY2sgaWNvbiB0byBzZWxlY3RlZCBjb3VudHJ5LWNvbnRhaW5lclxuXHRcdFx0XHRjb25zdCB0aWNrSWNvbiA9IHJlbmRlckVsZW1lbnQoXCJpXCIsIFwiZmFcIik7XG5cdFx0XHRcdHRpY2tJY29uLmNsYXNzTGlzdC5hZGQoXCJmYS1jaGVja1wiKTtcblx0XHRcdFx0bGlbaV0uYXBwZW5kKHRpY2tJY29uKTtcblx0XHRcdH1cblx0XHR9XG5cdH1cblx0cmV0dXJuIHtcblx0XHRzZWN0aW9uLFxuXHRcdGFkZFRvU2VjdGlvbixcblx0XHRkcmF3QWxsLFxuXHRcdGRyYXdJbnRybyxcblx0XHRkcmF3U3ViSW5mb3MsXG5cdFx0ZHJhd1N1bW1hcnlIZWFkaW5nLFxuXHRcdGRyYXdTdW1tYXJ5LFxuXHRcdGRyYXdQcm92aWRlcnMsXG5cdFx0ZHJhd1Jldmlld3MsXG5cdFx0ZHJhd1RyYWlsZXIsXG5cdFx0ZHJhd1JlY3MsXG5cdH07XG59O1xuXG5leHBvcnQgeyBkcmF3U2VjdGlvbiB9O1xuIiwiaW1wb3J0IGNvbGxlY3RTZWFyY2hRdWVyeSBmcm9tIFwiLi9zZWFyY2hcIjtcbmltcG9ydCB7IGZldGNoSWRzIH0gZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaElkXCI7XG5pbXBvcnQgKiBhcyBtb3ZpZSBmcm9tIFwiLi4vYXBpRnVuY3Rpb25zL2ZldGNoTW92aWVJbmZvXCI7XG5pbXBvcnQgeyBkcmF3U2VjdGlvbiB9IGZyb20gXCIuL2RyYXdTZWN0aW9uXCI7XG5cbmFzeW5jIGZ1bmN0aW9uIGRyYXdTZWN0aW9ucyh0aXRsZSkge1xuXHRjb25zdCBpZHMgPSBhd2FpdCBmZXRjaElkcyh0aXRsZSk7XG5cdGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29udGFpbmVyXCIpO1xuXHRzaG93TG9hZGVyKCk7XG5cblx0bGV0IHNlY3Rpb25zID0gW107XG5cblx0Ly8gTWFrZSBhbiBhcnIgdy8gZWxlbXMgb2YgW2lkLCBtZWRpYV1cblx0Zm9yIChsZXQgaWQgaW4gaWRzKSB7XG5cdFx0c2VjdGlvbnMucHVzaChbaWQsIGlkc1tpZF1dKTtcblx0fVxuXG5cdGNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG5cdFx0ZW50cmllcy5mb3JFYWNoKChlbnRyeSkgPT4ge1xuXHRcdFx0aWYgKGVudHJ5LmlzSW50ZXJzZWN0aW5nKSB7XG5cdFx0XHRcdGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcblx0XHRcdH0gZWxzZSB7XG5cdFx0XHRcdHJldHVybjtcblx0XHRcdH1cblx0XHR9KTtcblx0fSk7XG5cblx0XG5cdC8vIGRyYXcgYWxsIHNlY3Rpb25zXG5cdHNlY3Rpb25zLmZvckVhY2goYXN5bmMgKHNlY3Rpb24pID0+IHtcblx0XHRhd2FpdCByZW5kZXJTZWN0aW9uKHNlY3Rpb25bMF0sIHNlY3Rpb25bMV0pLnRoZW4oKCkgPT4gaGlkZUxvYWRlcigpKTtcblxuXHRcdC8vIEVuYWJsZSBhbmltYXRpb24gaWYgYW5pbWF0aW9uLWNoZWNrIGNoZWNrYm94IGlzIGNoZWNrZWQuXG5cdFx0Y29uc3QgYW5pbWF0aW9uQ2hlY2sgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNoZWNrLWFuaW1hdGlvblwiKTtcblx0XHRpZiAoYW5pbWF0aW9uQ2hlY2suY2hlY2tlZCkge1xuXHRcdFx0Y29uc3QgZWxlbWVudHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZShcImRpdlwiKTtcblx0XHRcdFsuLi5lbGVtZW50c10uZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0ZWwuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcblx0XHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG5cdFx0XHR9KTtcblx0XHR9XG5cdH0pO1xuXG5cdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXQtc2VhcmNoXCIpLnZhbHVlID0gdGl0bGUuc3BsaXQoXCIrXCIpLmpvaW4oXCIgXCIpO1xuXG5cdGFzeW5jIGZ1bmN0aW9uIHJlbmRlclNlY3Rpb24oaWQsIG1lZGlhKSB7XG5cdFx0Y29uc3Qgc2VjdGlvbiA9IGF3YWl0IGRyYXdTZWN0aW9uKGlkLCBtZWRpYSk7XG5cblx0XHQvLyBBZGQgd3JhcHBlciBkaXZzIGZvciBsYXlvdXQuXG5cdFx0Y29uc3QgaW50cm9TdWJJbmZvID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcblx0XHRpbnRyb1N1YkluZm8uY2xhc3NMaXN0LmFkZChcImludHJvLXN1Yi1pbmZvXCIpO1xuXHRcdGludHJvU3ViSW5mby5hcHBlbmRDaGlsZChzZWN0aW9uLmRyYXdJbnRybyhcIjMwMFwiKSk7XG5cdFx0aW50cm9TdWJJbmZvLmFwcGVuZENoaWxkKHNlY3Rpb24uZHJhd1N1YkluZm9zKCkpO1xuXG5cdFx0Y29uc3Qgc3lub3BzaXNXYXRjaFB2ZGVycyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0c3lub3BzaXNXYXRjaFB2ZGVycy5jbGFzc0xpc3QuYWRkKFwic3lub3BzaXMtd2F0Y2gtcHJvdmlkZXJzXCIpO1xuXHRcdHN5bm9wc2lzV2F0Y2hQdmRlcnMuYXBwZW5kQ2hpbGQoc2VjdGlvbi5kcmF3U3VtbWFyeUhlYWRpbmcoKSk7XG5cdFx0c3lub3BzaXNXYXRjaFB2ZGVycy5hcHBlbmRDaGlsZChzZWN0aW9uLmRyYXdTdW1tYXJ5KCkpO1xuXHRcdHN5bm9wc2lzV2F0Y2hQdmRlcnMuYXBwZW5kQ2hpbGQoc2VjdGlvbi5kcmF3UHJvdmlkZXJzKCkpO1xuXG5cdFx0Y29uc3QgcmVjSGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcblx0XHRyZWNIZWFkaW5nLmNsYXNzTGlzdC5hZGQoXCJyZWMtaGVhZGluZ1wiKTtcblx0XHRyZWNIZWFkaW5nLnRleHRDb250ZW50ID0gXCJSRUNPTU1FTkRBVElPTlM6XCI7XG5cblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihpbnRyb1N1YkluZm8pO1xuXHRcdHNlY3Rpb24uYWRkVG9TZWN0aW9uKHN5bm9wc2lzV2F0Y2hQdmRlcnMpO1xuXHRcdHNlY3Rpb24uYWRkVG9TZWN0aW9uKHNlY3Rpb24uZHJhd1Jldmlld3MoKSk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3VHJhaWxlcigpKTtcblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihyZWNIZWFkaW5nKTtcblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihzZWN0aW9uLmRyYXdSZWNzKCkpO1xuXHRcdG1haW4uYXBwZW5kQ2hpbGQoc2VjdGlvbi5zZWN0aW9uKTtcblx0fVxufVxuXG5mdW5jdGlvbiBjbGVhclNlY3Rpb25zKCkge1xuXHRjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTtcblx0Y29uc3Qgc2VjdGlvbnMgPSBtYWluLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzZWN0aW9uJyk7XG5cdFsuLi5zZWN0aW9uc10uZm9yRWFjaChzZWN0ID0+IHNlY3QucmVtb3ZlKCkpO1xufVxuXG5mdW5jdGlvbiBzaG93TG9hZGVyKCkge1xuXHRjb25zdCBsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRlclwiKTtcblx0bG9hZGVyLnN0eWxlLnZpc2liaWxpdHkgPSBcInZpc2libGVcIjtcbn1cbmZ1bmN0aW9uIGhpZGVMb2FkZXIoKSB7XG5cdGNvbnN0IGxvYWRlciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubG9hZGVyXCIpO1xuXG5cdGxvYWRlci5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbn1cblxuZXhwb3J0IHsgZHJhd1NlY3Rpb25zLCBjbGVhclNlY3Rpb25zIH07XG4iLCJpbXBvcnQgeyBBUElfS0VZIH0gZnJvbSBcIi4vY29uc3RhbnRcIjtcbi8qKlxuICogRmV0Y2hlcyB0aGUgZmlyc3QgcGFnZSBvZiB0aGUgbW92aWUvc2hvdyBpZHMgYW5kIHJldHVybnMgaXQgYXMgYW4gb2JqZWN0IHdpdGhcbiAqIHRoZSBtb3ZpZS90diBzaG93IGlkIGFuZCBpdCdzIG1lZGlhIHR5cGUgYXMga2V5LXZhbHVlIHBhaXJzLlxuICogQHBhcmFtIHtTdHJpbmd9IFx0bmFtZVx0VGhlIHNwZWNpZmljIG5hbWUgb2YgdGhlIG1vdmllL1RWIHNob3cuXG4gKiBAcmV0dXJuIHtPYmplY3R9XHRcdFx0VGhlIGxpc3Qgb2YgaWRzIGFuZCB0aGVpciByZXNwZWN0aXZlIG1lZGlhIHR5cGUgYXNcbiAqIFx0XHRcdFx0XHRcdFx0a2V5LXZhbHVlIHBhaXJzLlxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaElkcyhuYW1lKSB7XG5cdGNvbnN0IHF1ZXJ5ID0gaW50ZXJwcmV0VG9RdWVyeShuYW1lKTtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvc2VhcmNoL211bHRpP2FwaV9rZXk9JHtBUElfS0VZfVxuXHRcdFx0Jmxhbmd1YWdlPWVuLVVTJnF1ZXJ5PSR7cXVlcnl9JnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cdFx0bGV0IGlkcyA9IGRhdGEucmVzdWx0cy5yZWR1Y2UoKGFjYywgcmVzdWx0KSA9PiB7XG5cdFx0XHRhY2NbcmVzdWx0LmlkXSA9IHJlc3VsdC5tZWRpYV90eXBlO1xuXHRcdFx0cmV0dXJuIGFjYztcblx0XHR9LCB7fSk7XG5cblx0XHQvLyBTb3J0IG1vdmllL3Nob3cgYnkgcG9wdWxhcml0eS5cblx0XHRsZXQgcmVzdWx0ID0gZGF0YS5yZXN1bHRzLnNvcnQoXG5cdFx0XHQocDEsIHAyKSA9PiBwMi5wb3B1bGFyaXR5IC0gcDEucG9wdWxhcml0eVxuXHRcdCk7XG5cblx0XHRpZiAocmVzdWx0Lmxlbmd0aCkge1xuXHRcdFx0cmV0dXJuIGlkcztcblx0XHR9IGVsc2Uge1xuXHRcdFx0YWxlcnQoXG5cdFx0XHRcdGBObyByZXN1bHRzIGZvdW5kIGZvciBcIiR7bmFtZX1cIi5cXG5QbGVhc2UgY2hlY2sgeW91ciBzcGVsbGluZy5gXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0dGhyb3cgZXJyO1xuXHR9XG59XG5cbmZ1bmN0aW9uIGludGVycHJldFRvUXVlcnkobmFtZSkge1xuXHRyZXR1cm4gbmFtZS5zcGxpdChcIiBcIikuam9pbihcIitcIik7XG59XG5cbmV4cG9ydCB7IGZldGNoSWRzIH07XG4iLCJpbXBvcnQgeyBkcmF3U2VjdGlvbnMsIGNsZWFyU2VjdGlvbnMgfSBmcm9tIFwiLi4vRE9NRnVuY3Rpb25zL2RyYXdTZWN0aW9uc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBhZGRTdWJtaXRTZWFyY2hGbmMoKSB7XG5cdGNvbnN0IHNlYXJjaEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuc2VhcmNoLXF1ZXJ5XCIpO1xuXHRzZWFyY2hCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGFzeW5jIChlKSA9PiB7XG5cdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdGNvbnN0IHF1ZXJ5ID0gaW50ZXJwcmV0VG9RdWVyeShcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaW5wdXQtc2VhcmNoXCIpLnZhbHVlXG5cdFx0KTtcblx0XHRpZiAoIXF1ZXJ5KSB7XG5cdFx0XHRhbGVydChcIlBsZWFzZSBlbnRlciBhIHZhbGlkIG1vdmllL3R2IHNob3dcIik7XG5cdFx0XHRyZXR1cm47XG5cdFx0fVxuXG5cdFx0Ly8gUmVtb3ZlIHRpdGxlIHBhZ2VzIGVsZW1zIGlmIGFueS5cblx0XHRpZihkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRpdGxlLXBhZ2VcIikpIHtcblx0XHRcdGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGUtcGFnZVwiKS5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHRpZihkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmludHJvLWNvbnRhaW5lcjJcIikpIHtcblx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW50cm8tY29udGFpbmVyMlwiKS5yZW1vdmUoKTtcblx0XHR9XG5cblx0XHRjbGVhclNlY3Rpb25zKCk7XG5cdFx0YXdhaXQgZHJhd1NlY3Rpb25zKHF1ZXJ5KTtcblxuXHR9KTtcbn1cblxuZnVuY3Rpb24gaW50ZXJwcmV0VG9RdWVyeShuYW1lKSB7XG5cdHJldHVybiBuYW1lLnNwbGl0KFwiIFwiKS5qb2luKFwiK1wiKTtcbn1cbiIsImltcG9ydCB7IGRyYXdTZWN0aW9ucyB9IGZyb20gXCIuL2pzL0RPTUZ1bmN0aW9ucy9kcmF3U2VjdGlvbnNcIjtcbmltcG9ydCBhZGRUb2dnbGVBbmltYXRpb25GbmMgZnJvbSBcIi4vanMvVUkvY2hlY2tBbmltYXRpb25cIjtcbmltcG9ydCBhZGRTdWJtaXRTZWFyY2hGbmMgZnJvbSBcIi4vanMvVUkvc3VibWl0U2VhcmNoXCI7XG5cbmluaXRpYWxpc2VQYWdlKCk7XG5cbmZ1bmN0aW9uIGluaXRpYWxpc2VQYWdlKCkge1xuICAgIGFkZFN1Ym1pdFNlYXJjaEZuYygpO1xuICAgIGFkZFRvZ2dsZUFuaW1hdGlvbkZuYygpO1xufVxuXG5cblxuIl0sIm5hbWVzIjpbIm9ic2VydmVyIiwiSW50ZXJzZWN0aW9uT2JzZXJ2ZXIiLCJlbnRyaWVzIiwiZm9yRWFjaCIsImVudHJ5IiwiaXNJbnRlcnNlY3RpbmciLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJhZGQiLCJBUElfS0VZIiwiYXN5bmMiLCJmZXRjaE1vdmllRGV0YWlscyIsIm1vdmllX2lkIiwicmVzcG9uc2UiLCJmZXRjaCIsIm1vZGUiLCJvcmlnaW5hbF90aXRsZSIsIm92ZXJ2aWV3IiwidGFnbGluZSIsInBvcHVsYXJpdHkiLCJ2b3RlX2F2ZXJhZ2UiLCJ2b3RlX2NvdW50IiwiZ2VucmVzIiwidmlkZW8iLCJydW50aW1lIiwicG9zdGVyX3BhdGgiLCJiYWNrZHJvcF9wYXRoIiwicmVsZWFzZV9kYXRlIiwianNvbiIsIm1OYW1lIiwic3VtbWFyeSIsIm1hcCIsImdlbnJlIiwibmFtZSIsImVycm9yIiwiY29uc29sZSIsIm1lc3NhZ2UiLCJmZXRjaE1vdmllUmVjY29zIiwib2siLCJFcnJvciIsInJlc3VsdHMiLCJzbGljZSIsIm1vdmllIiwiaWQiLCJmZXRjaE1vdmllUHJvdmlkZXJzIiwicHJvdmlkZXJzQnlDb3VudHJ5IiwiZGF0YSIsImNvdW50cnlDb2RlIiwiY291bnRyeSIsImNvZGUiLCJJbnRsIiwiRGlzcGxheU5hbWVzIiwidHlwZSIsIm9mIiwic3RyZWFtIiwicmVudCIsImJ1eSIsInNvcnRQcm92aWRlcnMiLCJzZXJ2aWNlcyIsImNvbGxlY3Rpb24iLCJzZXJ2aWNlIiwicHJvdmlkZXJJbmZvIiwicHJvdmlkZXJfbmFtZSIsInByb3ZpZGVyX2xvZ29fcGF0aCIsImxvZ29fcGF0aCIsInB1c2giLCJmbGF0cmF0ZSIsImVycm9yb3IiLCJmZXRjaE1vdmllVHJhaWxlciIsInRyYWlsZXJzIiwiZmlsdGVyIiwibGVuZ3RoIiwibW92aWVUcmFpbGVyIiwiZmluZCIsIm9mZmljaWFsIiwidE5hbWUiLCJrZXkiLCJzaXRlIiwibGFuZyIsImlzb182MzlfMSIsImZldGNoTW92aWVSZXZpZXdzIiwicmV2aWV3cyIsInJldmlldyIsImF1dGhvciIsInJhdGluZyIsImF1dGhvcl9kZXRhaWxzIiwicGljX3BhdGgiLCJhdmF0YXJfcGF0aCIsImNvbnRlbnQiLCJ1cmwiLCJsYXN0X3VwZGF0ZWQiLCJ1cGRhdGVkX2F0IiwiZmV0Y2hUdkRldGFpbHMiLCJ0dl9pZCIsInJlZHVjZSIsImFjYyIsInZhbCIsIm9yaWdpbmFsX25hbWUiLCJsYW5ndWFnZSIsIm9yaWdpbmFsX2xhbmd1YWdlIiwiZXBpc29kZV9ydW5fdGltZSIsIm9yaWdpbl9jb3VudHJ5Iiwic3RhdHVzIiwic2Vhc29ucyIsIm51bWJlcl9vZl9zZWFzb25zIiwiZmlyc3RfYWlyX2RhdGUiLCJsYXN0X2Fpcl9kYXRlIiwiZmV0Y2hUdlJlY2NvcyIsInJlY1R2cyIsInR2IiwiZmV0Y2hUdlByb3ZpZGVycyIsImZldGNoVHZUcmFpbGVyIiwidHZUcmFpbGVyIiwiZmV0Y2hUdlJldmlld3MiLCJkcmF3U2VjdGlvbiIsIm1lZGlhIiwic2VjdGlvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRldGFpbHMiLCJnZXRJbmZvIiwicmVjcyIsInByb3ZpZGVycyIsInRyYWlsZXIiLCJhZGRUb1NlY3Rpb24iLCJpbmZvIiwiYXBwZW5kQ2hpbGQiLCJyZW5kZXJFbGVtZW50IiwidGFnIiwiY2xhc3NOYW1lIiwiY29udGFpbmVyIiwibW92aWVGbmMiLCJ0dkZuYyIsImRyYXdJbnRybyIsImltZ1NpemUiLCJpbnRyb0NvbnRhaW5lciIsInRpdGxlIiwidGV4dENvbnRlbnQiLCJjcmVhdGVUaXRsZSIsInRhZ1BhcmEiLCJ3cml0ZVRhZ2xpbmUiLCJpbWciLCJwb3N0ZXIiLCJiYXNlSW1nVXJsIiwiaW1nUGF0aCIsInNyYyIsImFsdCIsInNldEF0dHJpYnV0ZSIsInJlbmRlckltZyIsImRyYXdSZWMiLCJyZWMiLCJyZWNDb250YWluZXIiLCJyZWNQb3N0ZXIiLCJzdWJJbmZvIiwicmVjTmFtZSIsInJlY0RhdGUiLCJ2b3RlQ291bnQiLCJ2b3RlQXZnIiwicmVuZGVySW5mbyIsInJlY0xpbmsiLCJtZWRpYVR5cGUiLCJhZGRFdmVudExpc3RlbmVyIiwiZSIsInByZXZlbnREZWZhdWx0IiwiZHJhd0FsbCIsImRyYXdTdWJJbmZvcyIsImRhdGUiLCJsYXN0QWlyZWQiLCJjcmVhdGVTdWJJbmZvIiwic3BsaXQiLCJyZXZlcnNlIiwiam9pbiIsIm1pbnMiLCJob3VycyIsInJIb3VycyIsIk1hdGgiLCJmbG9vciIsIm1pbnV0ZXMiLCJyb3VuZCIsImNvbnZlcnRNaW5Ub0hyIiwiY2F0ZWdvcnkiLCJjYXRlZ29yeU5hbWUiLCJjYXRlZ29yeUluZm8iLCJkcmF3U3VtbWFyeUhlYWRpbmciLCJoZWFkaW5nIiwiZHJhd1N1bW1hcnkiLCJwYXJhIiwiZHJhd1Byb3ZpZGVycyIsImF2YWlsUHJvdmlkZXJzIiwicHJvdmlkZXJDb250YWluZXIiLCJjb3VudHJ5QnRuIiwiaG91c2VDb250YWluZXIiLCJlbGVtIiwiT2JqZWN0Iiwia2V5cyIsImluY2x1ZGVzIiwiZmxhZyIsImRyYXdQcm92aWRlciIsImZpcnN0UHJvdmlkZXIiLCJsb2ciLCJsb3N0R2lmIiwic3R5bGUiLCJkaXNwbGF5IiwianVzdGlmeUNvbnRlbnQiLCJkb3duQXJyb3ciLCJjdXJyQ291bnRyeU5hbWUiLCJwcm92aWRlckNvdW50cmllcyIsImN1cnJDb3VudHJ5Q29kZSIsImNvdW50cmllcyIsIm1vZGFsQ29udGFpbmVyIiwibW9kYWxIZWFkZXIiLCJtb2RhbEJvZHkiLCJtb2RhbEN1cnJlbnRDb3VudHJ5IiwibW9kYWxJbnB1dFNlYXJjaCIsIm1vZGFsTGlzdENvdW50cmllcyIsIm1vZGFsQ2xvc2VCdG4iLCJyZW5kZXJDb3VudHJ5RmxhZyIsImNvdW50cnlOYW1lIiwiZmlsdGVyUmVzdWx0cyIsImlucHV0IiwidWwiLCJsaSIsImEiLCJpIiwidHh0VmFsdWUiLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwidG9VcHBlckNhc2UiLCJnZXRFbGVtZW50c0J5VGFnTmFtZSIsImlubmVyVGV4dCIsImluZGV4T2YiLCJjdXJyQ291bnRyeSIsInNlYXJjaExhYmVsIiwic2VhcmNoQXR0cmlidXRlcyIsInBsYWNlaG9sZGVyIiwicm9sZSIsImN1cnJDb3VudHJ5RmxhZyIsImh0bWxGb3IiLCJmb3JtRWxlbSIsInJlbmRlckhlYWRpbmciLCJjb3VudHJ5Q29udGFpbmVyIiwiY291bnRyeUZsYWciLCJocmVmIiwiY291bnRyeUVsZW0iLCJjbG9zZUZuYyIsImNsb3NlU3ltYiIsInJlbmRlckNsb3NlQnRuIiwiY3VycmVudEZvcm0iLCJxdWVyeVNlbGVjdG9yIiwic2V0VGltZW91dCIsInRyYW5zZm9ybSIsIm9wYWNpdHkiLCJ2aXNpYmlsaXR5IiwicmVtb3ZlIiwibW9kYWxFbGVtIiwiYXBwZW5kIiwicmVuZGVyQ291bnRyaWVzTW9kYWwiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0aWNrSWNvbiIsImhpZ2hsaWdodEN1cnJDb3VudHJ5IiwiaGFuZGxlQ2xpY2siLCJzZWxlY3RlZENvdW50cnkiLCJ0aGlzIiwibGFzdENoaWxkIiwidHJpbSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImNsZWFyUHJvdmlkZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYXBwbHlDaG9vc2VDb3VudHJ5Rm5jcyIsInN0cmVhbUluZm8iLCJidXlJbmZvIiwicmVudEluZm8iLCJzZXJ2aWNlTmFtZXMiLCJpZHgiLCJzZXJ2aWNlQ29udGFpbmVyIiwic2VydmljZU5hbWUiLCJzZXJ2aWNlTmFtZUJvbGQiLCJwcm92aWRlclNlcnZpY2VDb250YWluZXIiLCJwcm92aWRlciIsInByb3ZpZGVyU2VydmljZSIsInByb3ZpZGVySW1nIiwicHJvdmlkZXJOYW1lIiwiZHJhd1Jldmlld3MiLCJyZXZpZXdDb250YWluZXIiLCJhZGRSZXZJbmZvIiwiaW5mb0NvbnRhaW5lciIsInJldmlld0hlYWRpbmciLCJhdXRob3JQaWMiLCJyZW5kZXJSZXZpZXdIZWFkaW5nIiwicmV2aWV3Q29udGVudCIsInJlbmRlclJldmlld0JvZHkiLCJyZXZpZXdGb290ZXIiLCJyZXZpZXdVcmwiLCJyZXZpZXdVcGRhdGVkIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiZm9ybWF0UmV2RGF0ZSIsInJlbmRlclJldmlld0Zvb3RlciIsImRyYXdSZXZpZXciLCJkcmF3VHJhaWxlciIsInRyYWlsZXJDb250YWluZXIiLCJ0cmFpbGVySGVhZGluZyIsInRyYWlsZXJOYW1lIiwidHJhaWxlckxhbmd1YWdlIiwicmVuZGVyVHJhaWxlckhlYWRpbmciLCJ2aWRlb1dyYXBwZXIiLCJmcmFtZSIsImF0dHJpYnV0ZXMiLCJsb2FkaW5nIiwid2lkdGgiLCJoZWlnaHQiLCJmcmFtZWJvcmRlciIsImFsbG93IiwiYXR0ciIsImFkZFZpZGVvIiwiZHJhd1JlY3MiLCJyZWNzQ29udGFpbmVyIiwibm9uZU1zZyIsImRyYXdTZWN0aW9ucyIsImlkcyIsInF1ZXJ5IiwiaW50ZXJwcmV0VG9RdWVyeSIsInJlc3VsdCIsIm1lZGlhX3R5cGUiLCJzb3J0IiwicDEiLCJwMiIsImFsZXJ0IiwiZXJyIiwiZmV0Y2hJZHMiLCJtYWluIiwic2VjdGlvbnMiLCJpbnRyb1N1YkluZm8iLCJzeW5vcHNpc1dhdGNoUHZkZXJzIiwicmVjSGVhZGluZyIsInJlbmRlclNlY3Rpb24iLCJ0aGVuIiwiY2hlY2tlZCIsImVsIiwib2JzZXJ2ZSIsImNsZWFyU2VjdGlvbnMiLCJzZWN0IiwiYWRkU3VibWl0U2VhcmNoRm5jIiwiYW5pbWF0aW9uQ2hlY2siLCJlbGVtZW50cyIsImRpc2Nvbm5lY3QiLCJhZGRUb2dnbGVBbmltYXRpb25GbmMiXSwic291cmNlUm9vdCI6IiJ9