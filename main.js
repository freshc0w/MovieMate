(()=>{"use strict";const t="720d2150cf09bfa61e28a5042cd7468f",e="720d2150cf09bfa61e28a5042cd7468f";async function n(t){try{const n=await fetch(`https://api.themoviedb.org/3/movie/${t}?api_key=${e}&language=en-US`,{mode:"cors"}),a=await n.json(),o=a.genres.reduce(((t,e)=>[...t,e.name]),[]);return{mName:a.original_title,summary:a.overview,tagline:a.tagline,popularity:a.popularity,vote_average:a.vote_average,vote_count:a.vote_count,genres:o,video:a.video,runtime:a.runtime,poster_path:a.poster_path,backdrop_path:a.backdrop_path}}catch(t){alert(t)}}async function a(t){try{const n=await fetch(`https://api.themoviedb.org/3/movie/${t}/recommendations?api_key=${e}&language=en-US&page=1`,{mode:"cors"}),a=await n.json(),o={};if(a.results){let t=1;for(let e of a.results){if(o[e.original_title]={mName:e.original_title,id:e.id,poster_path:e.poster_path,backdrop_path:e.backdrop_path},5===t)break;t++}}return o}catch(t){alert(t)}}async function o(t){const n={};try{const o=await fetch(`https://api.themoviedb.org/3/movie/${t}/watch/providers?api_key=${e}`,{mode:"cors"}),r=await o.json();for(const t in r.results){const e=(a=t,new Intl.DisplayNames(["en"],{type:"region"}).of(a));n[e]={stream:[],rent:[],buy:[]};const o=(t,e)=>{t&&t.forEach((t=>{const n={provider_name:t.provider_name,provider_logo_path:t.logo_path};e.push(n)}))};o(r.results[t].flatrate,n[e].stream),o(r.results[t].rent,n[e].rent),o(r.results[t].buy,n[e].buy)}return n}catch(t){alert(t)}var a}async function r(t){try{let a;const o=await fetch(`https://api.themoviedb.org/3/movie/${t}/videos?api_key=${e}`,{mode:"cors"}),r=(await o.json()).results.filter((t=>"Trailer"===t.type));if(0===r.length)return!1;const i=r.filter((t=>{t.official}));return a=0!==i.length?i[0]:r[0],{mName:a.name,key:a.key,site:a.site,type:a.type,lang:(n=a.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(n))}}catch(t){alert(t)}var n}async function i(t){try{let n=[];const a=await fetch(`https://api.themoviedb.org/3/movie/${t}/reviews?api_key=${e}&language=en-US&page=1`,{mode:"cors"}),o=await a.json();if(0===o.results.length)return!1;let r=1;return o.results.forEach((t=>{n.push({author:t.author,rating:t.author_details.rating,pic_path:t.author_details.avatar_path,content:t.content,url:t.url,last_updated:t.updated_at}),r++})),n.slice(0,5)}catch(t){alert(t)}}const c=async(t,e)=>{const c=document.createElement("section"),s=await p(t,n),d=(await p(t,a),await p(t,o));function l(t){c.appendChild(t)}function u(t,e){const n=document.createElement(t);return n.classList.add(e),n}async function p(t,n,a){return"movie"===e?await n(t):""}console.log(d),await p(t,r),await p(t,i);const m=t=>{const e=document.createElement("div");e.classList.add("intro"),e.appendChild(function(){const t=document.createElement("h1");return t.textContent=s.mName,t.classList.add("title"),t}()),s.tagline&&e.appendChild(function(){const t=document.createElement("p");return t.textContent=s.tagline,t.classList.add("tagline"),t}());const n=function(t=""){const e=document.createElement("img"),n="https://image.tmdb.org/t/p";let a;if(e.classList.add("poster"),s.poster_path)a=s.poster_path;else{if(!s.backdrop_path)return;a=s.backdrop_path}return e.src=t?`${n}/w${t}/${a}`:`${n}/original/${a}`,e.alt="Movie picture poster",e}(t);return n&&e.appendChild(n),e.appendChild(function(){const t=document.createElement("p");return t.textContent=s.summary,t.classList.add("summary"),t}()),e};return{section:c,addToSection:l,drawAll:function(){l(m())},drawIntro:m,drawSubInfos:()=>{const t=document.createElement("div");function e(t,e){const n=document.createElement("div"),a=document.createElement("span"),o=document.createElement("span");return n.classList.add("sub-info"),a.classList.add("category-name"),o.classList.add("category-info"),a.textContent=t,o.textContent=e,[a,o].forEach((t=>n.appendChild(t))),n}return t.classList.add("subinfo-container"),[e("Genres:",s.genres.join(", ")),e("Runtime:",function(t){const e=t/60,n=Math.floor(e),a=60*(e-n);return`${n}h ${Math.round(a)}min`}(s.runtime)),e("Vote Average:",s.vote_average),e("Vote Count:",s.vote_count),e("Popularity:",s.popularity)].forEach((e=>t.appendChild(e))),t},drawProviders:()=>{let t;const e=u("div","provider-container"),n=u("button","country-btn"),a=u("div","house-provider-container");if([n,a].forEach((t=>{e.appendChild(t)})),Object.keys(d).length)if(t=!0,Object.keys(d).includes("Australia"))o("Australia"),n.textContent="Australia";else{const t=Object.keys(d)[0];o(t),n.textContent=`${t}`}else t=!1,n.textContent="No countries offer this tv/movie at the moment.";return n.addEventListener("click",(e=>{e.preventDefault(),t&&function(t){Object.keys(d);const e=u("form","modal-country-container"),n=u("div","modal-header"),a=u("div","modal-body"),o=u("div","modal-current-country"),r=u("input","modal-input-search"),i=u("div","modal-list-countries"),c=u("button","modal-close-btn");(()=>{const e=document.createElement("h2");e.textContent="Countries",n.appendChild(e);const a=document.createElement("h3");a.textContent=t,o.appendChild(a)})(),(t=>{const e=u("i","fa");e.classList.add("fa-close"),c.appendChild(e),t()})((()=>{c.addEventListener("click",(t=>{t.preventDefault(),document.querySelector(".modal-country-container").remove(),document.querySelector(".face-mask").style.display="none"}))})),[n,a,o,r,i,c].forEach((t=>e.appendChild(t))),document.querySelector("body").append(e),document.querySelector(".face-mask").style.display="block"}(n.textContent)})),e;function o(t="Australia"){n.textContent=t;const e=d[t].stream,o=d[t].buy,r=d[t].rent,i=["Stream at:","Purchase at:","Rent at:"];let c=0;[e,o,r].forEach((t=>{const e=u("div","service-container"),n=u("div","service-name"),o=u("h2","service-name-bold"),r=u("div","provider-service-container");t.forEach((t=>{const e=u("div","provider-service"),n=u("img","provider-img"),a=u("span","provider-name");t.provider_logo_path&&(n.src=`https://image.tmdb.org/t/p/original/${t.provider_logo_path}`,n.alt=`${t.provider_name} picture.`,a.textContent=t.provider_name),[n,a].forEach((t=>{e.appendChild(t)})),r.appendChild(e)})),t.length&&(o.textContent=`${i[c]}`,n.appendChild(o)),c++,e.appendChild(n),e.appendChild(r),a.appendChild(e)}))}}}};async function s(e){const n=await async function(e){const n=function(t){return t.split(" ").join("+")}(e);try{const a=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${t}&language=en-US&query=${n}&page=1`,{mode:"cors"}),o=await a.json();let r={},i=o.results.sort(((t,e)=>t.popularity<e.popularity?1:t.popularity>e.popularity?-1:0));if(i.length){for(let t=0;t<i.length;t++)r[i[t].id]=i[t].media_type;return r}return void alert(`No results found for ${e}`)}catch(t){alert(t)}}(e),a=document.querySelector(".main-container");let o=[];for(let t in n)"movie"===n[t]&&o.push([t,n[t]]);async function r(t,e){const n=await c(t,e);return n.addToSection(n.drawIntro("300")),n.addToSection(n.drawSubInfos()),n.addToSection(n.drawProviders()),a.appendChild(n.section),r}o.forEach((async t=>await r(t[0],t[1])))}console.log("Hello World"),async function(){document.querySelector(".search-query").addEventListener("click",(async t=>{t.preventDefault();const e=document.getElementById("input-search").value.split(" ").join("+");e?(document.querySelector(".main-container").innerHTML="",await s(e),document.querySelector(".search-query").value=""):alert("Please enter a valid movie/tv show")}))}(),s("iron man")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VyxHQUdmLElBQUssSUFBSW5LLEtBQU11SixFQUdGLFVBQVpBLEVBQUl2SixJQUFrQm1LLEVBQVM3SSxLQUFLLENBQUN0QixFQUFJdUosRUFBSXZKLEtBTzlDaEMsZUFBZW9NLEVBQWNwSyxFQUFJZ0QsR0FDaEMsTUFBTUMsUUFBZ0JGLEVBQVkvQyxFQUFJZ0QsR0FLdEMsT0FKQUMsRUFBUU0sYUFBYU4sRUFBUW1CLFVBQVUsUUFDdkNuQixFQUFRTSxhQUFhTixFQUFRcUMsZ0JBQzdCckMsRUFBUU0sYUFBYU4sRUFBUXFELGlCQUM3QjRELEVBQUt6RyxZQUFZUixFQUFRQSxTQUNsQm1ILENBQ1IsQ0FYQUQsRUFBU25KLFNBQ1JoRCxNQUFPaUYsU0FBa0JtSCxFQUFjbkgsRUFBUSxHQUFJQSxFQUFRLEtBVzdELENDMUJBaUIsUUFBUUMsSUFBSSxlQ0RHbkcsaUJBQ0lrRixTQUFTZ0YsY0FBYyxpQkFDL0JqQixpQkFBaUIsU0FBU2pKLE1BQU9rSixJQUMxQ0EsRUFBRUMsaUJBQ0YsTUFBTXFDLEVBQ0x0RyxTQUFTbUgsZUFBZSxnQkFBZ0JDLE1BYzlCYixNQUFNLEtBQUs1RCxLQUFLLEtBWnRCMkQsR0Z1Qk90RyxTQUFTZ0YsY0FBYyxtQkFDL0JxQyxVQUFZLFNFbkJWakIsRUFBYUUsR0FFbkJ0RyxTQUFTZ0YsY0FBYyxpQkFBaUJvQyxNQUFRLElBTi9DNUssTUFBTSxxQ0FNMkMsR0FFcEQsQ0RRQThLLEdBQ0FsQixFQUFhLFciLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvYXBpRnVuY3Rpb25zL2ZldGNoSWQuanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mby5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvRE9NRnVuY3Rpb25zL2RyYXdTZWN0aW9uLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9ET01GdW5jdGlvbnMvZHJhd1NlY3Rpb25zLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvVUkvc3VibWl0U2VhcmNoLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IEFQSV9LRVkgPSBcIjcyMGQyMTUwY2YwOWJmYTYxZTI4YTUwNDJjZDc0NjhmXCI7XG4vKlxuRmV0Y2hlcyB0aGUgdGhlIGZpcnN0IHBhZ2Ugb2YgdGhlIG1vdmllL3Nob3cgaWRzIGFuZCByZXR1cm4gaXQgaW4gYW4gYXJyYXkuXG4qL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hJZHMobmFtZSkge1xuXHRjb25zdCBxdWVyeSA9IGludGVycHJldFRvUXVlcnkobmFtZSk7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3NlYXJjaC9tdWx0aT9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcXVlcnk9JHtxdWVyeX0mcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRsZXQgaWRzID0ge307XG5cdFx0Ly8gbGV0IHJlc3VsdCA9IGRhdGEucmVzdWx0cztcblx0XHRsZXQgcmVzdWx0ID0gZGF0YS5yZXN1bHRzLnNvcnQoXG5cdFx0XHQocDEsIHAyKSA9PiAocDEucG9wdWxhcml0eSA8IHAyLnBvcHVsYXJpdHkpID8gMSA6IChwMS5wb3B1bGFyaXR5ID4gcDIucG9wdWxhcml0eSkgPyAtMSA6IDBcblx0XHQpIC8vIFNvcnQgYnkgcG9wdWxhcml0eS5cblx0XHRcblx0XHRpZiAocmVzdWx0Lmxlbmd0aCkge1xuXHRcdFx0Ly8gaWYgKHJlc3VsdC5sZW5ndGggPiA0KSB7XG5cdFx0XHQvLyBcdGZvciAobGV0IGkgPSAwOyBpIDwgNTsgaSsrKSB7XG5cdFx0XHQvLyBcdFx0aWRzW3Jlc3VsdFtpXS5pZF0gPSByZXN1bHRbaV0ubWVkaWFfdHlwZTtcblx0XHRcdC8vIFx0fVxuXHRcdFx0Ly8gfSBlbHNlIHtcblx0XHRcdC8vIFx0Zm9yIChsZXQgaSA9IDA7IGkgPCByZXN1bHQubGVuZ3RoOyBpKyspIHtcblx0XHRcdC8vIFx0XHRpZHNbcmVzdWx0W2ldLmlkXSA9IHJlc3VsdFtpXS5tZWRpYV90eXBlO1xuXHRcdFx0Ly8gXHR9XG5cdFx0XHQvLyB9XG5cdFx0XHRmb3IobGV0IGkgPSAwOyBpIDwgcmVzdWx0Lmxlbmd0aDsgaSsrKSB7XG5cdFx0XHRcdGlkc1tyZXN1bHRbaV0uaWRdID0gcmVzdWx0W2ldLm1lZGlhX3R5cGU7XG5cdFx0XHR9XG5cdFx0XHRyZXR1cm4gaWRzO1xuXHRcdH0gZWxzZSB7XG5cdFx0XHRhbGVydChgTm8gcmVzdWx0cyBmb3VuZCBmb3IgJHtuYW1lfWApO1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG5mdW5jdGlvbiBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIrXCIpO1xufVxuXG5leHBvcnQgeyBmZXRjaElkcyB9O1xuIiwiY29uc3QgQVBJX0tFWSA9IFwiNzIwZDIxNTBjZjA5YmZhNjFlMjhhNTA0MmNkNzQ2OGZcIjtcblxuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZURldGFpbHMobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGNvbnN0IGdlbnJlcyA9IGRhdGEuZ2VucmVzLnJlZHVjZSgoYWNjLCB2YWwpID0+IFsuLi5hY2MsIHZhbC5uYW1lXSwgW10pO1xuXG5cdFx0Y29uc3QgZ2VuZXJhbEluZm8gPSB7XG5cdFx0XHRtTmFtZTogZGF0YS5vcmlnaW5hbF90aXRsZSxcblx0XHRcdHN1bW1hcnk6IGRhdGEub3ZlcnZpZXcsXG5cdFx0XHR0YWdsaW5lOiBkYXRhLnRhZ2xpbmUsXG5cdFx0XHRwb3B1bGFyaXR5OiBkYXRhLnBvcHVsYXJpdHksXG5cdFx0XHR2b3RlX2F2ZXJhZ2U6IGRhdGEudm90ZV9hdmVyYWdlLFxuXHRcdFx0dm90ZV9jb3VudDogZGF0YS52b3RlX2NvdW50LFxuXHRcdFx0Z2VucmVzOiBnZW5yZXMsXG5cdFx0XHR2aWRlbzogZGF0YS52aWRlbyxcblx0XHRcdHJ1bnRpbWU6IGRhdGEucnVudGltZSxcblx0XHRcdHBvc3Rlcl9wYXRoOiBkYXRhLnBvc3Rlcl9wYXRoLFxuXHRcdFx0YmFja2Ryb3BfcGF0aDogZGF0YS5iYWNrZHJvcF9wYXRoLFxuXHRcdH07XG5cdFx0cmV0dXJuIGdlbmVyYWxJbmZvO1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRhbGVydChlcnIpO1xuXHR9XG59XG5cbi8qXG5SZXR1cm5zIGFuIGFycmF5IG9mIHJlY29tbWVuZGVkIG1vdmllcyB3aXRoIHRoZWlyIG5hbWUsIGlkLCBwb3N0ZXJfcGF0aCBhbmRcbmJhY2tkcm9wX3BhdGggcmVjb3JkZWQuIFxuSWYgbm8gbW92aWVzIGFyZSByZWNvbW1lbmRlZCwgcmV0dXJuIG51bGw7XG4qL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVJlY2Nvcyhtb3ZpZV9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS9yZWNvbW1lbmRhdGlvbnM/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRjb25zdCByZWNNb3ZpZXMgPSB7fTtcblx0XHRpZiAoZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRsZXQgY291bnQgPSAxO1xuXHRcdFx0Zm9yIChsZXQgbW92aWUgb2YgZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRcdHJlY01vdmllc1ttb3ZpZS5vcmlnaW5hbF90aXRsZV0gPSB7XG5cdFx0XHRcdFx0bU5hbWU6IG1vdmllLm9yaWdpbmFsX3RpdGxlLFxuXHRcdFx0XHRcdGlkOiBtb3ZpZS5pZCxcblx0XHRcdFx0XHRwb3N0ZXJfcGF0aDogbW92aWUucG9zdGVyX3BhdGgsXG5cdFx0XHRcdFx0YmFja2Ryb3BfcGF0aDogbW92aWUuYmFja2Ryb3BfcGF0aCxcblx0XHRcdFx0fTtcblx0XHRcdFx0aWYgKGNvdW50ID09PSA1KSB7XG5cdFx0XHRcdFx0Ly8gTWF4IDUgbW92aWVzIHRvIGJlIHJlY29tbWVuZGVkXG5cdFx0XHRcdFx0YnJlYWs7XG5cdFx0XHRcdH1cblx0XHRcdFx0Y291bnQrKztcblx0XHRcdH1cblx0XHR9XG5cdFx0cmV0dXJuIHJlY01vdmllcztcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG4vKlxuUmV0dXJucyBhbiBvYmplY3Qgd2l0aCBjb3VudHJpZXMgYW5kIHRoZSBhdmFpbGFibGUgc3RyZWFtaW5nIHNlcnZpY2VzLCBidXlcbm9yIHJlbnQgaXQgY29tZXMgd2l0aCBFQUNIIGluZGl2aWR1YWwgY291bnRyeS5cbiovXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllUHJvdmlkZXJzKG1vdmllX2lkKSB7XG5cdGNvbnN0IHByb3ZpZGVyc0J5Q291bnRyeSA9IHt9O1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS93YXRjaC9wcm92aWRlcnM/YXBpX2tleT0ke0FQSV9LRVl9YCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGZvciAoY29uc3QgY291bnRyeUNvZGUgaW4gZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRjb25zdCBjb3VudHJ5ID0gZ2V0Q291bnRyeU5hbWUoY291bnRyeUNvZGUpO1xuXHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldID0ge1xuXHRcdFx0XHRzdHJlYW06IFtdLFxuXHRcdFx0XHRyZW50OiBbXSxcblx0XHRcdFx0YnV5OiBbXSxcblx0XHRcdH07XG5cblx0XHRcdC8qXG5cdFx0XHRTb3J0cyBwcm92aWRlcnMgYmFzZWQgb24gY291bnRyeSBhbmQgc2VydmljZXMgdGhleSBwcm92aWRlLlxuXG5cdFx0XHRUYWtlcyBpbiB0eXBlIG9mIHNlcnZpY2VzIGFzIHBhcmFtID0+IFtcImZsYXRyYXRlIChzdHJlYW1pbmcpXCIsIFxuXHRcdFx0XCJyZW50XCIsIFwiYnV5XCJdIGFuZCBhbiBhcnJheSB0byBhcHBlbmQgaXQgdG8uXG5cdFx0XHQqL1xuXHRcdFx0Y29uc3Qgc29ydFByb3ZpZGVycyA9IChzZXJ2aWNlcywgY29sbGVjdGlvbikgPT4ge1xuXHRcdFx0XHRpZiAoc2VydmljZXMpIHtcblx0XHRcdFx0XHRzZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBwcm92aWRlckluZm8gPSB7XG5cdFx0XHRcdFx0XHRcdHByb3ZpZGVyX25hbWU6IHNlcnZpY2UucHJvdmlkZXJfbmFtZSxcblx0XHRcdFx0XHRcdFx0cHJvdmlkZXJfbG9nb19wYXRoOiBzZXJ2aWNlLmxvZ29fcGF0aCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRjb2xsZWN0aW9uLnB1c2gocHJvdmlkZXJJbmZvKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gQWRkIHN0cmVhbWluZyBzZXJ2aWNlcyBmb3Igc3BlY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0uZmxhdHJhdGUsXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5zdHJlYW1cblx0XHRcdCk7XG5cblx0XHRcdC8vIEFkZCByZW50aW5nIHNlcnZpY2VzIGZvciBzcGVpY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0ucmVudCxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLnJlbnRcblx0XHRcdCk7XG5cblx0XHRcdC8vIEFkZCBidXlpbmcgc2VydmljZXMgZm9yIHNwZWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLmJ1eSxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLmJ1eVxuXHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIHByb3ZpZGVyc0J5Q291bnRyeTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG4vLyBGaW5kIG1vdmllIHRyYWlsZXIgYW5kIHJldHVybiBmYWxzZSBpZiBub25lIGNhbiBiZSBmb3VuZC5cbi8vIE9mZmljaWFsIHRyYWlsZXIgd2lsbCBiZSBwcmlvcml0aXNlZC5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVUcmFpbGVyKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0bGV0IG1vdmllVHJhaWxlcjtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vdmlkZW9zP2FwaV9rZXk9JHtBUElfS0VZfWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRjb25zdCB0cmFpbGVycyA9IGRhdGEucmVzdWx0cy5maWx0ZXIoKHZpZGVvKSA9PiB2aWRlby50eXBlID09PSBcIlRyYWlsZXJcIik7XG5cblx0XHRpZiAodHJhaWxlcnMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cdFx0Ly8gRmluZCBvZmZpY2lhbCB0cmFpbGVyLlxuXHRcdGNvbnN0IG9mZmljaWFsID0gdHJhaWxlcnMuZmlsdGVyKCh2aWRlbykgPT4ge1xuXHRcdFx0dmlkZW8ub2ZmaWNpYWwgPT09IHRydWU7XG5cdFx0fSk7XG5cblx0XHRvZmZpY2lhbC5sZW5ndGggIT09IDBcblx0XHRcdD8gKG1vdmllVHJhaWxlciA9IG9mZmljaWFsWzBdKVxuXHRcdFx0OiAobW92aWVUcmFpbGVyID0gdHJhaWxlcnNbMF0pO1xuXG5cdFx0cmV0dXJuIHtcblx0XHRcdG1OYW1lOiBtb3ZpZVRyYWlsZXIubmFtZSxcblx0XHRcdGtleTogbW92aWVUcmFpbGVyLmtleSxcblx0XHRcdHNpdGU6IG1vdmllVHJhaWxlci5zaXRlLFxuXHRcdFx0dHlwZTogbW92aWVUcmFpbGVyLnR5cGUsXG5cdFx0XHRsYW5nOiBnZXRMYW5ndWFnZShtb3ZpZVRyYWlsZXIuaXNvXzYzOV8xKSxcblx0XHR9O1xuXHR9IGNhdGNoIChlcnIpIHtcblx0XHRhbGVydChlcnIpO1xuXHR9XG59XG5cbi8vIFJldHVybnMgYW4gYXJyIG9mIGEgbWF4aW11bSBvZiA1IHJldmlld3MgYmFzZWQgb24gdGhlIG1vdmllIGZyb20gcmFuZG9tIHNvdXJjZXMuXG4vLyBJZiBubyByZXZpZXdzIGFyZSBmb3VuZCwgdGhpcyBmbmMgcmV0dXJucyBmYWxzZS5cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVSZXZpZXdzKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0bGV0IHJldmlld3MgPSBbXTtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vcmV2aWV3cz9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRpZiAoZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0bGV0IGNvdW50ID0gMTtcblx0XHRkYXRhLnJlc3VsdHMuZm9yRWFjaCgocmV2aWV3KSA9PiB7XG5cdFx0XHRyZXZpZXdzLnB1c2goe1xuXHRcdFx0XHRhdXRob3I6IHJldmlldy5hdXRob3IsXG5cdFx0XHRcdHJhdGluZzogcmV2aWV3LmF1dGhvcl9kZXRhaWxzLnJhdGluZyxcblx0XHRcdFx0cGljX3BhdGg6IHJldmlldy5hdXRob3JfZGV0YWlscy5hdmF0YXJfcGF0aCxcblx0XHRcdFx0Y29udGVudDogcmV2aWV3LmNvbnRlbnQsXG5cdFx0XHRcdHVybDogcmV2aWV3LnVybCxcblx0XHRcdFx0bGFzdF91cGRhdGVkOiByZXZpZXcudXBkYXRlZF9hdCxcblx0XHRcdH0pO1xuXHRcdFx0Y291bnQrKztcblx0XHR9KTtcblx0XHRyZXR1cm4gcmV2aWV3cy5zbGljZSgwLCA1KTtcblx0fSBjYXRjaCAoZXJyKSB7XG5cdFx0YWxlcnQoZXJyKTtcblx0fVxufVxuXG5mdW5jdGlvbiBnZXRDb3VudHJ5TmFtZShjb2RlKSB7XG5cdGxldCByZWdpb25OYW1lcyA9IG5ldyBJbnRsLkRpc3BsYXlOYW1lcyhbXCJlblwiXSwgeyB0eXBlOiBcInJlZ2lvblwiIH0pO1xuXHRyZXR1cm4gcmVnaW9uTmFtZXMub2YoY29kZSk7XG59XG5cbmZ1bmN0aW9uIGdldExhbmd1YWdlKGNvZGUpIHtcblx0Y29uc3QgbGFuZyA9IG5ldyBJbnRsLkRpc3BsYXlOYW1lcyhbXCJlblwiXSwgeyB0eXBlOiBcImxhbmd1YWdlXCIgfSk7XG5cdHJldHVybiBsYW5nLm9mKGNvZGUpO1xufVxuZXhwb3J0IHtcblx0ZmV0Y2hNb3ZpZURldGFpbHMsXG5cdGZldGNoTW92aWVSZWNjb3MsXG5cdGZldGNoTW92aWVQcm92aWRlcnMsXG5cdGZldGNoTW92aWVUcmFpbGVyLFxuXHRmZXRjaE1vdmllUmV2aWV3cyxcblx0Z2V0Q291bnRyeU5hbWUsXG59O1xuIiwiaW1wb3J0ICogYXMgbW92aWUgZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mb1wiO1xuXG4vKlxuRHJhdyBhbiBpbmRpdmlkdWFsIHNlY3Rpb24gYmFzZWQgb24gdXNlciBpbnB1dCBxdWVyeS5cblRoaXMgc2VjdGlvbiB3aWxsIGNvbnN0cyBvZiB0aGUgb3ZlcmFsbCBtb3ZpZS90didzIFxuICAgIC0gRGV0YWlscyxcbiAgICAtIFRoZSB3YXRjaCBwcm92aWRlcnMgYmFzZWQgb24gc3BlY2lmaWMgY291bnRyaWVzXG4gICAgLSBBdmFpbGFibGUgdHJhaWxlcnMsXG4gICAgLSBPdGhlciByZWNvbW1lbmRhdGlvbnMuXG4gICAgLSBSZXZpZXdzIGJ5IGVzdGFibGlzaGVkIGF1dGhvcnMgYmFzZWQgZnJvbSByYW5kb20gc291cmNlcy5cbiovXG5cbmNvbnN0IGRyYXdTZWN0aW9uID0gYXN5bmMgKGlkLCBtZWRpYSkgPT4ge1xuXHRjb25zdCBzZWN0aW9uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlY3Rpb25cIik7XG5cdGNvbnN0IGRldGFpbHMgPSBhd2FpdCBnZXRJbmZvKGlkLCBtb3ZpZS5mZXRjaE1vdmllRGV0YWlscywgXCJcIik7XG5cdGNvbnN0IHJlY3MgPSBhd2FpdCBnZXRJbmZvKGlkLCBtb3ZpZS5mZXRjaE1vdmllUmVjY29zLCBcIlwiKTtcblx0Y29uc3QgcHJvdmlkZXJzID0gYXdhaXQgZ2V0SW5mbyhpZCwgbW92aWUuZmV0Y2hNb3ZpZVByb3ZpZGVycywgXCJcIik7XG5cdGNvbnNvbGUubG9nKHByb3ZpZGVycyk7XG5cdGNvbnN0IHRyYWlsZXIgPSBhd2FpdCBnZXRJbmZvKGlkLCBtb3ZpZS5mZXRjaE1vdmllVHJhaWxlciwgXCJcIik7XG5cdGNvbnN0IHJldmlld3MgPSBhd2FpdCBnZXRJbmZvKGlkLCBtb3ZpZS5mZXRjaE1vdmllUmV2aWV3cywgXCJcIik7XG5cblx0ZnVuY3Rpb24gZHJhd0FsbCgpIHtcblx0XHRhZGRUb1NlY3Rpb24oZHJhd0ludHJvKCkpO1xuXHR9XG5cblx0ZnVuY3Rpb24gYWRkVG9TZWN0aW9uKHBhcnQpIHtcblx0XHRzZWN0aW9uLmFwcGVuZENoaWxkKHBhcnQpO1xuXHR9XG5cblx0ZnVuY3Rpb24gcmVuZGVyRWxlbWVudCh0YWcsIGNsYXNzTmFtZSkge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcblx0XHRjb250YWluZXIuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuXHRcdHJldHVybiBjb250YWluZXI7XG5cdH1cblxuXHRhc3luYyBmdW5jdGlvbiBnZXRJbmZvKGlkLCBtb3ZpZUZuYywgdHZGbmMpIHtcblx0XHRyZXR1cm4gbWVkaWEgPT09IFwibW92aWVcIiA/IGF3YWl0IG1vdmllRm5jKGlkKSA6IFwiXCI7XG5cdH1cblxuXHQvLyBEcmF3IChpZiBhbnkpIHRpdGxlLCBwaG90bywgdGFnbGluZSwgYW5kIHN1bW1hcnkuXG5cdGNvbnN0IGRyYXdJbnRybyA9IChpbWdTaXplKSA9PiB7XG5cdFx0Y29uc3QgaW50cm9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGludHJvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpbnRyb1wiKTtcblxuXHRcdGludHJvQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZVRpdGxlKCkpO1xuXHRcdGRldGFpbHMudGFnbGluZSA/IGludHJvQ29udGFpbmVyLmFwcGVuZENoaWxkKHdyaXRlVGFnbGluZSgpKSA6IFwiXCI7XG5cblx0XHRjb25zdCBpbWcgPSByZW5kZXJJbWcoaW1nU2l6ZSk7XG5cdFx0aW1nID8gaW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQoaW1nKSA6IFwiXCI7XG5cblx0XHRpbnRyb0NvbnRhaW5lci5hcHBlbmRDaGlsZCh3cml0ZVN1bW1hcnkoKSk7XG5cblx0XHRmdW5jdGlvbiBjcmVhdGVUaXRsZSgpIHtcblx0XHRcdGNvbnN0IHRpdGxlID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgxXCIpO1xuXHRcdFx0dGl0bGUudGV4dENvbnRlbnQgPSBkZXRhaWxzLm1OYW1lO1xuXHRcdFx0dGl0bGUuY2xhc3NMaXN0LmFkZChcInRpdGxlXCIpO1xuXHRcdFx0cmV0dXJuIHRpdGxlO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHJlbmRlckltZyhpbWdTaXplID0gXCJcIikge1xuXHRcdFx0Y29uc3QgcG9zdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblx0XHRcdGNvbnN0IGJhc2VJbWdVcmwgPSBcImh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wXCI7XG5cdFx0XHRsZXQgaW1nX3BhdGg7XG5cdFx0XHRwb3N0ZXIuY2xhc3NMaXN0LmFkZChcInBvc3RlclwiKTtcblxuXHRcdFx0aWYgKGRldGFpbHMucG9zdGVyX3BhdGgpIHtcblx0XHRcdFx0aW1nX3BhdGggPSBkZXRhaWxzLnBvc3Rlcl9wYXRoO1xuXHRcdFx0fSBlbHNlIGlmIChkZXRhaWxzLmJhY2tkcm9wX3BhdGgpIHtcblx0XHRcdFx0aW1nX3BhdGggPSBkZXRhaWxzLmJhY2tkcm9wX3BhdGg7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0XHQhaW1nU2l6ZVxuXHRcdFx0XHQ/IChwb3N0ZXIuc3JjID0gYCR7YmFzZUltZ1VybH0vb3JpZ2luYWwvJHtpbWdfcGF0aH1gKVxuXHRcdFx0XHQ6IChwb3N0ZXIuc3JjID0gYCR7YmFzZUltZ1VybH0vdyR7aW1nU2l6ZX0vJHtpbWdfcGF0aH1gKTtcblx0XHRcdHBvc3Rlci5hbHQgPSBcIk1vdmllIHBpY3R1cmUgcG9zdGVyXCI7XG5cdFx0XHRyZXR1cm4gcG9zdGVyO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHdyaXRlVGFnbGluZSgpIHtcblx0XHRcdGNvbnN0IHRhZ1BhcmEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcblx0XHRcdHRhZ1BhcmEudGV4dENvbnRlbnQgPSBkZXRhaWxzLnRhZ2xpbmU7XG5cdFx0XHR0YWdQYXJhLmNsYXNzTGlzdC5hZGQoXCJ0YWdsaW5lXCIpO1xuXHRcdFx0cmV0dXJuIHRhZ1BhcmE7XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gd3JpdGVTdW1tYXJ5KCkge1xuXHRcdFx0Y29uc3QgcGFyYSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xuXHRcdFx0cGFyYS50ZXh0Q29udGVudCA9IGRldGFpbHMuc3VtbWFyeTtcblx0XHRcdHBhcmEuY2xhc3NMaXN0LmFkZChcInN1bW1hcnlcIik7XG5cdFx0XHRyZXR1cm4gcGFyYTtcblx0XHR9XG5cdFx0cmV0dXJuIGludHJvQ29udGFpbmVyO1xuXHR9O1xuXG5cdGNvbnN0IGRyYXdTdWJJbmZvcyA9ICgpID0+IHtcblx0XHRjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGNvbnRhaW5lci5jbGFzc0xpc3QuYWRkKFwic3ViaW5mby1jb250YWluZXJcIik7XG5cblx0XHRjb25zdCBpbmZvcm1hdGlvbiA9IFtcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJHZW5yZXM6XCIsIGRldGFpbHMuZ2VucmVzLmpvaW4oXCIsIFwiKSksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiUnVudGltZTpcIiwgY29udmVydE1pblRvSHIoZGV0YWlscy5ydW50aW1lKSksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiVm90ZSBBdmVyYWdlOlwiLCBkZXRhaWxzLnZvdGVfYXZlcmFnZSksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiVm90ZSBDb3VudDpcIiwgZGV0YWlscy52b3RlX2NvdW50KSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJQb3B1bGFyaXR5OlwiLCBkZXRhaWxzLnBvcHVsYXJpdHkpLFxuXHRcdF07XG5cblx0XHRpbmZvcm1hdGlvbi5mb3JFYWNoKChpbmZvKSA9PiBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5mbykpO1xuXG5cdFx0ZnVuY3Rpb24gY3JlYXRlU3ViSW5mbyhjYXRlZ29yeSwgaW5mbykge1xuXHRcdFx0Y29uc3Qgc3ViSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0XHRjb25zdCBjYXRlZ29yeU5hbWUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcblx0XHRcdGNvbnN0IGNhdGVnb3J5SW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzcGFuXCIpO1xuXG5cdFx0XHRzdWJJbmZvLmNsYXNzTGlzdC5hZGQoXCJzdWItaW5mb1wiKTtcblx0XHRcdGNhdGVnb3J5TmFtZS5jbGFzc0xpc3QuYWRkKFwiY2F0ZWdvcnktbmFtZVwiKTtcblx0XHRcdGNhdGVnb3J5SW5mby5jbGFzc0xpc3QuYWRkKFwiY2F0ZWdvcnktaW5mb1wiKTtcblxuXHRcdFx0Y2F0ZWdvcnlOYW1lLnRleHRDb250ZW50ID0gY2F0ZWdvcnk7XG5cdFx0XHRjYXRlZ29yeUluZm8udGV4dENvbnRlbnQgPSBpbmZvO1xuXG5cdFx0XHRbY2F0ZWdvcnlOYW1lLCBjYXRlZ29yeUluZm9dLmZvckVhY2goKGluZm8pID0+IHN1YkluZm8uYXBwZW5kQ2hpbGQoaW5mbykpO1xuXHRcdFx0cmV0dXJuIHN1YkluZm87XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY29udmVydE1pblRvSHIobWlucykge1xuXHRcdFx0Y29uc3QgaG91cnMgPSBtaW5zIC8gNjA7XG5cdFx0XHRjb25zdCBySG91cnMgPSBNYXRoLmZsb29yKGhvdXJzKTtcblx0XHRcdGNvbnN0IG1pbnV0ZXMgPSAoaG91cnMgLSBySG91cnMpICogNjA7XG5cdFx0XHRjb25zdCByTWludXRlcyA9IE1hdGgucm91bmQobWludXRlcyk7XG5cdFx0XHRyZXR1cm4gYCR7ckhvdXJzfWggJHtyTWludXRlc31taW5gO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb250YWluZXI7XG5cdH07XG5cblx0Y29uc3QgZHJhd1Byb3ZpZGVycyA9ICgpID0+IHtcblx0XHRsZXQgYXZhaWxQcm92aWRlcnM7IC8vIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlcmUgYXJlIGFueSB3YXRjaFxuXHRcdC8vIHByb3ZpZGVycyBmb3IgdGhpcyBzaG93LlxuXG5cdFx0Ly8gSG91c2VzIHRoZSBidG4gdGhhdCBvcGVucyB0aGUgbW9kYWwgYW5kIG92ZXJsYXksIGFuZCB0aGUgYXZhaWxhYmxlIHByb3ZpZGVycyBmb3IgJ3N0cmVhbWluZycsICdyZW50JyBhbmQgJ3B1cmNoYXNlJy5cblx0XHRjb25zdCBwcm92aWRlckNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJwcm92aWRlci1jb250YWluZXJcIik7XG5cdFx0Y29uc3QgY291bnRyeUJ0biA9IHJlbmRlckVsZW1lbnQoXCJidXR0b25cIiwgXCJjb3VudHJ5LWJ0blwiKTtcblx0XHRjb25zdCBob3VzZUNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJob3VzZS1wcm92aWRlci1jb250YWluZXJcIik7XG5cdFx0W2NvdW50cnlCdG4sIGhvdXNlQ29udGFpbmVyXS5mb3JFYWNoKChlbGVtKSA9PiB7XG5cdFx0XHRwcm92aWRlckNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtKTtcblx0XHR9KTtcblxuXHRcdC8vIFNlYXJjaCBmb3IgZGVmYXVsdCBjb3VudHJ5IFwiQXVzdHJhbGlhXCIuIElmIG5vbmUgZm91bmQuIERyYXcgdGhlIGZpcnN0IGNvdW50cnkncyBwcm92aWRlci5cblx0XHRpZiAoT2JqZWN0LmtleXMocHJvdmlkZXJzKS5sZW5ndGgpIHtcblx0XHRcdGF2YWlsUHJvdmlkZXJzID0gdHJ1ZTtcblx0XHRcdGlmIChPYmplY3Qua2V5cyhwcm92aWRlcnMpLmluY2x1ZGVzKFwiQXVzdHJhbGlhXCIpKSB7XG5cdFx0XHRcdGRyYXdQcm92aWRlcihcIkF1c3RyYWxpYVwiKTtcblx0XHRcdFx0Y291bnRyeUJ0bi50ZXh0Q29udGVudCA9IFwiQXVzdHJhbGlhXCI7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRjb25zdCBmaXJzdFByb3ZpZGVyID0gT2JqZWN0LmtleXMocHJvdmlkZXJzKVswXTtcblx0XHRcdFx0ZHJhd1Byb3ZpZGVyKGZpcnN0UHJvdmlkZXIpO1xuXHRcdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID0gYCR7Zmlyc3RQcm92aWRlcn1gO1xuXHRcdFx0fVxuXHRcdH0gZWxzZSB7XG5cdFx0XHRhdmFpbFByb3ZpZGVycyA9IGZhbHNlO1xuXHRcdFx0Y291bnRyeUJ0bi50ZXh0Q29udGVudCA9XG5cdFx0XHRcdFwiTm8gY291bnRyaWVzIG9mZmVyIHRoaXMgdHYvbW92aWUgYXQgdGhlIG1vbWVudC5cIjtcblx0XHR9XG5cblx0XHQvLyBBZGQgYnRuIGV2ZW50IGNsaWNrIGxpc3RlbmVyIHRvIG9wZW4gbW9kYWxcblx0XHRjb3VudHJ5QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuXHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0aWYgKGF2YWlsUHJvdmlkZXJzKSB7XG5cdFx0XHRcdHJlbmRlckNvdW50cmllc01vZGFsKGNvdW50cnlCdG4udGV4dENvbnRlbnQpO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0cmV0dXJuIHByb3ZpZGVyQ29udGFpbmVyO1xuXG5cdFx0ZnVuY3Rpb24gZHJhd1Byb3ZpZGVyKGNvdW50cnlOYW1lID0gXCJBdXN0cmFsaWFcIikge1xuXHRcdFx0Ly8gQ2hhbmdlIHRleHQgb2YgYnRuIHRvIGNvdW50cnlOYW1lXG5cdFx0XHRjb3VudHJ5QnRuLnRleHRDb250ZW50ID0gY291bnRyeU5hbWU7XG5cblx0XHRcdGNvbnN0IHN0cmVhbUluZm8gPSBwcm92aWRlcnNbY291bnRyeU5hbWVdLnN0cmVhbTtcblx0XHRcdGNvbnN0IGJ1eUluZm8gPSBwcm92aWRlcnNbY291bnRyeU5hbWVdLmJ1eTtcblx0XHRcdGNvbnN0IHJlbnRJbmZvID0gcHJvdmlkZXJzW2NvdW50cnlOYW1lXS5yZW50O1xuXG5cdFx0XHRjb25zdCBzZXJ2aWNlTmFtZXMgPSBbXCJTdHJlYW0gYXQ6XCIsIFwiUHVyY2hhc2UgYXQ6XCIsIFwiUmVudCBhdDpcIl07XG5cdFx0XHQvLyBUbyBhc3NpZ24gbmFtZXMgZm9yIGVhY2ggc2V2aWNlIHByb3ZpZGVycy5cblx0XHRcdC8vIFRoaXMgaW5jcmVtZW50cyBhcyBwcm92aWRlcnMgYXJlIGxpc3RlZCBmb3IgZWFjaCBzZXJ2aWNlLlxuXHRcdFx0bGV0IGlkeCA9IDA7XG5cblx0XHRcdFtzdHJlYW1JbmZvLCBidXlJbmZvLCByZW50SW5mb10uZm9yRWFjaCgoaW5mbykgPT4ge1xuXHRcdFx0XHRjb25zdCBzZXJ2aWNlQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInNlcnZpY2UtY29udGFpbmVyXCIpO1xuXHRcdFx0XHRjb25zdCBzZXJ2aWNlTmFtZSA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJzZXJ2aWNlLW5hbWVcIik7XG5cdFx0XHRcdGNvbnN0IHNlcnZpY2VOYW1lQm9sZCA9IHJlbmRlckVsZW1lbnQoXCJoMlwiLCBcInNlcnZpY2UtbmFtZS1ib2xkXCIpO1xuXHRcdFx0XHRjb25zdCBwcm92aWRlclNlcnZpY2VDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFxuXHRcdFx0XHRcdFwiZGl2XCIsXG5cdFx0XHRcdFx0XCJwcm92aWRlci1zZXJ2aWNlLWNvbnRhaW5lclwiXG5cdFx0XHRcdCk7XG5cblx0XHRcdFx0aW5mby5mb3JFYWNoKChwcm92aWRlcikgPT4ge1xuXHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVyU2VydmljZSA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJwcm92aWRlci1zZXJ2aWNlXCIpO1xuXHRcdFx0XHRcdC8vIEFkZCBpbWcgYW5kIG5hbWUgb2YgcHJvdmlkZXIuXG5cdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJJbWcgPSByZW5kZXJFbGVtZW50KFwiaW1nXCIsIFwicHJvdmlkZXItaW1nXCIpO1xuXHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVyTmFtZSA9IHJlbmRlckVsZW1lbnQoXCJzcGFuXCIsIFwicHJvdmlkZXItbmFtZVwiKTtcblxuXHRcdFx0XHRcdGlmIChwcm92aWRlci5wcm92aWRlcl9sb2dvX3BhdGgpIHtcblx0XHRcdFx0XHRcdHByb3ZpZGVySW1nLnNyYyA9IGBodHRwczovL2ltYWdlLnRtZGIub3JnL3QvcC9vcmlnaW5hbC8ke3Byb3ZpZGVyLnByb3ZpZGVyX2xvZ29fcGF0aH1gO1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJJbWcuYWx0ID0gYCR7cHJvdmlkZXIucHJvdmlkZXJfbmFtZX0gcGljdHVyZS5gO1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJOYW1lLnRleHRDb250ZW50ID0gcHJvdmlkZXIucHJvdmlkZXJfbmFtZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRbcHJvdmlkZXJJbWcsIHByb3ZpZGVyTmFtZV0uZm9yRWFjaCgoZWxlbSkgPT4ge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJTZXJ2aWNlLmFwcGVuZENoaWxkKGVsZW0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHByb3ZpZGVyU2VydmljZUNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm92aWRlclNlcnZpY2UpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoaW5mby5sZW5ndGgpIHtcblx0XHRcdFx0XHRzZXJ2aWNlTmFtZUJvbGQudGV4dENvbnRlbnQgPSBgJHtzZXJ2aWNlTmFtZXNbaWR4XX1gO1xuXHRcdFx0XHRcdHNlcnZpY2VOYW1lLmFwcGVuZENoaWxkKHNlcnZpY2VOYW1lQm9sZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWR4Kys7XG5cdFx0XHRcdHNlcnZpY2VDb250YWluZXIuYXBwZW5kQ2hpbGQoc2VydmljZU5hbWUpO1xuXHRcdFx0XHRzZXJ2aWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHByb3ZpZGVyU2VydmljZUNvbnRhaW5lcik7XG5cdFx0XHRcdGhvdXNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlcnZpY2VDb250YWluZXIpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9O1xuXG5cdGZ1bmN0aW9uIHJlbmRlckNvdW50cmllc01vZGFsKGNvdW50cnlOYW1lKSB7XG5cdFx0Y29uc3QgcHJvdmlkZXJDb3VudHJpZXMgPSBPYmplY3Qua2V5cyhwcm92aWRlcnMpO1xuXHRcdGNvbnN0IG1vZGFsQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImZvcm1cIiwgXCJtb2RhbC1jb3VudHJ5LWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCBtb2RhbEhlYWRlciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJtb2RhbC1oZWFkZXJcIik7XG5cdFx0Y29uc3QgbW9kYWxCb2R5ID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcIm1vZGFsLWJvZHlcIik7XG5cdFx0Y29uc3QgbW9kYWxDdXJyZW50Q291bnRyeSA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJtb2RhbC1jdXJyZW50LWNvdW50cnlcIik7XG5cdFx0Y29uc3QgbW9kYWxJbnB1dFNlYXJjaCA9IHJlbmRlckVsZW1lbnQoXCJpbnB1dFwiLCBcIm1vZGFsLWlucHV0LXNlYXJjaFwiKTtcblx0XHRjb25zdCBtb2RhbExpc3RDb3VudHJpZXMgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwibW9kYWwtbGlzdC1jb3VudHJpZXNcIik7XG5cdFx0Y29uc3QgbW9kYWxDbG9zZUJ0biA9IHJlbmRlckVsZW1lbnQoXCJidXR0b25cIiwgXCJtb2RhbC1jbG9zZS1idG5cIik7XG5cblx0XHRjb25zdCByZW5kZXJIZWFkaW5nID0gKCkgPT4ge1xuXHRcdFx0Ly8gSGVhZGluZyB0aGF0IGRpc3BsYXlzIGN1cnJlbnQgY291bnRyeSBzZWxlY3RlZC5cblx0XHRcdGNvbnN0IGhlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG5cdFx0XHRoZWFkaW5nLnRleHRDb250ZW50ID0gXCJDb3VudHJpZXNcIjtcblx0XHRcdG1vZGFsSGVhZGVyLmFwcGVuZENoaWxkKGhlYWRpbmcpO1xuXG5cdFx0XHRjb25zdCBjdXJyZW50Q291bnRyeSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoM1wiKTtcblx0XHRcdGN1cnJlbnRDb3VudHJ5LnRleHRDb250ZW50ID0gY291bnRyeU5hbWU7XG5cdFx0XHRtb2RhbEN1cnJlbnRDb3VudHJ5LmFwcGVuZENoaWxkKGN1cnJlbnRDb3VudHJ5KTtcblx0XHR9O1xuXG5cdFx0Y29uc3QgcmVuZGVyQ2xvc2VCdG4gPSAoY2xvc2VGbmMpID0+IHtcblx0XHRcdGNvbnN0IGNsb3NlU3ltYiA9IHJlbmRlckVsZW1lbnQoXCJpXCIsIFwiZmFcIik7XG5cdFx0XHRjbG9zZVN5bWIuY2xhc3NMaXN0LmFkZChcImZhLWNsb3NlXCIpO1xuXHRcdFx0bW9kYWxDbG9zZUJ0bi5hcHBlbmRDaGlsZChjbG9zZVN5bWIpO1xuXHRcdFx0Y2xvc2VGbmMoKTtcblx0XHR9O1xuXHRcdGNvbnN0IGFkZENsb3NlRm5jID0gKCkgPT4ge1xuXHRcdFx0bW9kYWxDbG9zZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKGUpID0+IHtcblx0XHRcdFx0ZS5wcmV2ZW50RGVmYXVsdCgpO1xuXHRcdFx0XHRjb25zdCBjdXJyZW50Rm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWwtY291bnRyeS1jb250YWluZXJcIik7XG5cdFx0XHRcdGN1cnJlbnRGb3JtLnJlbW92ZSgpO1xuXHRcdFx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmZhY2UtbWFza1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0cmVuZGVySGVhZGluZygpO1xuXG5cdFx0cmVuZGVyQ2xvc2VCdG4oYWRkQ2xvc2VGbmMpO1xuXG5cdFx0W1xuXHRcdFx0bW9kYWxIZWFkZXIsXG5cdFx0XHRtb2RhbEJvZHksXG5cdFx0XHRtb2RhbEN1cnJlbnRDb3VudHJ5LFxuXHRcdFx0bW9kYWxJbnB1dFNlYXJjaCxcblx0XHRcdG1vZGFsTGlzdENvdW50cmllcyxcblx0XHRcdG1vZGFsQ2xvc2VCdG4sXG5cdFx0XS5mb3JFYWNoKChtb2RhbEVsZW0pID0+IG1vZGFsQ29udGFpbmVyLmFwcGVuZENoaWxkKG1vZGFsRWxlbSkpO1xuXG5cdFx0Y29uc3QgYm9keURvY3VtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG5cdFx0Ym9keURvY3VtZW50LmFwcGVuZChtb2RhbENvbnRhaW5lcik7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mYWNlLW1hc2tcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblx0fVxuXHRyZXR1cm4ge1xuXHRcdHNlY3Rpb24sXG5cdFx0YWRkVG9TZWN0aW9uLFxuXHRcdGRyYXdBbGwsXG5cdFx0ZHJhd0ludHJvLFxuXHRcdGRyYXdTdWJJbmZvcyxcblx0XHRkcmF3UHJvdmlkZXJzLFxuXHR9O1xufTtcblxuZXhwb3J0IHsgZHJhd1NlY3Rpb24gfTtcbiIsImltcG9ydCBjb2xsZWN0U2VhcmNoUXVlcnkgZnJvbSBcIi4vc2VhcmNoXCI7XG5pbXBvcnQgeyBmZXRjaElkcyB9IGZyb20gXCIuLi9hcGlGdW5jdGlvbnMvZmV0Y2hJZFwiO1xuaW1wb3J0ICogYXMgbW92aWUgZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mb1wiO1xuaW1wb3J0IHsgZHJhd1NlY3Rpb24gfSBmcm9tIFwiLi9kcmF3U2VjdGlvblwiO1xuXG5hc3luYyBmdW5jdGlvbiBkcmF3U2VjdGlvbnModGl0bGUpIHtcblx0Y29uc3QgaWRzID0gYXdhaXQgZmV0Y2hJZHModGl0bGUpO1xuXHRjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTtcblx0bGV0IHNlY3Rpb25zID0gW107XG5cblx0Ly8gTWFrZSBhbiBhcnIgdy8gZWxlbXMgb2YgW2lkLCBtZWRpYV1cblx0Zm9yIChsZXQgaWQgaW4gaWRzKSB7XG5cdFx0Ly8gVGVtcCBtYWtlIGl0IHNvIHRoYXQgaXQgb25seSBhY2NlcHRzIG1vdmllc1xuXG5cdFx0aWRzW2lkXSA9PT0gXCJtb3ZpZVwiID8gc2VjdGlvbnMucHVzaChbaWQsIGlkc1tpZF1dKSA6IFwiXCI7XG5cdH1cblxuXHRzZWN0aW9ucy5mb3JFYWNoKFxuXHRcdGFzeW5jIChzZWN0aW9uKSA9PiBhd2FpdCByZW5kZXJTZWN0aW9uKHNlY3Rpb25bMF0sIHNlY3Rpb25bMV0pXG5cdCk7XG5cblx0YXN5bmMgZnVuY3Rpb24gcmVuZGVyU2VjdGlvbihpZCwgbWVkaWEpIHtcblx0XHRjb25zdCBzZWN0aW9uID0gYXdhaXQgZHJhd1NlY3Rpb24oaWQsIG1lZGlhKTtcblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihzZWN0aW9uLmRyYXdJbnRybyhcIjMwMFwiKSk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3U3ViSW5mb3MoKSk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3UHJvdmlkZXJzKCkpO1xuXHRcdG1haW4uYXBwZW5kQ2hpbGQoc2VjdGlvbi5zZWN0aW9uKTtcblx0XHRyZXR1cm4gcmVuZGVyU2VjdGlvbjtcblx0fVxufVxuXG5mdW5jdGlvbiBjbGVhclNlY3Rpb25zKCkge1xuXHRjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTtcblx0bWFpbi5pbm5lckhUTUwgPSBcIlwiO1xufVxuXG5leHBvcnQgeyBkcmF3U2VjdGlvbnMsIGNsZWFyU2VjdGlvbnMgfTtcbiIsImltcG9ydCB7IGRyYXdTZWN0aW9ucyB9IGZyb20gXCIuL2pzL0RPTUZ1bmN0aW9ucy9kcmF3U2VjdGlvbnNcIjtcbmltcG9ydCBhZGRTdWJtaXRTZWFyY2hGbmMgZnJvbSBcIi4vanMvVUkvc3VibWl0U2VhcmNoXCI7XG5cbmNvbnNvbGUubG9nKFwiSGVsbG8gV29ybGRcIik7XG4vLyBmZXRjaElkcygnSVJPTiBNQU4nKTtcblxuLy8gZmV0Y2hNb3ZpZUR1bW15KDE3MjYpO1xuLy8gZmV0Y2hNb3ZpZUR1bW15KDMwOTcpOyAvLyBmYWlsIHRvIGZldGNoIGJlY2F1c2UgaXRzIHR2LlxuLy8gZmV0Y2hNb3ZpZUR1bW15KDEwMTM4KTtcbi8vIGZldGNoTW92aWVEdW1teSg2ODcyMSk7XG5cbi8vIGFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVEdW1teShpZCkge1xuLy8gICAgIGNvbnN0IG1vdmllRGV0YWlscyA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVEZXRhaWxzKGlkKTtcbi8vICAgICBjb25zdCBtb3ZpZVJlY2NvcyA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVSZWNjb3MoaWQpO1xuLy8gICAgIGNvbnN0IG1vdmllUHJvdmlkZXJzID0gYXdhaXQgbW92aWUuZmV0Y2hNb3ZpZVByb3ZpZGVycyhpZCk7XG4vLyAgICAgY29uc3QgbW92aWVUcmFpbGVyID0gYXdhaXQgbW92aWUuZmV0Y2hNb3ZpZVRyYWlsZXIoaWQpO1xuLy8gICAgIGNvbnN0IG1vdmllUmV2aWV3cyA9IGF3YWl0IG1vdmllLmZldGNoTW92aWVSZXZpZXdzKGlkKTtcbi8vICAgICBjb25zb2xlLmxvZyhtb3ZpZURldGFpbHMpO1xuLy8gICAgIGNvbnNvbGUubG9nKG1vdmllUmVjY29zKTtcbi8vICAgICBjb25zb2xlLmxvZyhtb3ZpZVByb3ZpZGVycyk7XG4vLyAgICAgY29uc29sZS5sb2cobW92aWVUcmFpbGVyKTtcbi8vICAgICBjb25zb2xlLmxvZyhtb3ZpZVJldmlld3MpO1xuLy8gfVxuXG4vLyBhZGRTdWJtaXRTZWFyY2hGdW5jdGlvbigpO1xuXG5hZGRTdWJtaXRTZWFyY2hGbmMoKTtcbmRyYXdTZWN0aW9ucyhcImlyb24gbWFuXCIpO1xuLy8gZHJhd1NlY3Rpb25zKFwicGVlIG1ha1wiKTtcbiIsImltcG9ydCB7IGRyYXdTZWN0aW9ucywgY2xlYXJTZWN0aW9ucyB9IGZyb20gXCIuLi9ET01GdW5jdGlvbnMvZHJhd1NlY3Rpb25zXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGFkZFN1Ym1pdFNlYXJjaEZuYygpIHtcblx0Y29uc3Qgc2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtcXVlcnlcIik7XG5cdHNlYXJjaEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y29uc3QgcXVlcnkgPSBpbnRlcnByZXRUb1F1ZXJ5KFxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1zZWFyY2hcIikudmFsdWVcblx0XHQpO1xuXHRcdGlmICghcXVlcnkpIHtcblx0XHRcdGFsZXJ0KFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgbW92aWUvdHYgc2hvd1wiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdFx0Y2xlYXJTZWN0aW9ucygpO1xuXHRcdGF3YWl0IGRyYXdTZWN0aW9ucyhxdWVyeSk7XG5cblx0XHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnNlYXJjaC1xdWVyeVwiKS52YWx1ZSA9IFwiXCI7XG5cdH0pO1xufVxuXG5mdW5jdGlvbiBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIrXCIpO1xufVxuIl0sIm5hbWVzIjpbIkFQSV9LRVkiLCJhc3luYyIsImZldGNoTW92aWVEZXRhaWxzIiwibW92aWVfaWQiLCJyZXNwb25zZSIsImZldGNoIiwibW9kZSIsImRhdGEiLCJqc29uIiwiZ2VucmVzIiwicmVkdWNlIiwiYWNjIiwidmFsIiwibmFtZSIsIm1OYW1lIiwib3JpZ2luYWxfdGl0bGUiLCJzdW1tYXJ5Iiwib3ZlcnZpZXciLCJ0YWdsaW5lIiwicG9wdWxhcml0eSIsInZvdGVfYXZlcmFnZSIsInZvdGVfY291bnQiLCJ2aWRlbyIsInJ1bnRpbWUiLCJwb3N0ZXJfcGF0aCIsImJhY2tkcm9wX3BhdGgiLCJlcnIiLCJhbGVydCIsImZldGNoTW92aWVSZWNjb3MiLCJyZWNNb3ZpZXMiLCJyZXN1bHRzIiwiY291bnQiLCJtb3ZpZSIsImlkIiwiZmV0Y2hNb3ZpZVByb3ZpZGVycyIsInByb3ZpZGVyc0J5Q291bnRyeSIsImNvdW50cnlDb2RlIiwiY291bnRyeSIsImNvZGUiLCJJbnRsIiwiRGlzcGxheU5hbWVzIiwidHlwZSIsIm9mIiwic3RyZWFtIiwicmVudCIsImJ1eSIsInNvcnRQcm92aWRlcnMiLCJzZXJ2aWNlcyIsImNvbGxlY3Rpb24iLCJmb3JFYWNoIiwic2VydmljZSIsInByb3ZpZGVySW5mbyIsInByb3ZpZGVyX25hbWUiLCJwcm92aWRlcl9sb2dvX3BhdGgiLCJsb2dvX3BhdGgiLCJwdXNoIiwiZmxhdHJhdGUiLCJmZXRjaE1vdmllVHJhaWxlciIsIm1vdmllVHJhaWxlciIsInRyYWlsZXJzIiwiZmlsdGVyIiwibGVuZ3RoIiwib2ZmaWNpYWwiLCJrZXkiLCJzaXRlIiwibGFuZyIsImlzb182MzlfMSIsImZldGNoTW92aWVSZXZpZXdzIiwicmV2aWV3cyIsInJldmlldyIsImF1dGhvciIsInJhdGluZyIsImF1dGhvcl9kZXRhaWxzIiwicGljX3BhdGgiLCJhdmF0YXJfcGF0aCIsImNvbnRlbnQiLCJ1cmwiLCJsYXN0X3VwZGF0ZWQiLCJ1cGRhdGVkX2F0Iiwic2xpY2UiLCJkcmF3U2VjdGlvbiIsIm1lZGlhIiwic2VjdGlvbiIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImRldGFpbHMiLCJnZXRJbmZvIiwicHJvdmlkZXJzIiwiYWRkVG9TZWN0aW9uIiwicGFydCIsImFwcGVuZENoaWxkIiwicmVuZGVyRWxlbWVudCIsInRhZyIsImNsYXNzTmFtZSIsImNvbnRhaW5lciIsImNsYXNzTGlzdCIsImFkZCIsIm1vdmllRm5jIiwidHZGbmMiLCJjb25zb2xlIiwibG9nIiwiZHJhd0ludHJvIiwiaW1nU2l6ZSIsImludHJvQ29udGFpbmVyIiwidGl0bGUiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRpdGxlIiwidGFnUGFyYSIsIndyaXRlVGFnbGluZSIsImltZyIsInBvc3RlciIsImJhc2VJbWdVcmwiLCJpbWdfcGF0aCIsInNyYyIsImFsdCIsInJlbmRlckltZyIsInBhcmEiLCJ3cml0ZVN1bW1hcnkiLCJkcmF3QWxsIiwiZHJhd1N1YkluZm9zIiwiY3JlYXRlU3ViSW5mbyIsImNhdGVnb3J5IiwiaW5mbyIsInN1YkluZm8iLCJjYXRlZ29yeU5hbWUiLCJjYXRlZ29yeUluZm8iLCJqb2luIiwibWlucyIsImhvdXJzIiwickhvdXJzIiwiTWF0aCIsImZsb29yIiwibWludXRlcyIsInJvdW5kIiwiY29udmVydE1pblRvSHIiLCJkcmF3UHJvdmlkZXJzIiwiYXZhaWxQcm92aWRlcnMiLCJwcm92aWRlckNvbnRhaW5lciIsImNvdW50cnlCdG4iLCJob3VzZUNvbnRhaW5lciIsImVsZW0iLCJPYmplY3QiLCJrZXlzIiwiaW5jbHVkZXMiLCJkcmF3UHJvdmlkZXIiLCJmaXJzdFByb3ZpZGVyIiwiYWRkRXZlbnRMaXN0ZW5lciIsImUiLCJwcmV2ZW50RGVmYXVsdCIsImNvdW50cnlOYW1lIiwibW9kYWxDb250YWluZXIiLCJtb2RhbEhlYWRlciIsIm1vZGFsQm9keSIsIm1vZGFsQ3VycmVudENvdW50cnkiLCJtb2RhbElucHV0U2VhcmNoIiwibW9kYWxMaXN0Q291bnRyaWVzIiwibW9kYWxDbG9zZUJ0biIsImhlYWRpbmciLCJjdXJyZW50Q291bnRyeSIsInJlbmRlckhlYWRpbmciLCJjbG9zZUZuYyIsImNsb3NlU3ltYiIsInJlbmRlckNsb3NlQnRuIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZSIsInN0eWxlIiwiZGlzcGxheSIsIm1vZGFsRWxlbSIsImFwcGVuZCIsInJlbmRlckNvdW50cmllc01vZGFsIiwic3RyZWFtSW5mbyIsImJ1eUluZm8iLCJyZW50SW5mbyIsInNlcnZpY2VOYW1lcyIsImlkeCIsInNlcnZpY2VDb250YWluZXIiLCJzZXJ2aWNlTmFtZSIsInNlcnZpY2VOYW1lQm9sZCIsInByb3ZpZGVyU2VydmljZUNvbnRhaW5lciIsInByb3ZpZGVyIiwicHJvdmlkZXJTZXJ2aWNlIiwicHJvdmlkZXJJbWciLCJwcm92aWRlck5hbWUiLCJkcmF3U2VjdGlvbnMiLCJpZHMiLCJxdWVyeSIsInNwbGl0IiwiaW50ZXJwcmV0VG9RdWVyeSIsInJlc3VsdCIsInNvcnQiLCJwMSIsInAyIiwiaSIsIm1lZGlhX3R5cGUiLCJmZXRjaElkcyIsIm1haW4iLCJzZWN0aW9ucyIsInJlbmRlclNlY3Rpb24iLCJnZXRFbGVtZW50QnlJZCIsInZhbHVlIiwiaW5uZXJIVE1MIiwiYWRkU3VibWl0U2VhcmNoRm5jIl0sInNvdXJjZVJvb3QiOiIifQ==