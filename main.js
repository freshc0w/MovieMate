(()=>{"use strict";const e="720d2150cf09bfa61e28a5042cd7468f";async function t(t){try{const n=await fetch(`https://api.themoviedb.org/3/movie/${t}?api_key=${e}\n\t\t\t&language=en-US`,{mode:"cors"}),{original_title:a,overview:o,tagline:r,popularity:i,vote_average:s,vote_count:c,genres:d,video:l,runtime:p,poster_path:u,backdrop_path:m,release_date:h}=await n.json();return{mName:a,summary:o,tagline:r,popularity:i,vote_average:s,vote_count:c,genres:d.map((e=>e.name)),video:l,runtime:p,poster_path:u,backdrop_path:m,release_date:h}}catch(e){console.error(`Failed to fetch movie details ${e.message}`)}}async function n(t){try{const n=await fetch(`https://api.themoviedb.org/3/movie/${t}/recommendations\n\t\t\t?api_key=${e}&language=en-US&page=1`,{mode:"cors"});if(!n.ok)throw new Error("Failed to fetch movie recommendations from API.");return(await n.json()).results.slice(0,5).map((e=>({mName:e.original_title,id:e.id,poster_path:e.poster_path,backdrop_path:e.backdrop_path,release_date:e.release_date,vote_count:e.vote_count,vote_average:e.vote_average})))}catch(e){console.error(`Failed to fetch movie recommendations: ${e.message}`)}}async function a(t){const n={};try{const o=await fetch(`https://api.themoviedb.org/3/movie/${t}/watch/providers\n\t\t\t?api_key=${e}`,{mode:"cors"}),r=await o.json();for(const e in r.results){const t=(a=e,new Intl.DisplayNames(["en"],{type:"region"}).of(a));n[t]={stream:[],rent:[],buy:[],countryCode:e};const o=(e,t)=>{e&&e.forEach((e=>{const n={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(n)}))};o(r.results[e].flatrate,n[t].stream),o(r.results[e].rent,n[t].rent),o(r.results[e].buy,n[t].buy)}return n}catch(e){console.erroror(`Failed to fetch movie providers: ${e.message}`)}var a}async function o(t){try{const a=await fetch(`https://api.themoviedb.org/3/movie/${t}/videos?api_key=\n\t\t\t${e}&mode=cors`);if(!a.ok)throw new Error("Failed to fetch movie trailers from API.");const o=(await a.json()).results.filter((e=>"Trailer"===e.type));if(0===o.length)return;const r=o.find((e=>!0===e.official))||o[0];return{tName:r.name,key:r.key,site:r.site,type:r.type,lang:(n=r.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(n))}}catch(e){console.error(`Failed to fetch movie trailers: ${e.message}`)}var n}async function r(t){try{let n=[];const a=await fetch(`https://api.themoviedb.org/3/movie/${t}/reviews?api_key=\n\t\t\t${e}&language=en-US&page=1`,{mode:"cors"}),o=await a.json();return 0!==o.results.length&&(o.results.forEach((e=>{n.push({author:e.author,rating:e.author_details?.rating,pic_path:e.author_details?.avatar_path,content:e.content,url:e.url,last_updated:e.updated_at})})),n.slice(0,5))}catch(e){console.error(`Fail to fetch movie reviews: ${e.message}`)}}async function i(t){try{const n=await fetch(`https://api.themoviedb.org/3/tv/${t}?api_key=${e}\n\t\t\t&language=en-US`,{mode:"cors"});if(!n.ok)throw new Error("Failed to fetch TV details from API.");const a=await n.json(),o=a.genres.reduce(((e,t)=>[...e,t.name]),[]);return{tName:a.original_name,tagline:a.tagline,language:a.original_language,summary:a.overview,episode_run_time:a.episode_run_time[0],origin_country:a.origin_country,vote_average:a.vote_average,vote_count:a.vote_count,status:a.status,seasons:a.seasons,number_of_seasons:a.number_of_seasons,first_air_date:a.first_air_date,last_air_date:a.last_air_date,backdrop_path:a.backdrop_path,poster_path:a.poster_path,popularity:a.popularity,genres:o}}catch(e){console.error(`Failed to fetch relevant information for TV SHOW: ${e.message}`)}}async function s(t){try{const n=await fetch(`https://api.themoviedb.org/3/tv/${t}/recommendations?api_key=${e}&language=en-US&page=1`,{mode:"cors"});if(!n.ok)throw new Error("Failed to fetch TV recommendations from API.");const a=(await n.json()).results?.slice(0,5).reduce(((e,t)=>(e[t.original_name]={tName:t.original_name,id:t.id,first_air_date:t.first_air_date,poster_path:t.poster_path,backdrop_path:t.backdrop_path,vote_average:t.vote_average,vote_count:t.vote_count},e)),{});return a||{}}catch(e){console.error(`Failed to fetch TV recommendations: ${e.message}`)}}async function c(t){const n={};try{const o=await fetch(`https://api.themoviedb.org/3/tv/${t}/watch/providers?api_key=${e}`,{mode:"cors"});if(!o.ok)throw new Error("Failed to fetch TV show providers from API.");const r=await o.json();for(const e in r.results){const t=(a=e,new Intl.DisplayNames(["en"],{type:"region"}).of(a));n[t]={stream:[],rent:[],buy:[],countryCode:e};const o=(e,t)=>{e&&e.forEach((e=>{const n={provider_name:e.provider_name,provider_logo_path:e.logo_path};t.push(n)}))};o(r.results[e].flatrate,n[t].stream),o(r.results[e].rent,n[t].rent),o(r.results[e].buy,n[t].buy)}return n}catch(e){console.error(`Failed to fetch TV providers: ${e.message}`)}var a}async function d(t){try{const a=await fetch(`https://api.themoviedb.org/3/tv/${t}/videos?api_key=${e}`,{mode:"cors"});if(!a.ok)throw new Error("Failed to fetch TV trailer from API.");const o=(await a.json()).results.filter((e=>"Trailer"===e.type));if(0===o.length)return;const r=o.find((e=>!0===e.official))||o[0];return{tName:r.name,key:r.key,site:r.site,type:r.type,lang:(n=r.iso_639_1,new Intl.DisplayNames(["en"],{type:"language"}).of(n))}}catch(e){console.error(`Failed to fetch TV trailer: ${e.message}`)}var n}async function l(t){try{const n=await fetch(`https://api.themoviedb.org/3/tv/${t}/reviews?api_key=\n\t\t\t${e}&language=en-US&page=1`,{mode:"cors"});if(!n.ok)throw new Error("Failed to fetch TV reviews from API.");const a=await n.json();return 0!==a.results.length&&a.results.map((e=>({author:e.author,rating:e.author_details?.rating,pic_path:e.author_details?.avatar_path,content:e.content,url:e.url,last_updated:e.updated_at}))).slice(0,5)}catch(e){console.error(`Failed to fetch TV reviews: ${e.message}`)}}const p=async(e,p)=>{const h=document.createElement("section"),f=await b(e,t,i),g=await b(e,n,s),v=await b(e,a,c),y=await b(e,o,d),_=await b(e,r,l);function w(e){e&&h.appendChild(e)}function C(e,t){const n=document.createElement(e);return n.classList.add(t),n}async function b(e,t,n){return"movie"===p?await t(e):await n(e)}h.classList.add("section-container");const $=e=>{const t=document.createElement("div");t.classList.add("intro"),t.appendChild(function(){const e=C("h1","title");return e.textContent=f.mName?f.mName:f.tName,e}()),t.appendChild(function(){const e=C("em","tagline");return e.textContent=`"${f.tagline}"`,e}());const n=function(e=""){const t=document.createElement("img"),n="https://image.tmdb.org/t/p",a=f.poster_path||f.backdrop_path;return a?(t.classList.add("poster"),t.src=e?`${n}/w${e}/${a}`:`${n}/original/${a}`,t.alt="Movie picture poster",t.setAttribute("loading","lazy"),t):null}(e);return n&&t.appendChild(n),t},E=e=>{const t=C("div","rec-container"),n=C("img","rec-poster"),a=C("div","rec-info");n.src=`https://image.tmdb.org/t/p/w300/${e.poster_path}`,t.appendChild(n),function(e){if(e){const t=C("p","rec-name"),n=C("p","rec-date"),a=C("p","rec-vote-count"),o=C("p","rec-vote-avg");return t.textContent=e.tName?`Name: ${e.tName}`:`Name: ${e.mName}`,n.textContent=e.first_air_date?`First Air Date: ${e.first_air_date}`:`Release Date: ${e.release_date}`,a.textContent=`Vote Count: ${e.vote_count}`,o.textContent=`Vote Avg: ${e.vote_average}`,[t,n,a,o]}}(e).forEach((e=>a.appendChild(e)));const o=C("a","rec-link"),r=e.tName?"TV Show":"Movie";return o.textContent=`Search for this ${r} -> `,o.addEventListener("click",(async t=>{t.preventDefault(),m(),e.tName?await u(e.tName):await u(e.mName)})),a.appendChild(o),t.appendChild(a),t};return{section:h,addToSection:w,drawAll:function(){w($())},drawIntro:$,drawSubInfos:()=>{const e=C("div","subinfo-container");let t,n;f.release_date?(t=o("Release Date:",f.release_date.split("-").reverse().join("/")),n=""):f.first_air_date?(t=o("First Aired: ",f.first_air_date.split("-").reverse().join("/")),n=o("Last Aired: ",f.last_air_date.split("-").reverse().join("/"))):t="";let a=f.runtime?function(e){const t=e/60,n=Math.floor(t),a=60*(t-n);return`${n}h ${Math.round(a)}min`}(f.runtime):"";function o(e,t){if(!t)return null;const n=C("div","sub-info"),a=C("span","category-name"),o=C("span","category-info");return a.textContent=e,o.textContent=t,[a,o].forEach((e=>n.appendChild(e))),n}return[t,n,o("Show status:",f.status),o("Runtime: ",a),o("Genres: ",f.genres.join(", ")),o("Number of seasons: ",f.number_of_seasons),o("Est Avg Episode Runtime: ",f.episode_run_time),o("Country of Origin: ",f.origin_country),o("Vote Average: ",f.vote_average),o("Vote Count: ",f.vote_count),o("Popularity: ",f.popularity)].forEach((t=>t?e.appendChild(t):"")),e},drawSummaryHeading:()=>{const e=document.createElement("h2");return e.textContent="Synopsis: ",e},drawSummary:()=>{const e=C("p","summary");return e.textContent=f.summary,e},drawProviders:()=>{let e;const t=C("div","provider-container"),n=C("button","country-btn"),a=C("div","house-provider-container");if([n,a].forEach((e=>{t.appendChild(e)})),Object.keys(v).length)if(e=!0,Object.keys(v).includes("Australia")){const e=C("img","country-flag");e.src="https://flagsapi.com/AU/shiny/64.png",e.alt="Australia flag",e.classList.add("btn-country-flag"),r("Australia"),n.textContent="Australia",n.appendChild(e)}else{const e=Object.keys(v)[0];console.log(e);const t=C("img","country-flag");t.src=`https://flagsapi.com/${v[e].countryCode}/shiny/64.png`,t.alt=`${e} flag`,t.classList.add("btn-country-flag"),r(e),n.textContent=`${e}`,n.appendChild(t)}else{e=!1,n.textContent="No countries offer this tv/movie at the moment.",n.classList.add("lost-providers");const t=C("img","lost-gif");t.src="./img/lost-gif.gif",t.alt="Prover cannot be found picture.",a.style.display="flex",a.style.justifyContent="center",a.appendChild(t)}const o=C("i","fas");return o.classList.add("fa-angle-down"),n.appendChild(o),n.addEventListener("click",(t=>{t.preventDefault(),e&&(function(e){const t=Object.keys(v);let n,a={};t.forEach((t=>{a[t]=v[t].countryCode,e===t&&(n=v[t].countryCode)}));const o=C("form","modal-country-container"),r=C("div","modal-header"),i=C("div","modal-body"),s=C("div","modal-current-country"),c=C("input","modal-input-search"),d=C("ul","modal-list-countries"),l=C("button","modal-close-btn");function p(e,t){const n=C("img","country-flag");try{n.src=`https://flagsapi.com/${v[t].countryCode}/shiny/64.png`}catch(e){console.error(`Failed to retrieve flag for: ${t}`)}return n.alt=`${t} flag`,n}function u(){let e,t,n,a,o,r,i;for(e=document.getElementById("modal-input-search"),t=e.value.toUpperCase(),n=document.getElementById("countries-list"),a=n.getElementsByTagName("li"),r=0;r<a.length;r++)o=a[r].getElementsByTagName("a")[0],i=o.textContent||o.innerText,i.toUpperCase().indexOf(t)>-1?a[r].style.display="":a[r].style.display="none"}(()=>{const t=document.createElement("h2");t.textContent="Countries";const n=document.createElement("h3"),a=document.createElement("label"),o={id:"modal-input-search",type:"search",placeholder:"ðŸ” Search for countries...",title:"Type in a country name",role:"search"};for(let e in o)c.setAttribute(e,o[e]);c.addEventListener("keyup",u),c.addEventListener("submit",(e=>{e.preventDefault()}));const i=p(0,e);n.textContent=e,s.appendChild(i),s.appendChild(n),a.htmlFor=`${c.id}`,[t,s,a,c].forEach((e=>{r.appendChild(e)}))})(),d.id="countries-list",Object.entries(a).forEach((([e,t])=>{const n=C("li","country-container"),a=p(0,e),o=C("a","country-name");o.textContent=e,o.href="#",[a,o].forEach((e=>{n.appendChild(e)})),d.appendChild(n)})),[d].forEach((e=>{i.appendChild(e)})),(e=>{const t=C("i","fa");t.classList.add("fa-close"),l.appendChild(t),e()})((()=>{l.addEventListener("click",(e=>{e.preventDefault();const t=document.querySelector(".modal-country-container");document.querySelector(".face-mask").style.display="none",setTimeout((function(){t.style.transform="translateY(-125%)"}),100),setTimeout((function(){t.style.opacity=0,t.style.visibility="hidden",t.remove()}),750)}))})),[r,i,l].forEach((e=>o.appendChild(e))),setTimeout((function(){o.style.visibility="visible",o.style.opacity=1,o.style.transform="translateY(0%)"}),100),document.querySelector("body").append(o),document.querySelector(".face-mask").style.display="block"}(n.textContent),function(e){let t,n,a,o,r;for(t=document.getElementById("countries-list"),n=t.getElementsByTagName("li"),a=0;a<n.length;a++)if(o=n[a].getElementsByTagName("a")[0],r=o.textContent||o.innerText,r===e){n[a].style.backgroundColor="rgba(25, 150, 150, 0.5)",n[a].style.transform="scale(1.025)";const e=C("i","fa");e.classList.add("fa-check"),n[a].append(e)}}(n.textContent),function(){function e(e){e.preventDefault();const t=this.lastChild.textContent.trim();t&&(function(){for(;a.firstChild;)a.removeChild(a.lastChild)}(),r(t)),document.querySelector(".modal-country-container").remove(),document.querySelector(".face-mask").style.display="none"}document.querySelectorAll(".country-container").forEach((t=>{t.addEventListener("click",e)}))}())})),t;function r(e="Australia"){n.textContent=e;try{const t=C("img","country-flag");t.src=`https://flagsapi.com/${v[e].countryCode}/shiny/64.png`,t.alt=`${e} flag`,t.classList.add("btn-country-flag"),n.appendChild(t)}catch(e){console.error("Failed to retrieve flag",e.message)}const t=C("i","fas");t.classList.add("fa-angle-down"),n.appendChild(t);const o=v[e].stream,r=v[e].buy,i=v[e].rent,s=["Stream at:","Purchase at:","Rent at:"];let c=0;[o,r,i].forEach((e=>{const t=C("div","service-container"),n=C("div","service-name"),o=C("h2","service-name-bold"),r=C("div","provider-service-container");e.forEach((e=>{const t=C("div","provider-service"),n=C("img","provider-img"),a=C("span","provider-name");e.provider_logo_path&&(n.src=`https://image.tmdb.org/t/p/original/\n\t\t\t\t\t\t${e.provider_logo_path}`,n.alt=`${e.provider_name} picture.`,n.setAttribute("loading","lazy"),a.textContent=e.provider_name),[n,a].forEach((e=>{t.appendChild(e)})),r.appendChild(t)})),e.length&&(o.textContent=`${s[c]}`,n.appendChild(o)),c++,t.appendChild(n),t.appendChild(r),a.appendChild(t)}))}},drawReviews:()=>{if(!_)return;const e=C("div","review-container"),t=C("h2","review-title");return t.textContent="Reviews:",e.appendChild(t),_.forEach((t=>((e,t)=>{function n(t,n,a,o){const r=C(a,o);t&&(r.textContent=t),t===e.rating&&(r.textContent=e.rating?`${t}/10`:"Rating not provided.."),n.appendChild(r)}t.appendChild((()=>{const t=C("div","review-heading");try{if(e.pic_path){const n=C("img","author-pic");n.src="http"!==e.pic_path.slice(1,5)?`https://image.tmdb.org/t/p/w300/${e.pic_path}`:e.pic_path.slice(1),n.alt=`${e.author} profile picture.`,t.appendChild(n)}}catch(e){console.error("Cannot fetch author profile pictures:",e.message)}return n(e.author,t,"h3","review-author"),n(e.rating,t,"span","review-rating"),t})()),t.appendChild((()=>{const t=C("p","review-content");return t.textContent=`"${e.content}"`,t})()),t.appendChild((()=>{const t=C("div","review-footer"),n=C("a","review-link"),a=C("span","review-updated");return n.setAttribute("href",`${e.url}`),n.setAttribute("target","_blank"),n.textContent="Click for review link",a.textContent=`Last updated: ${function(e){const[t,n,a]=e.split("-");return`${a.slice(0,2)}/${n}/${t}`}(e.last_updated)}`,t.appendChild(n),t.appendChild(a),t})())})(t,e))),e},drawTrailer:()=>{const e=C("div","trailer-container"),t=C("div","trailer-heading");if(y){(function(){const e=C("h2","trailer-name"),t=C("h3","trailer-lang");return e.textContent=`${y.tName}`,t.textContent=`Language: ${y.lang}`,[e,t]})().forEach((e=>t.appendChild(e))),e.appendChild(t);const n=C("div","video-wrapper");n.appendChild(function(e,t){const n=C("iframe","trailer-video"),a={loading:"lazy",width:"560",height:"315",src:`https://youtube.com/embed/${e}`,title:`${t} video player`,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted media; gyroscope; picture-in-picture; web-share"};for(let e in a)n.setAttribute(e,a[e]),n.setAttribute("allowfullscreen",!0);return n}(y.key,y.site)),e.appendChild(n)}return e},drawRecs:()=>{const e=C("div","recs-container");if(0===Object.keys(g).length){const t=C("h4","no-review-msg");return t.textContent="No recommendations found.",e.appendChild(t),e.style="display: flex; justify-content: center;",e}for(let t in g)e.appendChild(E(g[t]));return e}}};async function u(t){const n=await async function(t){const n=function(e){return e.split(" ").join("+")}(t);try{const a=await fetch(`https://api.themoviedb.org/3/search/multi?api_key=${e}\n\t\t\t&language=en-US&query=${n}&page=1`,{mode:"cors"}),o=await a.json();let r=o.results.reduce(((e,t)=>(e[t.id]=t.media_type,e)),{});return o.results.sort(((e,t)=>t.popularity-e.popularity)).length?r:void alert(`No results found for "${t}".\nPlease check your spelling.`)}catch(e){throw e}}(t),a=document.querySelector(".main-container");document.querySelector(".loader").style.visibility="visible";let o=[];for(let e in n)o.push([e,n[e]]);const r=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("show")}))}));o.forEach((async e=>{await async function(e,t){const n=await p(e,t),o=document.createElement("div");o.classList.add("intro-sub-info"),o.appendChild(n.drawIntro("300")),o.appendChild(n.drawSubInfos());const r=document.createElement("div");r.classList.add("synopsis-watch-providers"),r.appendChild(n.drawSummaryHeading()),r.appendChild(n.drawSummary()),r.appendChild(n.drawProviders());const i=document.createElement("h2");i.classList.add("rec-heading"),i.textContent="RECOMMENDATIONS:",n.addToSection(o),n.addToSection(r),n.addToSection(n.drawReviews()),n.addToSection(n.drawTrailer()),n.addToSection(i),n.addToSection(n.drawRecs()),a.appendChild(n.section)}(e[0],e[1]).then((()=>{document.querySelector(".loader").style.visibility="hidden"})),document.getElementById("check-animation").checked&&[...document.getElementsByTagName("div")].forEach((e=>{e.classList.add("hidden"),r.observe(e)}))})),document.getElementById("input-search").value=t.split("+").join(" ")}function m(){[...document.querySelector(".main-container").getElementsByTagName("section")].forEach((e=>e.remove()))}const h=new IntersectionObserver((e=>{e.forEach((e=>{e.isIntersecting&&e.target.classList.add("show")}))}));(async function(){document.querySelector(".search-query").addEventListener("click",(async e=>{e.preventDefault();const t=document.getElementById("input-search").value.split(" ").join("+");t?(document.getElementById("title-page")&&document.getElementById("title-page").remove(),document.querySelector(".intro-container2")&&document.querySelector(".intro-container2").remove(),m(),await u(t)):alert("Please enter a valid movie/tv show")}))})(),function(){const e=document.getElementById("check-animation");e.addEventListener("click",(()=>{const t=document.querySelectorAll("div");e.checked?t.forEach((e=>{e.classList.add("hidden"),h.observe(e)})):t.forEach((e=>{e.classList.remove("hidden"),h.disconnect()}))}))}(),u("Game Of Thrones")})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LFlBQzdCM0ssU0FBUW9TLEdBQVFBLEVBQUsvRixVQUNwQyxDRTVFQSxNQUFNaUYsRUFBVyxJQUFJQyxzQkFBc0JoRyxJQUMxQ0EsRUFBUXZMLFNBQVN3UixJQUNaQSxFQUFNQyxnQkFDVEQsRUFBTUUsT0FBT2xOLFVBQVVDLElBQUksT0FHNUIsR0FDQyxLQ1BZM0gsaUJBQ0k0RyxTQUFTc0ksY0FBYyxpQkFDL0J4RixpQkFBaUIsU0FBUzFKLE1BQU8ySixJQUMxQ0EsRUFBRUMsaUJBQ0YsTUFBTWdLLEVBQ0xoTixTQUFTOEcsZUFBZSxnQkFBZ0JDLE1BdUI5QnpELE1BQU0sS0FBS0UsS0FBSyxLQXJCdEJ3SixHQU1GaE4sU0FBUzhHLGVBQWUsZUFDMUI5RyxTQUFTOEcsZUFBZSxjQUFjNkIsU0FHcEMzSSxTQUFTc0ksY0FBYyxzQkFDekJ0SSxTQUFTc0ksY0FBYyxxQkFBcUJLLFNBRzdDOEYsVUFDTTNCLEVBQWFFLElBZGxCTyxNQUFNLHFDQWNrQixHQUczQixFQ25CSW9CLEdGSVcsV0FDZCxNQUFNQyxFQUFpQjVPLFNBQVM4RyxlQUFlLG1CQUMvQzhILEVBQWU5TCxpQkFBaUIsU0FBUyxLQUN4QyxNQUFNK0wsRUFBVzdPLFNBQVMwSixpQkFBaUIsT0FDdkNrRixFQUFlTixRQUNsQk8sRUFBU3ZTLFNBQVNpUyxJQUNqQkEsRUFBR3pOLFVBQVVDLElBQUksVUFDakI2TSxFQUFTWSxRQUFRRCxFQUFHLElBR3JCTSxFQUFTdlMsU0FBU2lTLElBQ2pCQSxFQUFHek4sVUFBVTZILE9BQU8sVUFDcEJpRixFQUFTa0IsWUFBWSxHQUV2QixHQUVGLENFbkJJQyxHQUpKakMsRUFBYSxrQiIsInNvdXJjZXMiOlsid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9hcGlGdW5jdGlvbnMvY29uc3RhbnQuanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mby5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvYXBpRnVuY3Rpb25zL2ZldGNoVHZJbmZvLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9ET01GdW5jdGlvbnMvZHJhd1NlY3Rpb24uanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL0RPTUZ1bmN0aW9ucy9kcmF3U2VjdGlvbnMuanMiLCJ3ZWJwYWNrOi8vbW92aWVtYXRlLy4vc3JjL2pzL2FwaUZ1bmN0aW9ucy9mZXRjaElkLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9qcy9VSS9jaGVja0FuaW1hdGlvbi5qcyIsIndlYnBhY2s6Ly9tb3ZpZW1hdGUvLi9zcmMvanMvVUkvc3VibWl0U2VhcmNoLmpzIiwid2VicGFjazovL21vdmllbWF0ZS8uL3NyYy9pbmRleC5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgQVBJX0tFWSA9IFwiNzIwZDIxNTBjZjA5YmZhNjFlMjhhNTA0MmNkNzQ2OGZcIjtcbiIsImltcG9ydCB7IEFQSV9LRVkgfSBmcm9tIFwiLi9jb25zdGFudFwiO1xuLyoqXG4gKiBGZXRjaGVzIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiBkZXRhaWxzIG9mIGEgbW92aWUgYW5kIHJldHVybiBvbmx5IHRoZSBtb3N0XG4gKiByZWxldmFudCBpbmZvcm1hdGlvbi5cbiAqIEBwYXJhbSB7TnVtYmVyfSBtb3ZpZV9pZCBJZGVudGlmaWVzIHRoZSBtb3ZpZSBhcyBhbiBpbnRlZ2VyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllRGV0YWlscyhtb3ZpZV9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfT9hcGlfa2V5PSR7QVBJX0tFWX1cblx0XHRcdCZsYW5ndWFnZT1lbi1VU2AsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGNvbnN0IHtcblx0XHRcdG9yaWdpbmFsX3RpdGxlLFxuXHRcdFx0b3ZlcnZpZXcsXG5cdFx0XHR0YWdsaW5lLFxuXHRcdFx0cG9wdWxhcml0eSxcblx0XHRcdHZvdGVfYXZlcmFnZSxcblx0XHRcdHZvdGVfY291bnQsXG5cdFx0XHRnZW5yZXMsXG5cdFx0XHR2aWRlbyxcblx0XHRcdHJ1bnRpbWUsXG5cdFx0XHRwb3N0ZXJfcGF0aCxcblx0XHRcdGJhY2tkcm9wX3BhdGgsXG5cdFx0XHRyZWxlYXNlX2RhdGUsXG5cdFx0fSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGNvbnN0IGdlbnJlTmFtZXMgPSBnZW5yZXMubWFwKChnZW5yZSkgPT4gZ2VucmUubmFtZSk7XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0bU5hbWU6IG9yaWdpbmFsX3RpdGxlLFxuXHRcdFx0c3VtbWFyeTogb3ZlcnZpZXcsXG5cdFx0XHR0YWdsaW5lLFxuXHRcdFx0cG9wdWxhcml0eSxcblx0XHRcdHZvdGVfYXZlcmFnZSxcblx0XHRcdHZvdGVfY291bnQsXG5cdFx0XHRnZW5yZXM6IGdlbnJlTmFtZXMsXG5cdFx0XHR2aWRlbyxcblx0XHRcdHJ1bnRpbWUsXG5cdFx0XHRwb3N0ZXJfcGF0aCxcblx0XHRcdGJhY2tkcm9wX3BhdGgsXG5cdFx0XHRyZWxlYXNlX2RhdGUsXG5cdFx0fTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHQvLyBTcXVhc2hlZFxuXHRcdGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBtb3ZpZSBkZXRhaWxzICR7ZXJyb3IubWVzc2FnZX1gKTtcblx0fVxufVxuXG4vKipcbiAqIFJldXJucyBtb3ZpZSByZWNvbW1lbmRhdGlvbnMgYXMgYW4gb2JqZWN0IHdpdGggaXRzIHJlbGV2YW50IGluZm9ybWF0aW9uLlxuICogTWF4aW11bSA1IG1vdmllcyBjYW4gYmUgcmVjb21tZW5kZWQgYW5kIHRoZSAuXG4gKiBAcGFyYW0ge051bWJlcn0gbW92aWVfaWQgSWRlbnRpZmllcyB0aGUgbW92aWUgYXMgYW4gSW50ZWdlci5cbiAqIEByZXR1cm5zIHtPYmplY3R9XHRcdEFuIG9iamVjdCB0aGF0IGhhcyB0aGUgcmVsZXZhbnQgaW5mb3JtYXRpb24gd2l0aFxuICogXHRcdFx0XHRcdFx0XHRpdCdzIGltYWdlcywgdGl0bGUsIGlkIGFuZCByZWxldmFudCB2b3RlIGluZm8uXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVSZWNjb3MobW92aWVfaWQpIHtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vcmVjb21tZW5kYXRpb25zXG5cdFx0XHQ/YXBpX2tleT0ke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIG1vdmllIHJlY29tbWVuZGF0aW9ucyBmcm9tIEFQSS5cIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdC8vIE9ubHkgcmV0cmlldmUgdGhlIGluZm8gb24gdGhlIGZpcnN0IDUgbW92aWUgcmVjb21tZW5kYXRpb25zLlxuXHRcdGNvbnN0IHJlY2NvcyA9IGRhdGEucmVzdWx0cy5zbGljZSgwLCA1KS5tYXAoKG1vdmllKSA9PiAoe1xuXHRcdFx0bU5hbWU6IG1vdmllLm9yaWdpbmFsX3RpdGxlLFxuXHRcdFx0aWQ6IG1vdmllLmlkLFxuXHRcdFx0cG9zdGVyX3BhdGg6IG1vdmllLnBvc3Rlcl9wYXRoLFxuXHRcdFx0YmFja2Ryb3BfcGF0aDogbW92aWUuYmFja2Ryb3BfcGF0aCxcblx0XHRcdHJlbGVhc2VfZGF0ZTogbW92aWUucmVsZWFzZV9kYXRlLFxuXHRcdFx0dm90ZV9jb3VudDogbW92aWUudm90ZV9jb3VudCxcblx0XHRcdHZvdGVfYXZlcmFnZTogbW92aWUudm90ZV9hdmVyYWdlLFxuXHRcdH0pKTtcblxuXHRcdHJldHVybiByZWNjb3M7XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihcblx0XHRcdGBGYWlsZWQgdG8gZmV0Y2ggbW92aWUgcmVjb21tZW5kYXRpb25zOiAke2Vycm9yLm1lc3NhZ2V9YFxuXHRcdCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiAoc3RyZWFtaW5nLCBwdXJjaGFzZSBhbmQvb3IgcmVudCkgb2YgdGhlXG4gKiBtb3ZpZSBwcm92aWRlcnMuXG4gKiBAcGFyYW0ge051bWJlcn0gbW92aWVfaWQgSWRlbnRpZmllcyB0aGUgbW92aWUgYXMgYW4gSW50ZWdlclxuICogQHJldHVybnMge09iamVjdH1cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hNb3ZpZVByb3ZpZGVycyhtb3ZpZV9pZCkge1xuXHRjb25zdCBwcm92aWRlcnNCeUNvdW50cnkgPSB7fTtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vd2F0Y2gvcHJvdmlkZXJzXG5cdFx0XHQ/YXBpX2tleT0ke0FQSV9LRVl9YCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGZvciAoY29uc3QgY291bnRyeUNvZGUgaW4gZGF0YS5yZXN1bHRzKSB7XG5cdFx0XHRjb25zdCBjb3VudHJ5ID0gZ2V0Q291bnRyeU5hbWUoY291bnRyeUNvZGUpO1xuXHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldID0ge1xuXHRcdFx0XHRzdHJlYW06IFtdLFxuXHRcdFx0XHRyZW50OiBbXSxcblx0XHRcdFx0YnV5OiBbXSxcblx0XHRcdFx0Y291bnRyeUNvZGU6IGNvdW50cnlDb2RlLFxuXHRcdFx0fTtcblxuXHRcdFx0Lypcblx0XHRcdFNvcnRzIHByb3ZpZGVycyBiYXNlZCBvbiBjb3VudHJ5IGFuZCBzZXJ2aWNlcyB0aGV5IHByb3ZpZGUuXG5cblx0XHRcdFRha2VzIGluIHR5cGUgb2Ygc2VydmljZXMgYXMgcGFyYW0gPT4gW1wiZmxhdHJhdGUgKHN0cmVhbWluZylcIiwgXG5cdFx0XHRcInJlbnRcIiwgXCJidXlcIl0gYW5kIGFuIGFycmF5IHRvIGFwcGVuZCBpdCB0by5cblx0XHRcdCovXG5cdFx0XHRjb25zdCBzb3J0UHJvdmlkZXJzID0gKHNlcnZpY2VzLCBjb2xsZWN0aW9uKSA9PiB7XG5cdFx0XHRcdGlmIChzZXJ2aWNlcykge1xuXHRcdFx0XHRcdHNlcnZpY2VzLmZvckVhY2goKHNlcnZpY2UpID0+IHtcblx0XHRcdFx0XHRcdGNvbnN0IHByb3ZpZGVySW5mbyA9IHtcblx0XHRcdFx0XHRcdFx0cHJvdmlkZXJfbmFtZTogc2VydmljZS5wcm92aWRlcl9uYW1lLFxuXHRcdFx0XHRcdFx0XHRwcm92aWRlcl9sb2dvX3BhdGg6IHNlcnZpY2UubG9nb19wYXRoLFxuXHRcdFx0XHRcdFx0fTtcblx0XHRcdFx0XHRcdGNvbGxlY3Rpb24ucHVzaChwcm92aWRlckluZm8pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHR9XG5cdFx0XHR9O1xuXG5cdFx0XHQvLyBBZGQgc3RyZWFtaW5nIHNlcnZpY2VzIGZvciBzcGVjaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5mbGF0cmF0ZSxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLnN0cmVhbVxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gQWRkIHJlbnRpbmcgc2VydmljZXMgZm9yIHNwZWljaWZpZWQgbW92aWUgaW4gZWFjaCBjb3VudHJ5LlxuXHRcdFx0c29ydFByb3ZpZGVycyhcblx0XHRcdFx0ZGF0YS5yZXN1bHRzW2NvdW50cnlDb2RlXS5yZW50LFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0ucmVudFxuXHRcdFx0KTtcblxuXHRcdFx0Ly8gQWRkIGJ1eWluZyBzZXJ2aWNlcyBmb3Igc3BlY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0uYnV5LFxuXHRcdFx0XHRwcm92aWRlcnNCeUNvdW50cnlbY291bnRyeV0uYnV5XG5cdFx0XHQpO1xuXHRcdH1cblx0XHRyZXR1cm4gcHJvdmlkZXJzQnlDb3VudHJ5O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3JvcihgRmFpbGVkIHRvIGZldGNoIG1vdmllIHByb3ZpZGVyczogJHtlcnJvci5tZXNzYWdlfWApO1xuXHR9XG59XG5cbi8qKlxuICogUmV0dXJucyB0aGUgcmVsZXZhbnQgaW5mb3JtYXRpb24gb2YgdGhlIG1vdmllIHRyYWlsZXIuIFRoZSBpZCBzaG91bGQgYWxzb1xuICogYmUgcmV0cmlldmVkIHNvIHRoYXQgdGhlIHVzZXIgY2FuIHNlYXJjaCBmb3IgdGhlIG1vdmllIHJlc3BlY3RpdmVseS5cbiAqIEBwYXJhbSB7TnVtYmVyfSBtb3ZpZV9pZCBJZGVudGlmaWVzIHRoZSBtb3ZpZSBhcyBhbiBJbnRlZ2VyLlxuICogQHJldHVybnMge09iamVjdH1cdFx0UmVsZXZhbnQgaW5mbyBvZiB0cmFpbGVyIGluY2x1ZGluZyB2aWRlbyBuYW1lLCBzaXRlXG4gKiBcdFx0XHRcdFx0XHRcdGxhbmd1YWdlIGFuZCB0eXBlLlxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaE1vdmllVHJhaWxlcihtb3ZpZV9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy9tb3ZpZS8ke21vdmllX2lkfS92aWRlb3M/YXBpX2tleT1cblx0XHRcdCR7QVBJX0tFWX0mbW9kZT1jb3JzYFxuXHRcdCk7XG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIG1vdmllIHRyYWlsZXJzIGZyb20gQVBJLlwiKTtcblx0XHR9XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdC8vIEZpbmQgYWxsIHRyYWlsZXJzXG5cdFx0Y29uc3QgdHJhaWxlcnMgPSBkYXRhLnJlc3VsdHMuZmlsdGVyKFxuXHRcdFx0KHZpZGVvKSA9PiB2aWRlby50eXBlID09PSBcIlRyYWlsZXJcIlxuXHRcdCk7XG5cdFx0aWYgKHRyYWlsZXJzLmxlbmd0aCA9PT0gMCkgcmV0dXJuO1xuXG5cdFx0Ly8gRmluZCBvZmZpY2lhbCB0cmFpbGVyLk9SIHVzZSBmaXJzdCB0cmFpbGVyXG5cdFx0Y29uc3QgbW92aWVUcmFpbGVyID1cblx0XHRcdHRyYWlsZXJzLmZpbmQoKHZpZGVvKSA9PiB2aWRlby5vZmZpY2lhbCA9PT0gdHJ1ZSkgfHwgdHJhaWxlcnNbMF07XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dE5hbWU6IG1vdmllVHJhaWxlci5uYW1lLFxuXHRcdFx0a2V5OiBtb3ZpZVRyYWlsZXIua2V5LFxuXHRcdFx0c2l0ZTogbW92aWVUcmFpbGVyLnNpdGUsXG5cdFx0XHR0eXBlOiBtb3ZpZVRyYWlsZXIudHlwZSxcblx0XHRcdGxhbmc6IGdldExhbmd1YWdlKG1vdmllVHJhaWxlci5pc29fNjM5XzEpLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIG1vdmllIHRyYWlsZXJzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSBmaXJzdCA1IHJldmlld3Mgd2l0aCB0aGVpciByYXRpbmdzLCBhdXRob3IgaW5mb3JtYXRpb24gYW5kIGxpbmtzLlxuICogQHBhcmFtIHtOdW1iZXJ9IG1vdmllX2lkIElkZW50aWZpZXMgdGhlIG1vdmllIGFzIGFuIEludGVnZXJcbiAqIEByZXR1cm5zIHtPYmplY3R9XHRcdFJldmlldyBpbmZvcm1hdGlvbiBpbmNsdWRpbmcgdGhlIGNvbnRlbnQsIGF1dGhvcixcbiAqIFx0XHRcdFx0XHRcdFx0bGlua3MgYW5kIHJhdGluZ3MuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoTW92aWVSZXZpZXdzKG1vdmllX2lkKSB7XG5cdHRyeSB7XG5cdFx0bGV0IHJldmlld3MgPSBbXTtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvbW92aWUvJHttb3ZpZV9pZH0vcmV2aWV3cz9hcGlfa2V5PVxuXHRcdFx0JHtBUElfS0VZfSZsYW5ndWFnZT1lbi1VUyZwYWdlPTFgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdGlmIChkYXRhLnJlc3VsdHMubGVuZ3RoID09PSAwKSByZXR1cm4gZmFsc2U7XG5cblx0XHRkYXRhLnJlc3VsdHMuZm9yRWFjaCgocmV2aWV3KSA9PiB7XG5cdFx0XHRyZXZpZXdzLnB1c2goe1xuXHRcdFx0XHRhdXRob3I6IHJldmlldy5hdXRob3IsXG5cdFx0XHRcdHJhdGluZzogcmV2aWV3LmF1dGhvcl9kZXRhaWxzPy5yYXRpbmcsXG5cdFx0XHRcdHBpY19wYXRoOiByZXZpZXcuYXV0aG9yX2RldGFpbHM/LmF2YXRhcl9wYXRoLFxuXHRcdFx0XHRjb250ZW50OiByZXZpZXcuY29udGVudCxcblx0XHRcdFx0dXJsOiByZXZpZXcudXJsLFxuXHRcdFx0XHRsYXN0X3VwZGF0ZWQ6IHJldmlldy51cGRhdGVkX2F0LFxuXHRcdFx0fSk7XG5cdFx0fSk7XG5cdFx0cmV0dXJuIHJldmlld3Muc2xpY2UoMCwgNSk7IC8vIEZpcnN0IDUgcmV2aWV3cyByZXR1cm5lZFxuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEZhaWwgdG8gZmV0Y2ggbW92aWUgcmV2aWV3czogJHtlcnJvci5tZXNzYWdlfWApO1xuXHR9XG59XG5cbi8vIEhlbHBlciBmbmNzXG5mdW5jdGlvbiBnZXRDb3VudHJ5TmFtZShjb2RlKSB7XG5cdGxldCByZWdpb25OYW1lcyA9IG5ldyBJbnRsLkRpc3BsYXlOYW1lcyhbXCJlblwiXSwgeyB0eXBlOiBcInJlZ2lvblwiIH0pO1xuXHRyZXR1cm4gcmVnaW9uTmFtZXMub2YoY29kZSk7XG59XG5cbmZ1bmN0aW9uIGdldExhbmd1YWdlKGNvZGUpIHtcblx0Y29uc3QgbGFuZyA9IG5ldyBJbnRsLkRpc3BsYXlOYW1lcyhbXCJlblwiXSwgeyB0eXBlOiBcImxhbmd1YWdlXCIgfSk7XG5cdHJldHVybiBsYW5nLm9mKGNvZGUpO1xufVxuZXhwb3J0IHtcblx0ZmV0Y2hNb3ZpZURldGFpbHMsXG5cdGZldGNoTW92aWVSZWNjb3MsXG5cdGZldGNoTW92aWVQcm92aWRlcnMsXG5cdGZldGNoTW92aWVUcmFpbGVyLFxuXHRmZXRjaE1vdmllUmV2aWV3cyxcblx0Z2V0Q291bnRyeU5hbWUsXG59O1xuIiwiaW1wb3J0IHsgQVBJX0tFWSB9IGZyb20gXCIuL2NvbnN0YW50XCI7XG4vKipcbiAqIFJldHVybnMgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIG9mIGEgdHYgc2hvdyBiYXNlZCBvbiBpdHMgaWQuXG4gKiBAcGFyYW0ge051bWJlcn0gdHZfaWQgSWRlbnRpZmllcyB0diBzaG93IGJ5IGFuIGludGVnZXJcbiAqIEByZXR1cm5zIHtPYmplY3R9XHQgUmVsZXZhbnQgaW5mb3JtYXRpb24gb2YgVFYgU0hPVy4gaS5lLiBuYW1lIGFuZCBudW1iZXJcbiAqIFx0XHRcdFx0XHRcdCBzZWFzb25zXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVHZEZXRhaWxzKHR2X2lkKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3R2LyR7dHZfaWR9P2FwaV9rZXk9JHtBUElfS0VZfVxuXHRcdFx0Jmxhbmd1YWdlPWVuLVVTYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggVFYgZGV0YWlscyBmcm9tIEFQSS5cIik7XG5cdFx0fVxuXG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblxuXHRcdGNvbnN0IGdlbnJlcyA9IGRhdGEuZ2VucmVzLnJlZHVjZSgoYWNjLCB2YWwpID0+IFsuLi5hY2MsIHZhbC5uYW1lXSwgW10pO1xuXG5cdFx0Y29uc3QgZ2VuZXJhbEluZm8gPSB7XG5cdFx0XHR0TmFtZTogZGF0YS5vcmlnaW5hbF9uYW1lLFxuXHRcdFx0dGFnbGluZTogZGF0YS50YWdsaW5lLFxuXHRcdFx0bGFuZ3VhZ2U6IGRhdGEub3JpZ2luYWxfbGFuZ3VhZ2UsXG5cdFx0XHRzdW1tYXJ5OiBkYXRhLm92ZXJ2aWV3LFxuXHRcdFx0ZXBpc29kZV9ydW5fdGltZTogZGF0YS5lcGlzb2RlX3J1bl90aW1lWzBdLFxuXHRcdFx0b3JpZ2luX2NvdW50cnk6IGRhdGEub3JpZ2luX2NvdW50cnksXG5cdFx0XHR2b3RlX2F2ZXJhZ2U6IGRhdGEudm90ZV9hdmVyYWdlLFxuXHRcdFx0dm90ZV9jb3VudDogZGF0YS52b3RlX2NvdW50LFxuXHRcdFx0c3RhdHVzOiBkYXRhLnN0YXR1cyxcblx0XHRcdHNlYXNvbnM6IGRhdGEuc2Vhc29ucyxcblx0XHRcdG51bWJlcl9vZl9zZWFzb25zOiBkYXRhLm51bWJlcl9vZl9zZWFzb25zLFxuXHRcdFx0Zmlyc3RfYWlyX2RhdGU6IGRhdGEuZmlyc3RfYWlyX2RhdGUsXG5cdFx0XHRsYXN0X2Fpcl9kYXRlOiBkYXRhLmxhc3RfYWlyX2RhdGUsXG5cdFx0XHRiYWNrZHJvcF9wYXRoOiBkYXRhLmJhY2tkcm9wX3BhdGgsXG5cdFx0XHRwb3N0ZXJfcGF0aDogZGF0YS5wb3N0ZXJfcGF0aCxcblx0XHRcdHBvcHVsYXJpdHk6IGRhdGEucG9wdWxhcml0eSxcblx0XHRcdGdlbnJlczogZ2VucmVzLFxuXHRcdH07XG5cdFx0cmV0dXJuIGdlbmVyYWxJbmZvO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoXG5cdFx0XHRgRmFpbGVkIHRvIGZldGNoIHJlbGV2YW50IGluZm9ybWF0aW9uIGZvciBUViBTSE9XOiAke2Vycm9yLm1lc3NhZ2V9YFxuXHRcdCk7XG5cdH1cbn1cblxuLypcblJldHVybnMgYW4gYXJyYXkgb2YgcmVjb21tZW5kZWQgdHYgc2hvd3Mgd2l0aCB0aGVpciBuYW1lLCBpZCwgcG9zdGVyX3BhdGggYW5kXG5iYWNrZHJvcF9wYXRoIHJlY29yZGVkLiBcbklmIG5vIG1vdmllcyBhcmUgcmVjb21tZW5kZWQsIHJldHVybiBudWxsO1xuKi9cbi8qKlxuICogUmV0dXJucywgYXQgbW9zdCA1LCByZWNvbW1lbmRhdGlvbiBiYXNlZCBvbiB0aGUgc3BlY2lmaWVkIFRWIFNIT1cuIFRoZVxuICogbW9zdCByZWxldmFudCBpbmZvcm1hdGlvbiBmb3IgZWFjaCByZWNjbyBpcyByZXR1cm5lZCBhcyBhbiBvYmplY3QuXG4gKiBAcGFyYW0ge051bWJlcn0gdHZfaWQgSWRlbnRpZmllcyB0aGUgc3BlY2lmaWVkIFRWIHNob3cgYnkgYW4gSW50ZWdlclxuICogQHJldHVybnMge09iamVjdH0gXHQgTWF4IDUgcmVjb21tZW5kYXRpb25zIHdpdGggaXRzIHJlbGV2YW50IGluZm9ybWF0aW9uXG4gKiBcdFx0XHRcdFx0XHQgYXMgYW4gb2JqZWN0LlxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaFR2UmVjY29zKHR2X2lkKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3R2LyR7dHZfaWR9L3JlY29tbWVuZGF0aW9ucz9hcGlfa2V5PSR7QVBJX0tFWX0mbGFuZ3VhZ2U9ZW4tVVMmcGFnZT0xYCxcblx0XHRcdHsgbW9kZTogXCJjb3JzXCIgfVxuXHRcdCk7XG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKFwiRmFpbGVkIHRvIGZldGNoIFRWIHJlY29tbWVuZGF0aW9ucyBmcm9tIEFQSS5cIik7XG5cdFx0fVxuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRjb25zdCByZWNUdnMgPSBkYXRhLnJlc3VsdHM/LnNsaWNlKDAsIDUpLnJlZHVjZSgoYWNjLCB0dikgPT4ge1xuXHRcdFx0YWNjW3R2Lm9yaWdpbmFsX25hbWVdID0ge1xuXHRcdFx0XHR0TmFtZTogdHYub3JpZ2luYWxfbmFtZSxcblx0XHRcdFx0aWQ6IHR2LmlkLFxuXHRcdFx0XHRmaXJzdF9haXJfZGF0ZTogdHYuZmlyc3RfYWlyX2RhdGUsXG5cdFx0XHRcdHBvc3Rlcl9wYXRoOiB0di5wb3N0ZXJfcGF0aCxcblx0XHRcdFx0YmFja2Ryb3BfcGF0aDogdHYuYmFja2Ryb3BfcGF0aCxcblx0XHRcdFx0dm90ZV9hdmVyYWdlOiB0di52b3RlX2F2ZXJhZ2UsXG5cdFx0XHRcdHZvdGVfY291bnQ6IHR2LnZvdGVfY291bnQsXG5cdFx0XHR9O1xuXHRcdFx0cmV0dXJuIGFjYztcblx0XHR9LCB7fSk7XG5cblx0XHRyZXR1cm4gcmVjVHZzIHx8IHt9O1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBUViByZWNvbW1lbmRhdGlvbnM6ICR7ZXJyb3IubWVzc2FnZX1gKTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgcmVsZXZhbnQgVFYgcHJvdmlkZXJzIGJhc2VkIG9uIHRoZSBzZWxlY3RlZCBUViBzaG93LlxuICogQHBhcmFtIHtOdW1iZXJ9IHR2X2lkIElkZW50aWZpZXMgdGhlIHNwZWNpZmllZCBUViBzaG93IGJ5IGFuIEludGVnZXJcbiAqIEByZXR1cm5zIHtPYmplY3R9XHQgVFYgcHJvdmlkZXJzIGZvciBzdHJlYW1pbmcsIHB1cmNoYXNlIGFuZC9vciByZW50XG4gKiBcdFx0XHRcdFx0XHQgZm9yIHRoZSBzcGVjaWZpZWQgVFYgc2hvdy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hUdlByb3ZpZGVycyh0dl9pZCkge1xuXHRjb25zdCBwcm92aWRlcnNCeUNvdW50cnkgPSB7fTtcblx0dHJ5IHtcblx0XHRjb25zdCByZXNwb25zZSA9IGF3YWl0IGZldGNoKFxuXHRcdFx0YGh0dHBzOi8vYXBpLnRoZW1vdmllZGIub3JnLzMvdHYvJHt0dl9pZH0vd2F0Y2gvcHJvdmlkZXJzP2FwaV9rZXk9JHtBUElfS0VZfWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXG5cdFx0aWYgKCFyZXNwb25zZS5vaykge1xuXHRcdFx0dGhyb3cgbmV3IEVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggVFYgc2hvdyBwcm92aWRlcnMgZnJvbSBBUEkuYCk7XG5cdFx0fVxuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRmb3IgKGNvbnN0IGNvdW50cnlDb2RlIGluIGRhdGEucmVzdWx0cykge1xuXHRcdFx0Y29uc3QgY291bnRyeSA9IGdldENvdW50cnlOYW1lKGNvdW50cnlDb2RlKTtcblx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XSA9IHtcblx0XHRcdFx0c3RyZWFtOiBbXSxcblx0XHRcdFx0cmVudDogW10sXG5cdFx0XHRcdGJ1eTogW10sXG5cdFx0XHRcdGNvdW50cnlDb2RlOiBjb3VudHJ5Q29kZSxcblx0XHRcdH07XG5cblx0XHRcdC8qXG5cdFx0XHRTb3J0cyBwcm92aWRlcnMgYmFzZWQgb24gY291bnRyeSBhbmQgc2VydmljZXMgdGhleSBwcm92aWRlLlxuXG5cdFx0XHRUYWtlcyBpbiB0eXBlIG9mIHNlcnZpY2VzIGFzIHBhcmFtID0+IFtcImZsYXRyYXRlIChzdHJlYW1pbmcpXCIsIFxuXHRcdFx0XCJyZW50XCIsIFwiYnV5XCJdIGFuZCBhbiBhcnJheSB0byBhcHBlbmQgaXQgdG8uXG5cdFx0XHQqL1xuXHRcdFx0Y29uc3Qgc29ydFByb3ZpZGVycyA9IChzZXJ2aWNlcywgY29sbGVjdGlvbikgPT4ge1xuXHRcdFx0XHRpZiAoc2VydmljZXMpIHtcblx0XHRcdFx0XHRzZXJ2aWNlcy5mb3JFYWNoKChzZXJ2aWNlKSA9PiB7XG5cdFx0XHRcdFx0XHRjb25zdCBwcm92aWRlckluZm8gPSB7XG5cdFx0XHRcdFx0XHRcdHByb3ZpZGVyX25hbWU6IHNlcnZpY2UucHJvdmlkZXJfbmFtZSxcblx0XHRcdFx0XHRcdFx0cHJvdmlkZXJfbG9nb19wYXRoOiBzZXJ2aWNlLmxvZ29fcGF0aCxcblx0XHRcdFx0XHRcdH07XG5cdFx0XHRcdFx0XHRjb2xsZWN0aW9uLnB1c2gocHJvdmlkZXJJbmZvKTtcblx0XHRcdFx0XHR9KTtcblx0XHRcdFx0fVxuXHRcdFx0fTtcblxuXHRcdFx0Ly8gQWRkIHN0cmVhbWluZyBzZXJ2aWNlcyBmb3Igc3BlY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0uZmxhdHJhdGUsXG5cdFx0XHRcdHByb3ZpZGVyc0J5Q291bnRyeVtjb3VudHJ5XS5zdHJlYW1cblx0XHRcdCk7XG5cblx0XHRcdC8vIEFkZCByZW50aW5nIHNlcnZpY2VzIGZvciBzcGVpY2lmaWVkIG1vdmllIGluIGVhY2ggY291bnRyeS5cblx0XHRcdHNvcnRQcm92aWRlcnMoXG5cdFx0XHRcdGRhdGEucmVzdWx0c1tjb3VudHJ5Q29kZV0ucmVudCxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLnJlbnRcblx0XHRcdCk7XG5cblx0XHRcdC8vIEFkZCBidXlpbmcgc2VydmljZXMgZm9yIHNwZWNpZmllZCBtb3ZpZSBpbiBlYWNoIGNvdW50cnkuXG5cdFx0XHRzb3J0UHJvdmlkZXJzKFxuXHRcdFx0XHRkYXRhLnJlc3VsdHNbY291bnRyeUNvZGVdLmJ1eSxcblx0XHRcdFx0cHJvdmlkZXJzQnlDb3VudHJ5W2NvdW50cnldLmJ1eVxuXHRcdFx0KTtcblx0XHR9XG5cdFx0cmV0dXJuIHByb3ZpZGVyc0J5Q291bnRyeTtcblx0fSBjYXRjaCAoZXJyb3IpIHtcblx0XHRjb25zb2xlLmVycm9yKGBGYWlsZWQgdG8gZmV0Y2ggVFYgcHJvdmlkZXJzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdH1cbn1cblxuLyoqXG4gKiBSZXR1cm5zIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiBvZiB0aGUgdHYgdHJhaWxlci4gVGhlIGlkIHNob3VsZCBhbHNvXG4gKiBiZSByZXRyaWV2ZWQgc28gdGhhdCB0aGUgdXNlciBjYW4gc2VhcmNoIGZvciB0aGUgdHYgcmVzcGVjdGl2ZWx5LlxuICogQHBhcmFtIHtOdW1iZXJ9IHR2X2lkIElkZW50aWZpZXMgdGhlIHR2IHNob3cgYXMgYW4gSW50ZWdlci5cbiAqIEByZXR1cm5zIHtPYmplY3R9XHQgUmVsZXZhbnQgaW5mbyBvZiB0cmFpbGVyIGluY2x1ZGluZyB2aWRlbyBuYW1lLCBzaXRlXG4gKiBcdFx0XHRcdFx0XHQgbGFuZ3VhZ2UgYW5kIHR5cGUuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGZldGNoVHZUcmFpbGVyKHR2X2lkKSB7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3R2LyR7dHZfaWR9L3ZpZGVvcz9hcGlfa2V5PSR7QVBJX0tFWX1gLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRpZiAoIXJlc3BvbnNlLm9rKSB7XG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoXCJGYWlsZWQgdG8gZmV0Y2ggVFYgdHJhaWxlciBmcm9tIEFQSS5cIik7XG5cdFx0fVxuXHRcdGNvbnN0IGRhdGEgPSBhd2FpdCByZXNwb25zZS5qc29uKCk7XG5cblx0XHRjb25zdCB0cmFpbGVycyA9IGRhdGEucmVzdWx0cy5maWx0ZXIoXG5cdFx0XHQodmlkZW8pID0+IHZpZGVvLnR5cGUgPT09IFwiVHJhaWxlclwiXG5cdFx0KTtcblxuXHRcdGlmICh0cmFpbGVycy5sZW5ndGggPT09IDApIHJldHVybjtcblxuXHRcdC8vIEZpbmQgb2ZmaWNpYWwgdHJhaWxlciBvciB1c2UgdGhlIGZpcnN0IHRyYWlsZXIuXG5cdFx0Y29uc3QgdHZUcmFpbGVyID1cblx0XHRcdHRyYWlsZXJzLmZpbmQoKHZpZGVvKSA9PiB2aWRlby5vZmZpY2lhbCA9PT0gdHJ1ZSkgfHwgdHJhaWxlcnNbMF07XG5cblx0XHRyZXR1cm4ge1xuXHRcdFx0dE5hbWU6IHR2VHJhaWxlci5uYW1lLFxuXHRcdFx0a2V5OiB0dlRyYWlsZXIua2V5LFxuXHRcdFx0c2l0ZTogdHZUcmFpbGVyLnNpdGUsXG5cdFx0XHR0eXBlOiB0dlRyYWlsZXIudHlwZSxcblx0XHRcdGxhbmc6IGdldExhbmd1YWdlKHR2VHJhaWxlci5pc29fNjM5XzEpLFxuXHRcdH07XG5cdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIGZldGNoIFRWIHRyYWlsZXI6ICR7ZXJyb3IubWVzc2FnZX1gKTtcblx0fVxufVxuXG4vKipcbiAqIFJldHVybnMgdGhlIGZpcnN0IDUgcmV2aWV3cyB3aXRoIHRoZWlyIHJhdGluZ3MsIGF1dGhvciBpbmZvcm1hdGlvbiBhbmQgbGlua3MuXG4gKiBAcGFyYW0ge051bWJlcn0gbW92aWVfaWQgSWRlbnRpZmllcyB0aGUgVFYgc2hvdyBhcyBhbiBJbnRlZ2VyXG4gKiBAcmV0dXJucyB7T2JqZWN0fVx0XHRSZXZpZXcgaW5mb3JtYXRpb24gaW5jbHVkaW5nIHRoZSBjb250ZW50LCBhdXRob3IsXG4gKiBcdFx0XHRcdFx0XHRcdGxpbmtzIGFuZCByYXRpbmdzLlxuICovXG5hc3luYyBmdW5jdGlvbiBmZXRjaFR2UmV2aWV3cyh0dl9pZCkge1xuXHR0cnkge1xuXHRcdGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goXG5cdFx0XHRgaHR0cHM6Ly9hcGkudGhlbW92aWVkYi5vcmcvMy90di8ke3R2X2lkfS9yZXZpZXdzP2FwaV9rZXk9XG5cdFx0XHQke0FQSV9LRVl9Jmxhbmd1YWdlPWVuLVVTJnBhZ2U9MWAsXG5cdFx0XHR7IG1vZGU6IFwiY29yc1wiIH1cblx0XHQpO1xuXHRcdGlmICghcmVzcG9uc2Uub2spIHtcblx0XHRcdHRocm93IG5ldyBFcnJvcihcIkZhaWxlZCB0byBmZXRjaCBUViByZXZpZXdzIGZyb20gQVBJLlwiKTtcblx0XHR9XG5cdFx0Y29uc3QgZGF0YSA9IGF3YWl0IHJlc3BvbnNlLmpzb24oKTtcblx0XHRpZiAoZGF0YS5yZXN1bHRzLmxlbmd0aCA9PT0gMCkgcmV0dXJuIGZhbHNlO1xuXG5cdFx0Y29uc3QgcmV2aWV3cyA9IGRhdGEucmVzdWx0c1xuXHRcdFx0Lm1hcCgocmV2aWV3KSA9PiAoe1xuXHRcdFx0XHRhdXRob3I6IHJldmlldy5hdXRob3IsXG5cdFx0XHRcdHJhdGluZzogcmV2aWV3LmF1dGhvcl9kZXRhaWxzPy5yYXRpbmcsXG5cdFx0XHRcdHBpY19wYXRoOiByZXZpZXcuYXV0aG9yX2RldGFpbHM/LmF2YXRhcl9wYXRoLFxuXHRcdFx0XHRjb250ZW50OiByZXZpZXcuY29udGVudCxcblx0XHRcdFx0dXJsOiByZXZpZXcudXJsLFxuXHRcdFx0XHRsYXN0X3VwZGF0ZWQ6IHJldmlldy51cGRhdGVkX2F0LFxuXHRcdFx0fSkpXG5cdFx0XHQuc2xpY2UoMCwgNSk7IC8vIE9ubHkgcmV0dXJuIHRoZSBmaXJzdCA1IHJldmlld3MgbWF4aW11bS5cblxuXHRcdHJldHVybiByZXZpZXdzO1xuXHR9IGNhdGNoIChlcnJvcikge1xuXHRcdGNvbnNvbGUuZXJyb3IoYEZhaWxlZCB0byBmZXRjaCBUViByZXZpZXdzOiAke2Vycm9yLm1lc3NhZ2V9YCk7XG5cdH1cbn1cblxuLy8gSGVscGVyIGZuY3NcbmZ1bmN0aW9uIGdldENvdW50cnlOYW1lKGNvZGUpIHtcblx0bGV0IHJlZ2lvbk5hbWVzID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwicmVnaW9uXCIgfSk7XG5cdHJldHVybiByZWdpb25OYW1lcy5vZihjb2RlKTtcbn1cblxuZnVuY3Rpb24gZ2V0TGFuZ3VhZ2UoY29kZSkge1xuXHRjb25zdCBsYW5nID0gbmV3IEludGwuRGlzcGxheU5hbWVzKFtcImVuXCJdLCB7IHR5cGU6IFwibGFuZ3VhZ2VcIiB9KTtcblx0cmV0dXJuIGxhbmcub2YoY29kZSk7XG59XG5leHBvcnQge1xuXHRmZXRjaFR2RGV0YWlscyxcblx0ZmV0Y2hUdlJlY2Nvcyxcblx0ZmV0Y2hUdlByb3ZpZGVycyxcblx0ZmV0Y2hUdlRyYWlsZXIsXG5cdGZldGNoVHZSZXZpZXdzLFxufTtcbiIsImltcG9ydCAqIGFzIG1vdmllIGZyb20gXCIuLi9hcGlGdW5jdGlvbnMvZmV0Y2hNb3ZpZUluZm9cIjtcbmltcG9ydCAqIGFzIHR2IGZyb20gXCIuLi9hcGlGdW5jdGlvbnMvZmV0Y2hUdkluZm9cIjtcbmltcG9ydCAqIGFzIHBhZ2UgZnJvbSBcIi4vZHJhd1NlY3Rpb25zXCI7XG5cbi8qKlxuICogRHJhdyBhbiBpbmRpdmlkdWFsIHNlY3Rpb24gYmFzZWQgb24gdXNlciBpbnB1dCBxdWVyeS5cbiAqIFRoaXMgc2VjdGlvbiB3aWxsIGNvbnN0cyBvZiB0aGUgb3ZlcmFsbCBtb3ZpZS90didzXG4gKiBcdC0gRGV0YWlscyxcbiAqIFx0LSBUaGUgd2F0Y2ggcHJvdmlkZXJzIGJhc2VkIG9uIHNwZWNpZmljIGNvdW50cmllc1xuICogXHQtIEF2YWlsYWJsZSB0cmFpbGVycyxcbiAqIFx0LSBPdGhlciByZWNvbW1lbmRhdGlvbnMuXG4gKiBcdC0gUmV2aWV3cyBieSBlc3RhYmxpc2hlZCBhdXRob3JzIGJhc2VkIGZyb20gcmFuZG9tIHNvdXJjZXMuXG4gKiBAcGFyYW0ge051bWJlcn0gaWQgQW4gaW50ZWdlciByZXByZXNlbnRpbmcgdGhlIHNlbGVjdGVkIG1vdmllIG9yIFRWIHNob3dcbiAqIEBwYXJhbSB7U3RyaW5nfSBtZWRpYSBUaGUgc3BlY2lmaWVkIG1lZGlhIHR5cGUgb2YgdGhlIG1vdmllIC8gVFYgc2hvd1xuICogQHJldHVybnMge09iamVjdH1cdCBGdW5jdGlvbnMgdGhhdCBkcmF3cyBhbGwgcmVsZXZhbnQgaW5mb3JtYXRpb24gaW4gYVxuICogXHRcdFx0XHRcdFx0IGFzIGEgc2VjdGlvbi5cbiAqL1xuY29uc3QgZHJhd1NlY3Rpb24gPSBhc3luYyAoaWQsIG1lZGlhKSA9PiB7XG5cdGNvbnN0IHNlY3Rpb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VjdGlvblwiKTtcblx0Y29uc3QgZGV0YWlscyA9IGF3YWl0IGdldEluZm8oXG5cdFx0aWQsXG5cdFx0bW92aWUuZmV0Y2hNb3ZpZURldGFpbHMsXG5cdFx0dHYuZmV0Y2hUdkRldGFpbHNcblx0KTtcblx0Y29uc3QgcmVjcyA9IGF3YWl0IGdldEluZm8oaWQsIG1vdmllLmZldGNoTW92aWVSZWNjb3MsIHR2LmZldGNoVHZSZWNjb3MpO1xuXHRjb25zdCBwcm92aWRlcnMgPSBhd2FpdCBnZXRJbmZvKFxuXHRcdGlkLFxuXHRcdG1vdmllLmZldGNoTW92aWVQcm92aWRlcnMsXG5cdFx0dHYuZmV0Y2hUdlByb3ZpZGVyc1xuXHQpO1xuXHRjb25zdCB0cmFpbGVyID0gYXdhaXQgZ2V0SW5mbyhcblx0XHRpZCxcblx0XHRtb3ZpZS5mZXRjaE1vdmllVHJhaWxlcixcblx0XHR0di5mZXRjaFR2VHJhaWxlclxuXHQpO1xuXHRjb25zdCByZXZpZXdzID0gYXdhaXQgZ2V0SW5mbyhcblx0XHRpZCxcblx0XHRtb3ZpZS5mZXRjaE1vdmllUmV2aWV3cyxcblx0XHR0di5mZXRjaFR2UmV2aWV3c1xuXHQpO1xuXG5cdHNlY3Rpb24uY2xhc3NMaXN0LmFkZChcInNlY3Rpb24tY29udGFpbmVyXCIpO1xuXHRmdW5jdGlvbiBkcmF3QWxsKCkge1xuXHRcdGFkZFRvU2VjdGlvbihkcmF3SW50cm8oKSk7XG5cdH1cblxuXHQvLyBJZiBjZXJ0YWluIGluZm8gZXhpc3RzLCBpLmUuIHJldmlld3MsIGFwcGVuZCwgZHJhdyB0aGUgcmVsZXZhbnRcblx0Ly8gaW5mb3JtYXRpb24gYW5kIGFkZCBpdCB0byB0aGUgc2VjdGlvbi5cblx0ZnVuY3Rpb24gYWRkVG9TZWN0aW9uKGluZm8pIHtcblx0XHRpbmZvICYmIHNlY3Rpb24uYXBwZW5kQ2hpbGQoaW5mbyk7XG5cdH1cblxuXHQvLyBIZWxwZXIgZnVuY3Rpb24gdG8gcmVuZGVyIGFuIGVsZW1lbnQgYW5kIGFkZCBhIGNvcnJlc3BvbmRpbmcgY2xhc3MgbmFtZS5cblx0ZnVuY3Rpb24gcmVuZGVyRWxlbWVudCh0YWcsIGNsYXNzTmFtZSkge1xuXHRcdGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQodGFnKTtcblx0XHRjb250YWluZXIuY2xhc3NMaXN0LmFkZChjbGFzc05hbWUpO1xuXHRcdHJldHVybiBjb250YWluZXI7XG5cdH1cblxuXHQvKipcblx0ICogRmV0Y2ggaW5mb3JtYXRpb24gdXNpbmcgbW92aWUgb3IgVFYgc2hvdyBmdW5jdGlvbiBiYXNlZCBvbiBtZWRpYSB0eXBlLlxuXHQgKiBAcGFyYW0ge051bWJlcn0gaWQgTW92aWUvVFYgc2hvdyBpZFxuXHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBtb3ZpZUZuYyBGZXRjaCBtb3ZpZSBmdW5jdGlvbiBpZiBhcHBsaWNhYmxlXG5cdCAqIEBwYXJhbSB7RnVuY3Rpb259IHR2Rm5jIEZldGNoIFRWIGZ1bmN0aW9uIGlmIGFwcGxpY2FibGUuXG5cdCAqIEByZXR1cm5zIHt2b2lkfVxuXHQgKi9cblx0YXN5bmMgZnVuY3Rpb24gZ2V0SW5mbyhpZCwgbW92aWVGbmMsIHR2Rm5jKSB7XG5cdFx0cmV0dXJuIG1lZGlhID09PSBcIm1vdmllXCIgPyBhd2FpdCBtb3ZpZUZuYyhpZCkgOiBhd2FpdCB0dkZuYyhpZCk7XG5cdH1cblxuXHQvKipcblx0ICogRHJhdyAoaWYgYW55KSB0aXRsZSwgcGhvdG8sIHRhZ2xpbmUgYW5kIHN1bW1hcnkuXG5cdCAqIEBwYXJhbSB7TnVtYmVyfSBpbWdTaXplICBBbiBpbnRlZ2VyIGRpc3BsYXlpbmcgdGhlIGRlc2lyZWQgcG9zdGVyIHNpemVcblx0ICogXHRcdFx0XHRcdFx0XHR3aWR0aC5cblx0ICogQHJldHVybnMge05vZGV9XHRcdFx0Tm9kZSBjb250YWluZXIgY29uc2lzdGluZyBvZiBlbGVtZW50cyB3aXRoIG1vc3Rcblx0ICogXHRcdFx0XHRcdFx0XHRyZWxldmFudCBpbmZvcm1hdGlvbiBvZiBzcGVjaWZpZWQgbW92aWUvVFYgc2hvdy5cblx0ICovXG5cdGNvbnN0IGRyYXdJbnRybyA9IChpbWdTaXplKSA9PiB7XG5cdFx0Y29uc3QgaW50cm9Db250YWluZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdGludHJvQ29udGFpbmVyLmNsYXNzTGlzdC5hZGQoXCJpbnRyb1wiKTtcblxuXHRcdGludHJvQ29udGFpbmVyLmFwcGVuZENoaWxkKGNyZWF0ZVRpdGxlKCkpO1xuXHRcdGludHJvQ29udGFpbmVyLmFwcGVuZENoaWxkKHdyaXRlVGFnbGluZSgpKTtcblxuXHRcdGNvbnN0IGltZyA9IHJlbmRlckltZyhpbWdTaXplKTtcblx0XHRpbWcgJiYgaW50cm9Db250YWluZXIuYXBwZW5kQ2hpbGQoaW1nKTtcblxuXHRcdC8qKlxuXHRcdCAqIERpc3BsYXlzIHRoZSB0aXRsZSBvZiB0aGUgbW92aWUvVFYgc2hvdy5cblx0XHQgKiBAcmV0dXJucyB7Tm9kZX1cdFRpdGxlIG9mIHRoZSBtb3ZpZS9UViBzaG93XG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gY3JlYXRlVGl0bGUoKSB7XG5cdFx0XHRjb25zdCB0aXRsZSA9IHJlbmRlckVsZW1lbnQoXCJoMVwiLCBcInRpdGxlXCIpO1xuXHRcdFx0dGl0bGUudGV4dENvbnRlbnQgPSBkZXRhaWxzLm1OYW1lID8gZGV0YWlscy5tTmFtZSA6IGRldGFpbHMudE5hbWU7XG5cdFx0XHRyZXR1cm4gdGl0bGU7XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmVuZGVycyBwb3N0ZXIgaW1hZ2UgYmFzZWQgb24gaW1nIHNpemUuXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IGltZ1NpemUgRGVzaXJlZCB3aWR0aCBvZiB0aGUgcG9zdGVyIGltYWdlLlxuXHRcdCAqIEByZXR1cm5zIHtOb2RlfSAgICAgICAgIEVsZW1lbnQgY29uc2lzdGluZyB0aGUgaW1hZ2UgcG9zdGVyLlxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHJlbmRlckltZyhpbWdTaXplID0gXCJcIikge1xuXHRcdFx0Y29uc3QgcG9zdGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcblx0XHRcdGNvbnN0IGJhc2VJbWdVcmwgPSBcImh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wXCI7XG5cblx0XHRcdC8vIERyYXcgcG9zdGVyIGJ5IGRlZmF1bHQuIElmIG5vbmUgZXhpc3RzLCB1c2UgYmFja2Ryb3AgcGhvdG8uXG5cdFx0XHRjb25zdCBpbWdQYXRoID0gZGV0YWlscy5wb3N0ZXJfcGF0aCB8fCBkZXRhaWxzLmJhY2tkcm9wX3BhdGg7XG5cblx0XHRcdGlmICghaW1nUGF0aCkge1xuXHRcdFx0XHRyZXR1cm4gbnVsbDtcblx0XHRcdH1cblxuXHRcdFx0cG9zdGVyLmNsYXNzTGlzdC5hZGQoXCJwb3N0ZXJcIik7XG5cblx0XHRcdC8vIElmIGltZyBzaXplIGlzIHNwZWNpZmllZCwgYWx0ZXIgaW1hZ2UgdG8gdGhlIHJlc3BlY3RpdmUgc2l6ZS5cblx0XHRcdC8vIE90aGVyd2lzZSwgdXNlIG9yaWdpbmFsIHNpemUuXG5cdFx0XHRwb3N0ZXIuc3JjID0gaW1nU2l6ZVxuXHRcdFx0XHQ/IGAke2Jhc2VJbWdVcmx9L3cke2ltZ1NpemV9LyR7aW1nUGF0aH1gXG5cdFx0XHRcdDogYCR7YmFzZUltZ1VybH0vb3JpZ2luYWwvJHtpbWdQYXRofWA7XG5cdFx0XHRwb3N0ZXIuYWx0ID0gXCJNb3ZpZSBwaWN0dXJlIHBvc3RlclwiO1xuXHRcdFx0cG9zdGVyLnNldEF0dHJpYnV0ZShcImxvYWRpbmdcIiwgXCJsYXp5XCIpO1xuXG5cdFx0XHRyZXR1cm4gcG9zdGVyO1xuXHRcdH1cblxuXHRcdGZ1bmN0aW9uIHdyaXRlVGFnbGluZSgpIHtcblx0XHRcdGNvbnN0IHRhZ1BhcmEgPSByZW5kZXJFbGVtZW50KFwiZW1cIiwgXCJ0YWdsaW5lXCIpO1xuXHRcdFx0dGFnUGFyYS50ZXh0Q29udGVudCA9IGBcIiR7ZGV0YWlscy50YWdsaW5lfVwiYDtcblx0XHRcdHJldHVybiB0YWdQYXJhO1xuXHRcdH1cblx0XHRyZXR1cm4gaW50cm9Db250YWluZXI7XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXdzIGFsbCByZWxldmFudCBzdWJpbmZvICh3aGVuIGF2YWlsYWJsZSk6XG5cdCAqIFx0LSBSZWxlYXNlIGRhdGVcblx0ICogXHQtIEZpcnN0IGFpcmVkXG5cdCAqIFx0LSBMYXN0IGFpcmVkXG5cdCAqIFx0LSBTaG93IHN0YXR1c1xuXHQgKiBcdC0gUnVudGltZVxuXHQgKiBcdC0gR2VucmVzXG5cdCAqIFx0LSBOdW1iZXIgb2Ygc2Vhc29uc1xuXHQgKiBcdC0gRXN0IEF2ZyBFcGlzb2RlIHJ1bnRpbWVcblx0ICogXHQtIENvdW50cnkgb2Ygb3JpZ2luXG5cdCAqIFx0LSBWb3RlIGF2ZXJhZ2Vcblx0ICogXHQtIFZvdGUgY291bnRcblx0ICogXHQtIFBvcHVsYXJpdHlcblx0ICogQHJldHVybnMge05vZGV9XG5cdCAqL1xuXHRjb25zdCBkcmF3U3ViSW5mb3MgPSAoKSA9PiB7XG5cdFx0Y29uc3QgY29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInN1YmluZm8tY29udGFpbmVyXCIpO1xuXG5cdFx0Ly8gUmVsZWFzZSBkYXRlIGZvciBtb3ZpZXMgYW5kIGZpcnN0IGFpcmVkIGZvciB0diBzaG93LlxuXHRcdGxldCBkYXRlLCBsYXN0QWlyZWQ7XG5cdFx0aWYgKGRldGFpbHMucmVsZWFzZV9kYXRlKSB7XG5cdFx0XHRkYXRlID0gY3JlYXRlU3ViSW5mbyhcblx0XHRcdFx0XCJSZWxlYXNlIERhdGU6XCIsXG5cdFx0XHRcdGRldGFpbHMucmVsZWFzZV9kYXRlLnNwbGl0KFwiLVwiKS5yZXZlcnNlKCkuam9pbihcIi9cIilcblx0XHRcdCk7XG5cdFx0XHRsYXN0QWlyZWQgPSBcIlwiO1xuXHRcdH0gZWxzZSBpZiAoZGV0YWlscy5maXJzdF9haXJfZGF0ZSkge1xuXHRcdFx0ZGF0ZSA9IGNyZWF0ZVN1YkluZm8oXG5cdFx0XHRcdFwiRmlyc3QgQWlyZWQ6IFwiLFxuXHRcdFx0XHRkZXRhaWxzLmZpcnN0X2Fpcl9kYXRlLnNwbGl0KFwiLVwiKS5yZXZlcnNlKCkuam9pbihcIi9cIilcblx0XHRcdCk7XG5cdFx0XHRsYXN0QWlyZWQgPSBjcmVhdGVTdWJJbmZvKFxuXHRcdFx0XHRcIkxhc3QgQWlyZWQ6IFwiLFxuXHRcdFx0XHRkZXRhaWxzLmxhc3RfYWlyX2RhdGUuc3BsaXQoXCItXCIpLnJldmVyc2UoKS5qb2luKFwiL1wiKVxuXHRcdFx0KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZGF0ZSA9IFwiXCI7XG5cdFx0fVxuXHRcdGxldCBydW50aW1lID0gZGV0YWlscy5ydW50aW1lID8gY29udmVydE1pblRvSHIoZGV0YWlscy5ydW50aW1lKSA6IFwiXCI7XG5cblx0XHRjb25zdCBpbmZvcm1hdGlvbiA9IFtcblx0XHRcdGRhdGUsXG5cdFx0XHRsYXN0QWlyZWQsXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiU2hvdyBzdGF0dXM6XCIsIGRldGFpbHMuc3RhdHVzKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJSdW50aW1lOiBcIiwgcnVudGltZSksXG5cdFx0XHRjcmVhdGVTdWJJbmZvKFwiR2VucmVzOiBcIiwgZGV0YWlscy5nZW5yZXMuam9pbihcIiwgXCIpKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJOdW1iZXIgb2Ygc2Vhc29uczogXCIsIGRldGFpbHMubnVtYmVyX29mX3NlYXNvbnMpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcblx0XHRcdFx0XCJFc3QgQXZnIEVwaXNvZGUgUnVudGltZTogXCIsXG5cdFx0XHRcdGRldGFpbHMuZXBpc29kZV9ydW5fdGltZVxuXHRcdFx0KSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJDb3VudHJ5IG9mIE9yaWdpbjogXCIsIGRldGFpbHMub3JpZ2luX2NvdW50cnkpLFxuXHRcdFx0Y3JlYXRlU3ViSW5mbyhcIlZvdGUgQXZlcmFnZTogXCIsIGRldGFpbHMudm90ZV9hdmVyYWdlKSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJWb3RlIENvdW50OiBcIiwgZGV0YWlscy52b3RlX2NvdW50KSxcblx0XHRcdGNyZWF0ZVN1YkluZm8oXCJQb3B1bGFyaXR5OiBcIiwgZGV0YWlscy5wb3B1bGFyaXR5KSxcblx0XHRdO1xuXG5cdFx0aW5mb3JtYXRpb24uZm9yRWFjaCgoaW5mbykgPT5cblx0XHRcdGluZm8gPyBjb250YWluZXIuYXBwZW5kQ2hpbGQoaW5mbykgOiBcIlwiXG5cdFx0KTtcblxuXHRcdC8qKlxuXHRcdCAqIENyZWF0ZSBhIHN1YmluZm8gY29udGFpbmVyIGJhc2VkIG9uIHRoZSBjYXRlZ29yeSBhbmQgZmV0Y2hlZCBkYXRhLlxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBjYXRlZ29yeSBTdHJpbmcgcmVwcmVzZW50YXRpb24gb2YgaW5mbyBjYXRlZ29yeVxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBpbmZvIFx0RmV0Y2hlZCBpbmZvIGJhc2VkIG9uIGNhdGVnb3J5XG5cdFx0ICogQHJldHVybnMge05vZGV9XG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gY3JlYXRlU3ViSW5mbyhjYXRlZ29yeSwgaW5mbykge1xuXHRcdFx0Ly8gSWdub3JlcyB0diBzdWJpbmZvIHRvIGJlIGRpc3BsYXllZCBpZiBpdCdzIGEgbW92aWUgYW5kXG5cdFx0XHQvLyB2aWNldmVyc2Fcblx0XHRcdGlmICghaW5mbykgcmV0dXJuIG51bGw7XG5cblx0XHRcdGNvbnN0IHN1YkluZm8gPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwic3ViLWluZm9cIik7XG5cdFx0XHRjb25zdCBjYXRlZ29yeU5hbWUgPSByZW5kZXJFbGVtZW50KFwic3BhblwiLCBcImNhdGVnb3J5LW5hbWVcIik7XG5cdFx0XHRjb25zdCBjYXRlZ29yeUluZm8gPSByZW5kZXJFbGVtZW50KFwic3BhblwiLCBcImNhdGVnb3J5LWluZm9cIik7XG5cblx0XHRcdGNhdGVnb3J5TmFtZS50ZXh0Q29udGVudCA9IGNhdGVnb3J5O1xuXHRcdFx0Y2F0ZWdvcnlJbmZvLnRleHRDb250ZW50ID0gaW5mbztcblxuXHRcdFx0W2NhdGVnb3J5TmFtZSwgY2F0ZWdvcnlJbmZvXS5mb3JFYWNoKChpbmZvKSA9PlxuXHRcdFx0XHRzdWJJbmZvLmFwcGVuZENoaWxkKGluZm8pXG5cdFx0XHQpO1xuXHRcdFx0cmV0dXJuIHN1YkluZm87XG5cdFx0fVxuXG5cdFx0ZnVuY3Rpb24gY29udmVydE1pblRvSHIobWlucykge1xuXHRcdFx0Y29uc3QgaG91cnMgPSBtaW5zIC8gNjA7XG5cdFx0XHRjb25zdCBySG91cnMgPSBNYXRoLmZsb29yKGhvdXJzKTtcblx0XHRcdGNvbnN0IG1pbnV0ZXMgPSAoaG91cnMgLSBySG91cnMpICogNjA7XG5cdFx0XHRjb25zdCByTWludXRlcyA9IE1hdGgucm91bmQobWludXRlcyk7XG5cdFx0XHRyZXR1cm4gYCR7ckhvdXJzfWggJHtyTWludXRlc31taW5gO1xuXHRcdH1cblxuXHRcdHJldHVybiBjb250YWluZXI7XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXcgc3VtbWFyeSBoZWFkaW5nIChTeW5vcHNpcylcblx0ICogQHJldHVybnMge1ZvaWR9XG5cdCAqL1xuXHRjb25zdCBkcmF3U3VtbWFyeUhlYWRpbmcgPSAoKSA9PiB7XG5cdFx0Y29uc3QgaGVhZGluZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJoMlwiKTtcblx0XHRoZWFkaW5nLnRleHRDb250ZW50ID0gXCJTeW5vcHNpczogXCI7XG5cdFx0cmV0dXJuIGhlYWRpbmc7XG5cdH07XG5cdC8qKlxuXHQgKiBEcmF3IHN1bW1hcnkgb2Ygc3BlY2lmaWVkIG1vdmllIC8gVFYgc2hvdy5cblx0ICogQHJldHVybnMge1ZvaWR9XG5cdCAqL1xuXHRjb25zdCBkcmF3U3VtbWFyeSA9ICgpID0+IHtcblx0XHRjb25zdCBwYXJhID0gcmVuZGVyRWxlbWVudChcInBcIiwgXCJzdW1tYXJ5XCIpO1xuXHRcdHBhcmEudGV4dENvbnRlbnQgPSBkZXRhaWxzLnN1bW1hcnk7XG5cdFx0cmV0dXJuIHBhcmE7XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXcsIGlmIGFueSwgYXZhaWFibGUgcHJvdmlkZXJzIChzdHJlYW1pbmcsIHB1cmNoYXNlLCByZW50KS5cblx0ICogQHJldHVybnMge1ZvaWR9XG5cdCAqL1xuXHRjb25zdCBkcmF3UHJvdmlkZXJzID0gKCkgPT4ge1xuXHRcdC8vIEJvb2xlYW4gdGhhdCBpbmRpY2F0ZXMgaWYgdGhlcmUgYXJlIGFueSB3YXRjaCBwcm92aWRlcnMgZm9yXG5cdFx0Ly8gdGhpcyBzaG93LlxuXHRcdGxldCBhdmFpbFByb3ZpZGVycztcblxuXHRcdC8vIEhvdXNlcyB0aGUgYnRuIHRoYXQgb3BlbnMgdGhlIG1vZGFsIGFuZCBvdmVybGF5LCBhbmQgdGhlIGF2YWlsYWJsZVxuXHRcdC8vIHByb3ZpZGVycyBmb3IgJ3N0cmVhbWluZycsICdyZW50JyBhbmQgJ3B1cmNoYXNlJy5cblx0XHRjb25zdCBwcm92aWRlckNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJwcm92aWRlci1jb250YWluZXJcIik7XG5cdFx0Y29uc3QgY291bnRyeUJ0biA9IHJlbmRlckVsZW1lbnQoXCJidXR0b25cIiwgXCJjb3VudHJ5LWJ0blwiKTtcblx0XHRjb25zdCBob3VzZUNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJob3VzZS1wcm92aWRlci1jb250YWluZXJcIik7XG5cdFx0W2NvdW50cnlCdG4sIGhvdXNlQ29udGFpbmVyXS5mb3JFYWNoKChlbGVtKSA9PiB7XG5cdFx0XHRwcm92aWRlckNvbnRhaW5lci5hcHBlbmRDaGlsZChlbGVtKTtcblx0XHR9KTtcblxuXHRcdC8vIFNlYXJjaCBmb3IgZGVmYXVsdCBjb3VudHJ5IFwiQXVzdHJhbGlhXCIuIElmIG5vbmUgZm91bmQuIERyYXcgdGhlXG5cdFx0Ly8gZmlyc3QgY291bnRyeSdzIHByb3ZpZGVyLlxuXHRcdGlmIChPYmplY3Qua2V5cyhwcm92aWRlcnMpLmxlbmd0aCkge1xuXHRcdFx0YXZhaWxQcm92aWRlcnMgPSB0cnVlO1xuXHRcdFx0aWYgKE9iamVjdC5rZXlzKHByb3ZpZGVycykuaW5jbHVkZXMoXCJBdXN0cmFsaWFcIikpIHtcblx0XHRcdFx0Ly8gRHJhdyBBdXMgZmxhZyBpbiBidG4uXG5cdFx0XHRcdGNvbnN0IGZsYWcgPSByZW5kZXJFbGVtZW50KFwiaW1nXCIsIFwiY291bnRyeS1mbGFnXCIpO1xuXHRcdFx0XHQvLyBmbGFnLnNldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIsIFwiYW5vbnltb3VzXCIpO1xuXHRcdFx0XHRmbGFnLnNyYyA9IGBodHRwczovL2ZsYWdzYXBpLmNvbS9BVS9zaGlueS82NC5wbmdgO1xuXHRcdFx0XHRmbGFnLmFsdCA9IGBBdXN0cmFsaWEgZmxhZ2A7XG5cdFx0XHRcdGZsYWcuY2xhc3NMaXN0LmFkZChcImJ0bi1jb3VudHJ5LWZsYWdcIik7XG5cdFx0XHRcdGRyYXdQcm92aWRlcihcIkF1c3RyYWxpYVwiKTtcblx0XHRcdFx0Y291bnRyeUJ0bi50ZXh0Q29udGVudCA9IFwiQXVzdHJhbGlhXCI7XG5cdFx0XHRcdGNvdW50cnlCdG4uYXBwZW5kQ2hpbGQoZmxhZyk7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHQvLyBEcmF3IGZpcnN0IGNvdW50cnkncyBmbGFnIGluIGJ0bi5cblx0XHRcdFx0Y29uc3QgZmlyc3RQcm92aWRlciA9IE9iamVjdC5rZXlzKHByb3ZpZGVycylbMF07XG5cdFx0XHRcdGNvbnNvbGUubG9nKGZpcnN0UHJvdmlkZXIpO1xuXHRcdFx0XHRjb25zdCBmbGFnID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcImNvdW50cnktZmxhZ1wiKTtcblx0XHRcdFx0ZmxhZy5zcmMgPSBgaHR0cHM6Ly9mbGFnc2FwaS5jb20vJHtwcm92aWRlcnNbZmlyc3RQcm92aWRlcl0uY291bnRyeUNvZGV9L3NoaW55LzY0LnBuZ2A7XG5cdFx0XHRcdGZsYWcuYWx0ID0gYCR7Zmlyc3RQcm92aWRlcn0gZmxhZ2A7XG5cdFx0XHRcdGZsYWcuY2xhc3NMaXN0LmFkZChcImJ0bi1jb3VudHJ5LWZsYWdcIik7XG5cdFx0XHRcdGRyYXdQcm92aWRlcihmaXJzdFByb3ZpZGVyKTtcblx0XHRcdFx0Y291bnRyeUJ0bi50ZXh0Q29udGVudCA9IGAke2ZpcnN0UHJvdmlkZXJ9YDtcblx0XHRcdFx0Y291bnRyeUJ0bi5hcHBlbmRDaGlsZChmbGFnKTtcblx0XHRcdH1cblx0XHR9IGVsc2Uge1xuXHRcdFx0YXZhaWxQcm92aWRlcnMgPSBmYWxzZTtcblx0XHRcdGNvdW50cnlCdG4udGV4dENvbnRlbnQgPVxuXHRcdFx0XHRcIk5vIGNvdW50cmllcyBvZmZlciB0aGlzIHR2L21vdmllIGF0IHRoZSBtb21lbnQuXCI7XG5cdFx0XHRjb3VudHJ5QnRuLmNsYXNzTGlzdC5hZGQoXCJsb3N0LXByb3ZpZGVyc1wiKTtcblxuXHRcdFx0Ly8gSW5zZXJ0IGxvc3QgZ2lmIGFuZCBtZXNzYWdlIGlmIG5vIHByb3ZpZGVycyBhcmUgYXZhaWxhYmxlLlxuXHRcdFx0Y29uc3QgbG9zdEdpZiA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJsb3N0LWdpZlwiKTtcblx0XHRcdGxvc3RHaWYuc3JjID0gXCIuL2ltZy9sb3N0LWdpZi5naWZcIjtcblx0XHRcdGxvc3RHaWYuYWx0ID0gXCJQcm92ZXIgY2Fubm90IGJlIGZvdW5kIHBpY3R1cmUuXCI7XG5cdFx0XHRob3VzZUNvbnRhaW5lci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG5cdFx0XHRob3VzZUNvbnRhaW5lci5zdHlsZS5qdXN0aWZ5Q29udGVudCA9IFwiY2VudGVyXCI7XG5cdFx0XHRob3VzZUNvbnRhaW5lci5hcHBlbmRDaGlsZChsb3N0R2lmKTtcblx0XHR9XG5cdFx0Ly8gcmVuZGVyIGRvd24gYXJyb3cuXG5cdFx0Y29uc3QgZG93bkFycm93ID0gcmVuZGVyRWxlbWVudChcImlcIiwgXCJmYXNcIik7XG5cdFx0ZG93bkFycm93LmNsYXNzTGlzdC5hZGQoXCJmYS1hbmdsZS1kb3duXCIpO1xuXHRcdGNvdW50cnlCdG4uYXBwZW5kQ2hpbGQoZG93bkFycm93KTtcblxuXHRcdC8vIEFkZCBidG4gZXZlbnQgY2xpY2sgbGlzdGVuZXIgdG8gb3BlbiBtb2RhbFxuXHRcdGNvdW50cnlCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIChlKSA9PiB7XG5cdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRpZiAoYXZhaWxQcm92aWRlcnMpIHtcblx0XHRcdFx0cmVuZGVyQ291bnRyaWVzTW9kYWwoY291bnRyeUJ0bi50ZXh0Q29udGVudCk7XG5cdFx0XHRcdGhpZ2hsaWdodEN1cnJDb3VudHJ5KGNvdW50cnlCdG4udGV4dENvbnRlbnQpO1xuXHRcdFx0XHQvLyBhZGQgY291bnRyeSBldmVudCBoZXJlXG5cdFx0XHRcdGFwcGx5Q2hvb3NlQ291bnRyeUZuY3MoKTtcblx0XHRcdH1cblx0XHR9KTtcblxuXHRcdC8qKlxuXHRcdCAqIEZ1bmN0aW9uIHRoYXQgYXBwbHlzIGEgY2xpY2sgZXZlbnQgbGlzdGVuZXIgb24gZXZlcnkgY291bnRyeSBpblxuXHRcdCAqIHRoZSBtb2RhbCBsaXN0LiBDaGFuZ2VzIHRoZSBhdmFpbGFibGUgcHJvdmlkZXJzIGJhc2VkIG9uIHRoZSBzZWxlY3RlZFxuXHRcdCAqIGNvdW50cnkgYW5kIGhpZGVzIG1vZGFsLlxuXHRcdCAqIEByZXR1cm5zIHtWb2lkfVxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIGFwcGx5Q2hvb3NlQ291bnRyeUZuY3MoKSB7XG5cdFx0XHRjb25zdCBjb3VudHJpZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiLmNvdW50cnktY29udGFpbmVyXCIpO1xuXG5cdFx0XHRmdW5jdGlvbiBoYW5kbGVDbGljayhlKSB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdFx0Y29uc3Qgc2VsZWN0ZWRDb3VudHJ5ID0gdGhpcy5sYXN0Q2hpbGQudGV4dENvbnRlbnQudHJpbSgpO1xuXG5cdFx0XHRcdGlmIChzZWxlY3RlZENvdW50cnkpIHtcblx0XHRcdFx0XHRjbGVhclByb3ZpZGVyKCk7XG5cdFx0XHRcdFx0ZHJhd1Byb3ZpZGVyKHNlbGVjdGVkQ291bnRyeSk7XG5cdFx0XHRcdH1cblxuXHRcdFx0XHQvLyBSZW1vdmUgbW9kYWwgYW5kIG1hc2sgb3ZlcmxheS5cblx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tb2RhbC1jb3VudHJ5LWNvbnRhaW5lclwiKS5yZW1vdmUoKTtcblx0XHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mYWNlLW1hc2tcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBBcHBseSBoYW5kbGVDbGljayB0byBhbGwgY291bnRyeS1zZWxlY3RvcnMuXG5cdFx0XHRjb3VudHJpZXMuZm9yRWFjaCgoY291bnRyeSkgPT4ge1xuXHRcdFx0XHRjb3VudHJ5LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBoYW5kbGVDbGljayk7XG5cdFx0XHR9KTtcblx0XHR9XG5cblx0XHRyZXR1cm4gcHJvdmlkZXJDb250YWluZXI7XG5cblx0XHQvKipcblx0XHQgKiBEcmF3cyB0aGUgYXZhaWxibGUgcHJvdmlkZXJzIGFuZCB1cGRhdGUgdGhlIHRleHQgY29udGVudCBvZiB0aGVcblx0XHQgKiBidXR0b24tc2VsZWN0b3IgYmFzZWQgb24gdGhlIHNlbGVjdGVkIGNvdW50cnkuXG5cdFx0ICogQHBhcmFtIHtTdHJpbmd9IGNvdW50cnlOYW1lIEN1cnJlbnQgY291bnRyeSBpbiB3aGljaCB0aGUgYXZhaWxhYmxlXG5cdFx0ICogXHRcdFx0XHRcdFx0XHQgICBwcm92aWRlcnMgYXJlIGRpc3BsYXllZC5cblx0XHQgKi9cblx0XHRmdW5jdGlvbiBkcmF3UHJvdmlkZXIoY291bnRyeU5hbWUgPSBcIkF1c3RyYWxpYVwiKSB7XG5cdFx0XHQvLyBDaGFuZ2UgdGV4dCBvZiBidG4gdG8gY291bnRyeU5hbWVcblx0XHRcdGNvdW50cnlCdG4udGV4dENvbnRlbnQgPSBjb3VudHJ5TmFtZTtcblxuXHRcdFx0Ly8gQWRkIGFycm93cyBhbmQgZmxhZ3MgaW50byBidG4gYWZ0ZXIgZXZlcnkgc2VsZWN0aW9uLlxuXHRcdFx0dHJ5IHtcblx0XHRcdFx0Y29uc3QgZmxhZyA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJjb3VudHJ5LWZsYWdcIik7XG5cdFx0XHRcdC8vIGZsYWcuc2V0QXR0cmlidXRlKFwiY3Jvc3NvcmlnaW5cIiwgXCJhbm9ueW1vdXNcIik7XG5cdFx0XHRcdGZsYWcuc3JjID0gYGh0dHBzOi8vZmxhZ3NhcGkuY29tLyR7cHJvdmlkZXJzW2NvdW50cnlOYW1lXS5jb3VudHJ5Q29kZX0vc2hpbnkvNjQucG5nYDtcblx0XHRcdFx0ZmxhZy5hbHQgPSBgJHtjb3VudHJ5TmFtZX0gZmxhZ2A7XG5cdFx0XHRcdGZsYWcuY2xhc3NMaXN0LmFkZChcImJ0bi1jb3VudHJ5LWZsYWdcIik7XG5cdFx0XHRcdGNvdW50cnlCdG4uYXBwZW5kQ2hpbGQoZmxhZyk7XG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xuXHRcdFx0XHRjb25zb2xlLmVycm9yKFwiRmFpbGVkIHRvIHJldHJpZXZlIGZsYWdcIiwgZXJyb3IubWVzc2FnZSk7XG5cdFx0XHR9XG5cdFx0XHRjb25zdCBkb3duQXJyb3cgPSByZW5kZXJFbGVtZW50KFwiaVwiLCBcImZhc1wiKTtcblx0XHRcdGRvd25BcnJvdy5jbGFzc0xpc3QuYWRkKFwiZmEtYW5nbGUtZG93blwiKTtcblx0XHRcdGNvdW50cnlCdG4uYXBwZW5kQ2hpbGQoZG93bkFycm93KTtcblxuXHRcdFx0Y29uc3Qgc3RyZWFtSW5mbyA9IHByb3ZpZGVyc1tjb3VudHJ5TmFtZV0uc3RyZWFtO1xuXHRcdFx0Y29uc3QgYnV5SW5mbyA9IHByb3ZpZGVyc1tjb3VudHJ5TmFtZV0uYnV5O1xuXHRcdFx0Y29uc3QgcmVudEluZm8gPSBwcm92aWRlcnNbY291bnRyeU5hbWVdLnJlbnQ7XG5cblx0XHRcdGNvbnN0IHNlcnZpY2VOYW1lcyA9IFtcIlN0cmVhbSBhdDpcIiwgXCJQdXJjaGFzZSBhdDpcIiwgXCJSZW50IGF0OlwiXTtcblxuXHRcdFx0Ly8gaWR4IGFzc2lnbiBwb3NpdGlvbi9uYW1lcyBmb3IgZWFjaCBzZXZpY2UgcHJvdmlkZXJzLlxuXHRcdFx0Ly8gVGhpcyBpbmNyZW1lbnRzIGFzIHByb3ZpZGVycyBhcmUgbGlzdGVkIGZvciBlYWNoIHNlcnZpY2UuXG5cdFx0XHRsZXQgaWR4ID0gMDtcblxuXHRcdFx0W3N0cmVhbUluZm8sIGJ1eUluZm8sIHJlbnRJbmZvXS5mb3JFYWNoKChpbmZvKSA9PiB7XG5cdFx0XHRcdGNvbnN0IHNlcnZpY2VDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFxuXHRcdFx0XHRcdFwiZGl2XCIsXG5cdFx0XHRcdFx0XCJzZXJ2aWNlLWNvbnRhaW5lclwiXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnN0IHNlcnZpY2VOYW1lID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInNlcnZpY2UtbmFtZVwiKTtcblx0XHRcdFx0Y29uc3Qgc2VydmljZU5hbWVCb2xkID0gcmVuZGVyRWxlbWVudChcblx0XHRcdFx0XHRcImgyXCIsXG5cdFx0XHRcdFx0XCJzZXJ2aWNlLW5hbWUtYm9sZFwiXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnN0IHByb3ZpZGVyU2VydmljZUNvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXG5cdFx0XHRcdFx0XCJkaXZcIixcblx0XHRcdFx0XHRcInByb3ZpZGVyLXNlcnZpY2UtY29udGFpbmVyXCJcblx0XHRcdFx0KTtcblxuXHRcdFx0XHRpbmZvLmZvckVhY2goKHByb3ZpZGVyKSA9PiB7XG5cdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJTZXJ2aWNlID0gcmVuZGVyRWxlbWVudChcblx0XHRcdFx0XHRcdFwiZGl2XCIsXG5cdFx0XHRcdFx0XHRcInByb3ZpZGVyLXNlcnZpY2VcIlxuXHRcdFx0XHRcdCk7XG5cdFx0XHRcdFx0Ly8gQWRkIGltZyBhbmQgbmFtZSBvZiBwcm92aWRlci5cblx0XHRcdFx0XHRjb25zdCBwcm92aWRlckltZyA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJwcm92aWRlci1pbWdcIik7XG5cdFx0XHRcdFx0Y29uc3QgcHJvdmlkZXJOYW1lID0gcmVuZGVyRWxlbWVudChcInNwYW5cIiwgXCJwcm92aWRlci1uYW1lXCIpO1xuXG5cdFx0XHRcdFx0aWYgKHByb3ZpZGVyLnByb3ZpZGVyX2xvZ29fcGF0aCkge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJJbWcuc3JjID0gYGh0dHBzOi8vaW1hZ2UudG1kYi5vcmcvdC9wL29yaWdpbmFsL1xuXHRcdFx0XHRcdFx0JHtwcm92aWRlci5wcm92aWRlcl9sb2dvX3BhdGh9YDtcblx0XHRcdFx0XHRcdHByb3ZpZGVySW1nLmFsdCA9IGAke3Byb3ZpZGVyLnByb3ZpZGVyX25hbWV9IHBpY3R1cmUuYDtcblx0XHRcdFx0XHRcdHByb3ZpZGVySW1nLnNldEF0dHJpYnV0ZShcImxvYWRpbmdcIiwgXCJsYXp5XCIpO1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJOYW1lLnRleHRDb250ZW50ID0gcHJvdmlkZXIucHJvdmlkZXJfbmFtZTtcblx0XHRcdFx0XHR9XG5cblx0XHRcdFx0XHRbcHJvdmlkZXJJbWcsIHByb3ZpZGVyTmFtZV0uZm9yRWFjaCgoZWxlbSkgPT4ge1xuXHRcdFx0XHRcdFx0cHJvdmlkZXJTZXJ2aWNlLmFwcGVuZENoaWxkKGVsZW0pO1xuXHRcdFx0XHRcdH0pO1xuXHRcdFx0XHRcdHByb3ZpZGVyU2VydmljZUNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm92aWRlclNlcnZpY2UpO1xuXHRcdFx0XHR9KTtcblxuXHRcdFx0XHRpZiAoaW5mby5sZW5ndGgpIHtcblx0XHRcdFx0XHRzZXJ2aWNlTmFtZUJvbGQudGV4dENvbnRlbnQgPSBgJHtzZXJ2aWNlTmFtZXNbaWR4XX1gO1xuXHRcdFx0XHRcdHNlcnZpY2VOYW1lLmFwcGVuZENoaWxkKHNlcnZpY2VOYW1lQm9sZCk7XG5cdFx0XHRcdH1cblx0XHRcdFx0aWR4Kys7IC8vIEluY3JlbWVudCBpZHggdG8gZ28gdG8gdGhlIG5leHQgdHlwZSBvZiBzZXJ2aWNlLlxuXHRcdFx0XHRzZXJ2aWNlQ29udGFpbmVyLmFwcGVuZENoaWxkKHNlcnZpY2VOYW1lKTtcblx0XHRcdFx0c2VydmljZUNvbnRhaW5lci5hcHBlbmRDaGlsZChwcm92aWRlclNlcnZpY2VDb250YWluZXIpO1xuXHRcdFx0XHRob3VzZUNvbnRhaW5lci5hcHBlbmRDaGlsZChzZXJ2aWNlQ29udGFpbmVyKTtcblx0XHRcdH0pO1xuXHRcdH1cblx0XHRmdW5jdGlvbiBjbGVhclByb3ZpZGVyKCkge1xuXHRcdFx0d2hpbGUgKGhvdXNlQ29udGFpbmVyLmZpcnN0Q2hpbGQpIHtcblx0XHRcdFx0aG91c2VDb250YWluZXIucmVtb3ZlQ2hpbGQoaG91c2VDb250YWluZXIubGFzdENoaWxkKTtcblx0XHRcdH1cblx0XHR9XG5cdH07XG5cblx0LyoqXG5cdCAqIERyYXdzIGEgbWF4aW11bSBvZiA1IHJldmlld3MgYmFzZWQgb24gdGhlIHNlYXJjaGVkIG1vdmllIC8gVFYgU0hPVy5cblx0ICogQHJldHVybnMge05vZGV9XG5cdCAqL1xuXHRjb25zdCBkcmF3UmV2aWV3cyA9ICgpID0+IHtcblx0XHRpZiAoIXJldmlld3MpIHJldHVybjtcblx0XHRjb25zdCByZXZpZXdDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmV2aWV3LWNvbnRhaW5lclwiKTtcblx0XHRjb25zdCB0aXRsZSA9IHJlbmRlckVsZW1lbnQoXCJoMlwiLCBcInJldmlldy10aXRsZVwiKTtcblx0XHR0aXRsZS50ZXh0Q29udGVudCA9IFwiUmV2aWV3czpcIjtcblx0XHRyZXZpZXdDb250YWluZXIuYXBwZW5kQ2hpbGQodGl0bGUpO1xuXG5cdFx0cmV2aWV3cy5mb3JFYWNoKChyZXZpZXcpID0+IGRyYXdSZXZpZXcocmV2aWV3LCByZXZpZXdDb250YWluZXIpKTtcblx0XHRyZXR1cm4gcmV2aWV3Q29udGFpbmVyO1xuXHR9O1xuXG5cdC8qKlxuXHQgKiBEcmF3cyBhIHNpbmd1bGFyIHJldmlldyBhbmQgZGlzcGxheXMgYWxsIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbjpcblx0ICogXHQtIEF1dGhvcidzIG5hbWVcblx0ICogXHQtIEF1dGhvcidzIHByb2ZpbGUgcGljXG5cdCAqICAtIFJhdGluZyBvZiB0aGUgbW92aWUgLyBUViBzaG93LlxuXHQgKiBAcGFyYW0ge09iamVjdH0gcmV2aWV3IFJldmlldyBpbmZvcm1hdGlvblxuXHQgKiBAcGFyYW0ge05vZGV9IHJldmlld0NvbnRhaW5lciByZXZpZXdDb250YWluZXIgdGhhdCBob3VzZXMgYWxsIHRoZVxuXHQgKiBcdFx0XHRcdFx0XHRcdFx0IHJldmlld3MuXG5cdCAqL1xuXHRjb25zdCBkcmF3UmV2aWV3ID0gKHJldmlldywgcmV2aWV3Q29udGFpbmVyKSA9PiB7XG5cdFx0Ly8gSGVhZGluZyBpbmNsdWRlcyBhdXRob3IgbmFtZSwgcmF0aW5nIGFuZCB0aGVpciByZXNwZWN0aXZlIHByb2ZpbGVcblx0XHQvLyBwaWMuXG5cdFx0Y29uc3QgcmVuZGVyUmV2aWV3SGVhZGluZyA9ICgpID0+IHtcblx0XHRcdGNvbnN0IHJldmlld0hlYWRpbmcgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmV2aWV3LWhlYWRpbmdcIik7XG5cblx0XHRcdC8vIFJlbmRlciBhdXRob3IncyBwcm9maWxlIHBpYyBpZiBhbnkuXG5cdFx0XHR0cnkge1xuXHRcdFx0XHRpZiAocmV2aWV3LnBpY19wYXRoKSB7XG5cdFx0XHRcdFx0Y29uc3QgYXV0aG9yUGljID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcImF1dGhvci1waWNcIik7XG5cdFx0XHRcdFx0YXV0aG9yUGljLnNyYyA9XG5cdFx0XHRcdFx0XHQvLyBBcGkgZ2l2ZXMgdHdvIGRpZmZlcmVudCB0eXBlcyBvZiB1cmwgbGluay4gTmVlZCB0b1xuXHRcdFx0XHRcdFx0Ly8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuIHRoZW0gdG8gcmV0cmlldmUgc3JjIHVybC5cblx0XHRcdFx0XHRcdHJldmlldy5waWNfcGF0aC5zbGljZSgxLCA1KSAhPT0gXCJodHRwXCJcblx0XHRcdFx0XHRcdFx0PyBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzMwMC8ke3Jldmlldy5waWNfcGF0aH1gXG5cdFx0XHRcdFx0XHRcdDogcmV2aWV3LnBpY19wYXRoLnNsaWNlKDEpO1xuXHRcdFx0XHRcdGF1dGhvclBpYy5hbHQgPSBgJHtyZXZpZXcuYXV0aG9yfSBwcm9maWxlIHBpY3R1cmUuYDtcblx0XHRcdFx0XHRyZXZpZXdIZWFkaW5nLmFwcGVuZENoaWxkKGF1dGhvclBpYyk7XG5cdFx0XHRcdH1cblx0XHRcdH0gY2F0Y2ggKGVycm9yKSB7XG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IoXG5cdFx0XHRcdFx0XCJDYW5ub3QgZmV0Y2ggYXV0aG9yIHByb2ZpbGUgcGljdHVyZXM6XCIsXG5cdFx0XHRcdFx0ZXJyb3IubWVzc2FnZVxuXHRcdFx0XHQpO1xuXHRcdFx0fVxuXG5cdFx0XHRhZGRSZXZJbmZvKHJldmlldy5hdXRob3IsIHJldmlld0hlYWRpbmcsIFwiaDNcIiwgXCJyZXZpZXctYXV0aG9yXCIpO1xuXHRcdFx0YWRkUmV2SW5mbyhyZXZpZXcucmF0aW5nLCByZXZpZXdIZWFkaW5nLCBcInNwYW5cIiwgXCJyZXZpZXctcmF0aW5nXCIpO1xuXG5cdFx0XHRyZXR1cm4gcmV2aWV3SGVhZGluZztcblx0XHR9O1xuXG5cdFx0Ly8gRHJhdyByZXZpZXcgY29udGVudC5cblx0XHRjb25zdCByZW5kZXJSZXZpZXdCb2R5ID0gKCkgPT4ge1xuXHRcdFx0Y29uc3QgcmV2aWV3Q29udGVudCA9IHJlbmRlckVsZW1lbnQoXCJwXCIsIFwicmV2aWV3LWNvbnRlbnRcIik7XG5cdFx0XHRyZXZpZXdDb250ZW50LnRleHRDb250ZW50ID0gYFwiJHtyZXZpZXcuY29udGVudH1cImA7XG5cdFx0XHRyZXR1cm4gcmV2aWV3Q29udGVudDtcblx0XHR9O1xuXG5cdFx0Ly8gRHJhdyByZXZpZXcgZm9vdGVyIGNvbnRhaW5pbmcgbGluayB1cmwgYW5kIGxhc3QgZGF0ZSB1cGRhdGVkLlxuXHRcdGNvbnN0IHJlbmRlclJldmlld0Zvb3RlciA9ICgpID0+IHtcblx0XHRcdGNvbnN0IHJldmlld0Zvb3RlciA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZXZpZXctZm9vdGVyXCIpO1xuXHRcdFx0Y29uc3QgcmV2aWV3VXJsID0gcmVuZGVyRWxlbWVudChcImFcIiwgXCJyZXZpZXctbGlua1wiKTtcblx0XHRcdGNvbnN0IHJldmlld1VwZGF0ZWQgPSByZW5kZXJFbGVtZW50KFwic3BhblwiLCBcInJldmlldy11cGRhdGVkXCIpO1xuXG5cdFx0XHRyZXZpZXdVcmwuc2V0QXR0cmlidXRlKFwiaHJlZlwiLCBgJHtyZXZpZXcudXJsfWApO1xuXHRcdFx0cmV2aWV3VXJsLnNldEF0dHJpYnV0ZShcInRhcmdldFwiLCBcIl9ibGFua1wiKTtcblx0XHRcdHJldmlld1VybC50ZXh0Q29udGVudCA9IFwiQ2xpY2sgZm9yIHJldmlldyBsaW5rXCI7XG5cblx0XHRcdHJldmlld1VwZGF0ZWQudGV4dENvbnRlbnQgPSBgTGFzdCB1cGRhdGVkOiAke2Zvcm1hdFJldkRhdGUoXG5cdFx0XHRcdHJldmlldy5sYXN0X3VwZGF0ZWRcblx0XHRcdCl9YDtcblxuXHRcdFx0cmV2aWV3Rm9vdGVyLmFwcGVuZENoaWxkKHJldmlld1VybCk7XG5cdFx0XHRyZXZpZXdGb290ZXIuYXBwZW5kQ2hpbGQocmV2aWV3VXBkYXRlZCk7XG5cblx0XHRcdHJldHVybiByZXZpZXdGb290ZXI7XG5cdFx0XHQvKipcblx0XHRcdCAqXG5cdFx0XHQgKiBAcGFyYW0ge1N0cmluZ30gZGF0ZSBkYXRlIGZvcm1hdHRlZCBkZC1tbS15eXl5XG5cdFx0XHQgKiBAcmV0dXJucyB7U3RyaW5nfSBcdGRhdGUgZm9ybWF0dGVkIGRkL21tL3l5eXlcblx0XHRcdCAqL1xuXHRcdFx0ZnVuY3Rpb24gZm9ybWF0UmV2RGF0ZShkYXRlKSB7XG5cdFx0XHRcdGNvbnN0IFt5ZWFyLCBtb250aCwgZGF5XSA9IGRhdGUuc3BsaXQoXCItXCIpO1xuXHRcdFx0XHRyZXR1cm4gYCR7ZGF5LnNsaWNlKDAsIDIpfS8ke21vbnRofS8ke3llYXJ9YDtcblx0XHRcdH1cblx0XHR9O1xuXG5cdFx0Ly8gQWRkIHRvIHJldmlldyBob3VzaW5nIGNvbnRhaW5lclxuXHRcdHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJSZXZpZXdIZWFkaW5nKCkpO1xuXHRcdHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJSZXZpZXdCb2R5KCkpO1xuXHRcdHJldmlld0NvbnRhaW5lci5hcHBlbmRDaGlsZChyZW5kZXJSZXZpZXdGb290ZXIoKSk7XG5cblx0XHQvLyBIZWxwZXIgZm5jIHRoYXQgY29sbGVjdHMgY29ycmVzcG9uZGluZyBpbmZvIGFuZFxuXHRcdC8vIGNyZWF0ZXMgYSBzcGFuL2RpdiBjb250YWluZXIgaWYgaW5mbyBleGlzdHMuIE90aGVyd2lzZSwgcmV0dXJuO1xuXHRcdGZ1bmN0aW9uIGFkZFJldkluZm8oaW5mbywgY29udGFpbmVyLCB0YWcsIGNsYXNzTmFtZSkge1xuXHRcdFx0Y29uc3QgaW5mb0NvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQodGFnLCBjbGFzc05hbWUpO1xuXHRcdFx0aWYgKGluZm8pIHtcblx0XHRcdFx0aW5mb0NvbnRhaW5lci50ZXh0Q29udGVudCA9IGluZm87XG5cdFx0XHR9XG5cblx0XHRcdC8vIFJlbmRlciByZXZpZXcgcmF0aW5nIG91dCBvZiAxMC4gSWYgbm9uZSBwcm92aWRlZCwgcmVuZGVyIG1lc3NhZ2UuXG5cdFx0XHRpZiAoaW5mbyA9PT0gcmV2aWV3LnJhdGluZykge1xuXHRcdFx0XHRpbmZvQ29udGFpbmVyLnRleHRDb250ZW50ID0gcmV2aWV3LnJhdGluZ1xuXHRcdFx0XHRcdD8gYCR7aW5mb30vMTBgXG5cdFx0XHRcdFx0OiBcIlJhdGluZyBub3QgcHJvdmlkZWQuLlwiO1xuXHRcdFx0fVxuXHRcdFx0Y29udGFpbmVyLmFwcGVuZENoaWxkKGluZm9Db250YWluZXIpO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogQWRkIHRyYWlsZXIgdmlkZW8gdG8gc2VjdGlvblxuXHQgKiBAcmV0dXJucyB7Tm9kZX1cdENvbnRhaW5lciB0aGF0IGhvdXNlcyB0aGUgdHJhaWxlciB3aXRoIGl0cyByZXNwZWN0aXZlXG5cdCAqIFx0XHRcdFx0XHRoZWFkaW5nXG5cdCAqL1xuXHRjb25zdCBkcmF3VHJhaWxlciA9ICgpID0+IHtcblx0XHRjb25zdCB0cmFpbGVyQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInRyYWlsZXItY29udGFpbmVyXCIpO1xuXHRcdGNvbnN0IHRyYWlsZXJIZWFkaW5nID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInRyYWlsZXItaGVhZGluZ1wiKTtcblxuXHRcdGlmICh0cmFpbGVyKSB7XG5cdFx0XHRyZW5kZXJUcmFpbGVySGVhZGluZygpLmZvckVhY2goKGVsZW0pID0+XG5cdFx0XHRcdHRyYWlsZXJIZWFkaW5nLmFwcGVuZENoaWxkKGVsZW0pXG5cdFx0XHQpO1xuXHRcdFx0dHJhaWxlckNvbnRhaW5lci5hcHBlbmRDaGlsZCh0cmFpbGVySGVhZGluZyk7XG5cdFx0XHRjb25zdCB2aWRlb1dyYXBwZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwidmlkZW8td3JhcHBlclwiKTtcblx0XHRcdHZpZGVvV3JhcHBlci5hcHBlbmRDaGlsZChhZGRWaWRlbyh0cmFpbGVyLmtleSwgdHJhaWxlci5zaXRlKSk7XG5cdFx0XHR0cmFpbGVyQ29udGFpbmVyLmFwcGVuZENoaWxkKHZpZGVvV3JhcHBlcik7XG5cdFx0fVxuXHRcdHJldHVybiB0cmFpbGVyQ29udGFpbmVyO1xuXG5cdFx0LyoqXG5cdFx0ICogUmVuZGVyIHRyYWlsZXIgaGVhZGluZyBhbmQgZGlzcGxheSBsYW5ndWFnZSBvZiB0aGUgdmlkZW8uXG5cdFx0ICogQHJldHVybnMge0FycmF5fVx0QXJyYXkgY29udGFpbmluZyBOb2RlIGVsZW1zIG9mIHRyYWlsZXIncyBuYW1lXG5cdFx0ICogXHRcdFx0XHRcdGFuZCBsYW5ndWFnZS5cblx0XHQgKi9cblx0XHRmdW5jdGlvbiByZW5kZXJUcmFpbGVySGVhZGluZygpIHtcblx0XHRcdGNvbnN0IHRyYWlsZXJOYW1lID0gcmVuZGVyRWxlbWVudChcImgyXCIsIFwidHJhaWxlci1uYW1lXCIpO1xuXHRcdFx0Y29uc3QgdHJhaWxlckxhbmd1YWdlID0gcmVuZGVyRWxlbWVudChcImgzXCIsIFwidHJhaWxlci1sYW5nXCIpO1xuXHRcdFx0dHJhaWxlck5hbWUudGV4dENvbnRlbnQgPSBgJHt0cmFpbGVyLnROYW1lfWA7XG5cdFx0XHR0cmFpbGVyTGFuZ3VhZ2UudGV4dENvbnRlbnQgPSBgTGFuZ3VhZ2U6ICR7dHJhaWxlci5sYW5nfWA7XG5cblx0XHRcdHJldHVybiBbdHJhaWxlck5hbWUsIHRyYWlsZXJMYW5ndWFnZV07XG5cdFx0fVxuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyB0aGUgdHJhaWxlciB2aWRlbyB0byBhZGQgdG8gdGhlICB0aGUgdHJhaWxlciBjb250YWluZXIgTm9kZS5cblx0XHQgKiBBbHNvIGFkZHMgYWxsIHRoZSByZWxldmFudCBhdHRyaWJ1dGVzIHRvIHRoZSBub2RlIGVsZW0uXG5cdFx0ICogQHBhcmFtIHtOdW1iZXJ9IGtleSBcdEtleSB0aGF0IHVuaXF1ZWx5IGlkZW50aWZpZXMgdGhlIHRyYWlsZXIgdmlkZW9cblx0XHQgKiBAcGFyYW0ge1N0cmluZ30gc2l0ZSBOYW1lIG9mIHdlYiBwbGF5ZXJcblx0XHQgKiBAcmV0dXJucyB7Tm9kZX0gXHRcdEVsZW1lbnQgdGhhdCBmcmFtZXMgdGhlIHBsYXlhYmxlIHZpZGVvXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gYWRkVmlkZW8oa2V5LCBzaXRlKSB7XG5cdFx0XHRjb25zdCBmcmFtZSA9IHJlbmRlckVsZW1lbnQoXCJpZnJhbWVcIiwgXCJ0cmFpbGVyLXZpZGVvXCIpO1xuXHRcdFx0Y29uc3QgYXR0cmlidXRlcyA9IHtcblx0XHRcdFx0bG9hZGluZzogXCJsYXp5XCIsXG5cdFx0XHRcdHdpZHRoOiBcIjU2MFwiLFxuXHRcdFx0XHRoZWlnaHQ6IFwiMzE1XCIsXG5cdFx0XHRcdHNyYzogYGh0dHBzOi8veW91dHViZS5jb20vZW1iZWQvJHtrZXl9YCxcblx0XHRcdFx0dGl0bGU6IGAke3NpdGV9IHZpZGVvIHBsYXllcmAsXG5cdFx0XHRcdGZyYW1lYm9yZGVyOiBcIjBcIixcblx0XHRcdFx0YWxsb3c6IFwiYWNjZWxlcm9tZXRlcjsgYXV0b3BsYXk7IGNsaXBib2FyZC13cml0ZTsgZW5jcnlwdGVkIG1lZGlhOyBneXJvc2NvcGU7IHBpY3R1cmUtaW4tcGljdHVyZTsgd2ViLXNoYXJlXCIsXG5cdFx0XHR9O1xuXHRcdFx0Zm9yIChsZXQgYXR0ciBpbiBhdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdGZyYW1lLnNldEF0dHJpYnV0ZShhdHRyLCBhdHRyaWJ1dGVzW2F0dHJdKTtcblx0XHRcdFx0ZnJhbWUuc2V0QXR0cmlidXRlKFwiYWxsb3dmdWxsc2NyZWVuXCIsIHRydWUpO1xuXHRcdFx0fVxuXHRcdFx0cmV0dXJuIGZyYW1lO1xuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogUmV0dXJucyBhIG5vZGUgZWxlbWVudCB0aGF0IGRyYXdzIHRoZSByZWNvbW1lbmRhdGlvbnMuXG5cdCAqIEByZXR1cm5zIHtOb2RlfVx0U2VydmVzIGFzIGEgaG91c2luZyBjb250YWluZXIgZm9yIGFsbCB0aGVcblx0ICogXHRcdFx0XHRcdHJlY29tbWVuZGF0aW9ucy5cblx0ICovXG5cdGNvbnN0IGRyYXdSZWNzID0gKCkgPT4ge1xuXHRcdGNvbnN0IHJlY3NDb250YWluZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwicmVjcy1jb250YWluZXJcIik7XG5cdFx0aWYgKE9iamVjdC5rZXlzKHJlY3MpLmxlbmd0aCA9PT0gMCkge1xuXHRcdFx0Y29uc3Qgbm9uZU1zZyA9IHJlbmRlckVsZW1lbnQoXCJoNFwiLCBcIm5vLXJldmlldy1tc2dcIik7XG5cdFx0XHRub25lTXNnLnRleHRDb250ZW50ID0gXCJObyByZWNvbW1lbmRhdGlvbnMgZm91bmQuXCI7XG5cdFx0XHRyZWNzQ29udGFpbmVyLmFwcGVuZENoaWxkKG5vbmVNc2cpO1xuXHRcdFx0cmVjc0NvbnRhaW5lci5zdHlsZSA9IFwiZGlzcGxheTogZmxleDsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XCI7XG5cdFx0XHRyZXR1cm4gcmVjc0NvbnRhaW5lcjtcblx0XHR9XG5cdFx0Zm9yIChsZXQgcmVjIGluIHJlY3MpIHtcblx0XHRcdHJlY3NDb250YWluZXIuYXBwZW5kQ2hpbGQoZHJhd1JlYyhyZWNzW3JlY10pKTtcblx0XHR9XG5cdFx0cmV0dXJuIHJlY3NDb250YWluZXI7XG5cdH07XG5cblx0LyoqXG5cdCAqIFJldHVybnMgYSBub2RlIGVsZW1lbnQgdGhhdCBjb250YWlucyBhbGwgdGhlIHJlbGV2YW50IGluZm9ybWF0aW9uIG9mIGFcblx0ICogcmVjb21tZW5kYXRpb24gYmFzZWQgb24gdGhlIHNwZWNpZmljIG1vdmllL1RWIHNob3cuXG5cdCAqIEBwYXJhbSB7T2JqZWN0fSByZWMgIFNwZWNpZmljIHJlY29tbWVuZGF0aW9uJ3MgcmVsZXZhbnQgaW5mb3JtYXRpb24uXG5cdCAqIEByZXR1cm5zIHtOb2RlfSBcdFx0QSBub2RlIGVsZW1lbnQgdGhhdCBob3VzZXMgYSBzaW5ndWxhciByZWNjby5cblx0ICogXHRcdFx0XHRcdFx0Q29udGFpbnMgYWxsIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiBhbmQgcG9zdGVycy5cblx0ICovXG5cdGNvbnN0IGRyYXdSZWMgPSAocmVjKSA9PiB7XG5cdFx0Y29uc3QgcmVjQ29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcImRpdlwiLCBcInJlYy1jb250YWluZXJcIik7XG5cdFx0Y29uc3QgcmVjUG9zdGVyID0gcmVuZGVyRWxlbWVudChcImltZ1wiLCBcInJlYy1wb3N0ZXJcIik7XG5cdFx0Y29uc3QgaW5mbyA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJyZWMtaW5mb1wiKTtcblxuXHRcdHJlY1Bvc3Rlci5zcmMgPSBgaHR0cHM6Ly9pbWFnZS50bWRiLm9yZy90L3AvdzMwMC8ke3JlYy5wb3N0ZXJfcGF0aH1gO1xuXG5cdFx0cmVjQ29udGFpbmVyLmFwcGVuZENoaWxkKHJlY1Bvc3Rlcik7XG5cdFx0cmVuZGVySW5mbyhyZWMpLmZvckVhY2goKHN1YkluZm8pID0+IGluZm8uYXBwZW5kQ2hpbGQoc3ViSW5mbykpO1xuXG5cdFx0Y29uc3QgcmVjTGluayA9IHJlbmRlckVsZW1lbnQoXCJhXCIsIFwicmVjLWxpbmtcIik7XG5cdFx0Y29uc3QgbWVkaWFUeXBlID0gcmVjLnROYW1lID8gXCJUViBTaG93XCIgOiBcIk1vdmllXCI7XG5cdFx0cmVjTGluay50ZXh0Q29udGVudCA9IGBTZWFyY2ggZm9yIHRoaXMgJHttZWRpYVR5cGV9IC0+IGA7XG5cdFx0cmVjTGluay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcblx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdHBhZ2UuY2xlYXJTZWN0aW9ucygpO1xuXHRcdFx0cmVjLnROYW1lXG5cdFx0XHRcdD8gYXdhaXQgcGFnZS5kcmF3U2VjdGlvbnMocmVjLnROYW1lKVxuXHRcdFx0XHQ6IGF3YWl0IHBhZ2UuZHJhd1NlY3Rpb25zKHJlYy5tTmFtZSk7XG5cdFx0fSk7XG5cblx0XHRpbmZvLmFwcGVuZENoaWxkKHJlY0xpbmspO1xuXHRcdHJlY0NvbnRhaW5lci5hcHBlbmRDaGlsZChpbmZvKTtcblx0XHRyZXR1cm4gcmVjQ29udGFpbmVyO1xuXG5cdFx0LyoqXG5cdFx0ICogUmV0dXJucyBhbiBBcnJheSB3aXRoIG5vZGVzIHdpdGggIHJlbGV2YW50IGluZm9ybWF0aW9uIG9uIHRoZVxuXHRcdCAqIHNwZWNpZmllZCByZWNvbW1lbmRhdGlvbi5cblx0XHQgKiBAcGFyYW0ge09iamVjdH0gc3ViSW5mbyAgQWxsIHRoZSByZWxldmFudCBpbmZvcm1hdGlvbiBuZWVkZWQgZm9yIGFcblx0XHQgKiBcdFx0XHRcdFx0XHRcdHJlY29tbWVuZGF0aW9uLlxuXHRcdCAqIEByZXR1cm5zIHtBcnJheX1cdFx0XHRBbGwgPHA+IG5vZGVzIGNvbnRhaW5pbmcgdGhlIGluZm9ybWF0aW9uLlxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHJlbmRlckluZm8oc3ViSW5mbykge1xuXHRcdFx0aWYgKHN1YkluZm8pIHtcblx0XHRcdFx0Ly8gSWYgaW5mbyBleGlzdHMuXG5cdFx0XHRcdGNvbnN0IHJlY05hbWUgPSByZW5kZXJFbGVtZW50KFwicFwiLCBcInJlYy1uYW1lXCIpO1xuXHRcdFx0XHRjb25zdCByZWNEYXRlID0gcmVuZGVyRWxlbWVudChcInBcIiwgXCJyZWMtZGF0ZVwiKTtcblx0XHRcdFx0Y29uc3Qgdm90ZUNvdW50ID0gcmVuZGVyRWxlbWVudChcInBcIiwgXCJyZWMtdm90ZS1jb3VudFwiKTtcblx0XHRcdFx0Y29uc3Qgdm90ZUF2ZyA9IHJlbmRlckVsZW1lbnQoXCJwXCIsIFwicmVjLXZvdGUtYXZnXCIpO1xuXG5cdFx0XHRcdC8vIFNvcnQgdGV4dCBjb250ZW50IG9mIG5vZGVzIGJhc2VkIG9uIHRoZSBtZWRpYSB0eXBlLlxuXHRcdFx0XHRyZWNOYW1lLnRleHRDb250ZW50ID0gc3ViSW5mby50TmFtZVxuXHRcdFx0XHRcdD8gYE5hbWU6ICR7c3ViSW5mby50TmFtZX1gXG5cdFx0XHRcdFx0OiBgTmFtZTogJHtzdWJJbmZvLm1OYW1lfWA7XG5cdFx0XHRcdHJlY0RhdGUudGV4dENvbnRlbnQgPSBzdWJJbmZvLmZpcnN0X2Fpcl9kYXRlXG5cdFx0XHRcdFx0PyBgRmlyc3QgQWlyIERhdGU6ICR7c3ViSW5mby5maXJzdF9haXJfZGF0ZX1gXG5cdFx0XHRcdFx0OiBgUmVsZWFzZSBEYXRlOiAke3N1YkluZm8ucmVsZWFzZV9kYXRlfWA7XG5cdFx0XHRcdHZvdGVDb3VudC50ZXh0Q29udGVudCA9IGBWb3RlIENvdW50OiAke3N1YkluZm8udm90ZV9jb3VudH1gO1xuXHRcdFx0XHR2b3RlQXZnLnRleHRDb250ZW50ID0gYFZvdGUgQXZnOiAke3N1YkluZm8udm90ZV9hdmVyYWdlfWA7XG5cblx0XHRcdFx0cmV0dXJuIFtyZWNOYW1lLCByZWNEYXRlLCB2b3RlQ291bnQsIHZvdGVBdmddO1xuXHRcdFx0fVxuXHRcdH1cblx0fTtcblxuXHQvKipcblx0ICogRHJhdyBjb3VudHJpZXMgbW9kYWwgdGhhdCBhcHBlYXJzIHdoZW4gY291bnRyeS1zZWxlY3RvciBidG4gaXMgY2xpY2tlZFxuXHQgKiBvbi4gVGhlIGZvcm0gc3RydWN0dXJlIGlzIGZvcm1hdHRlZCBieSB0d28gcGFydHM6XG5cdCAqICAtIEhlYWRpbmdcblx0ICogXHQtIEJvZHkuXG5cdCAqIFRoZSBldmVudCBsaXN0ZW5lciBmb3IgdGhlIGNvdW50cnktc2VsZWN0b3IgYnRuIGlzIGFsc28gYXR0YWNoZWQuXG5cdCAqIEBwYXJhbSB7U3RyaW5nfSBjdXJyQ291bnRyeU5hbWUgIEN1cnJlbnQgbmFtZSBvZiB0aGUgY291bnRyeVxuXHQgKiBcdFx0XHRcdFx0XHRcdFx0XHRlLmcuIFwiQXVzdHJhbGlhXCJcblx0ICovXG5cdGZ1bmN0aW9uIHJlbmRlckNvdW50cmllc01vZGFsKGN1cnJDb3VudHJ5TmFtZSkge1xuXHRcdC8vIENvdW50cnkgbmFtZXNcblx0XHRjb25zdCBwcm92aWRlckNvdW50cmllcyA9IE9iamVjdC5rZXlzKHByb3ZpZGVycyk7XG5cdFx0Ly8gU29ydCBieSBjb3VudHJ5IG5hbWUgYW5kIGNvZGVzIGludG8gYW4gb2JqLlxuXHRcdGxldCBjb3VudHJpZXMgPSB7fTtcblx0XHRsZXQgY3VyckNvdW50cnlDb2RlO1xuXHRcdHByb3ZpZGVyQ291bnRyaWVzLmZvckVhY2goKGNvdW50cnkpID0+IHtcblx0XHRcdGNvdW50cmllc1tjb3VudHJ5XSA9IHByb3ZpZGVyc1tjb3VudHJ5XS5jb3VudHJ5Q29kZTtcblxuXHRcdFx0Ly8gRmluZCBjdXJyZW50IGNvdW50cnkgY29kZS5cblx0XHRcdGlmIChjdXJyQ291bnRyeU5hbWUgPT09IGNvdW50cnkpIHtcblx0XHRcdFx0Y3VyckNvdW50cnlDb2RlID0gcHJvdmlkZXJzW2NvdW50cnldLmNvdW50cnlDb2RlO1xuXHRcdFx0fVxuXHRcdH0pO1xuXG5cdFx0Ly8gSW5pdGlhbGlzZSBjb250YWluZXIgbm9kZXNcblx0XHRjb25zdCBtb2RhbENvbnRhaW5lciA9IHJlbmRlckVsZW1lbnQoXCJmb3JtXCIsIFwibW9kYWwtY291bnRyeS1jb250YWluZXJcIik7XG5cdFx0Y29uc3QgbW9kYWxIZWFkZXIgPSByZW5kZXJFbGVtZW50KFwiZGl2XCIsIFwibW9kYWwtaGVhZGVyXCIpO1xuXHRcdGNvbnN0IG1vZGFsQm9keSA9IHJlbmRlckVsZW1lbnQoXCJkaXZcIiwgXCJtb2RhbC1ib2R5XCIpO1xuXHRcdGNvbnN0IG1vZGFsQ3VycmVudENvdW50cnkgPSByZW5kZXJFbGVtZW50KFxuXHRcdFx0XCJkaXZcIixcblx0XHRcdFwibW9kYWwtY3VycmVudC1jb3VudHJ5XCJcblx0XHQpO1xuXHRcdGNvbnN0IG1vZGFsSW5wdXRTZWFyY2ggPSByZW5kZXJFbGVtZW50KFwiaW5wdXRcIiwgXCJtb2RhbC1pbnB1dC1zZWFyY2hcIik7XG5cdFx0Y29uc3QgbW9kYWxMaXN0Q291bnRyaWVzID0gcmVuZGVyRWxlbWVudChcInVsXCIsIFwibW9kYWwtbGlzdC1jb3VudHJpZXNcIik7XG5cdFx0Y29uc3QgbW9kYWxDbG9zZUJ0biA9IHJlbmRlckVsZW1lbnQoXCJidXR0b25cIiwgXCJtb2RhbC1jbG9zZS1idG5cIik7XG5cblx0XHQvKipcblx0XHQgKiBEcmF3cyBtb2RhbCBoZWFkaW5nIGFuZCBhZGQgaXQgdG8gdGhlIG1vZGFsIGZvcm0gY29udGFpbmVyLlxuXHRcdCAqIFNob3VsZCBpbmNsdWRlOlxuXHRcdCAqIFx0XHQtIFNlYXJjaCBiYXIgdGhhdCBmaWx0ZXJzIGRpZmZlcmVudCBjb3VudHJ5IHJlc3VsdHMuXG5cdFx0ICovXG5cdFx0Y29uc3QgcmVuZGVySGVhZGluZyA9ICgpID0+IHtcblx0XHRcdC8vIEhlYWRpbmcgdGhhdCBkaXNwbGF5cyBjdXJyZW50IGNvdW50cnkgc2VsZWN0ZWQuXG5cdFx0XHRjb25zdCBoZWFkaW5nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgyXCIpO1xuXHRcdFx0aGVhZGluZy50ZXh0Q29udGVudCA9IFwiQ291bnRyaWVzXCI7XG5cblx0XHRcdGNvbnN0IGN1cnJDb3VudHJ5ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImgzXCIpO1xuXHRcdFx0Y29uc3Qgc2VhcmNoTGFiZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XG5cblx0XHRcdC8vIEFkZCByZXNwZWN0aXZlIGF0dHJpYnV0ZXMgdG8gc2VhcmNoIGJhciBub2RlLlxuXHRcdFx0Y29uc3Qgc2VhcmNoQXR0cmlidXRlcyA9IHtcblx0XHRcdFx0aWQ6IFwibW9kYWwtaW5wdXQtc2VhcmNoXCIsXG5cdFx0XHRcdHR5cGU6IFwic2VhcmNoXCIsXG5cdFx0XHRcdHBsYWNlaG9sZGVyOiBcIvCflI0gU2VhcmNoIGZvciBjb3VudHJpZXMuLi5cIixcblx0XHRcdFx0dGl0bGU6IFwiVHlwZSBpbiBhIGNvdW50cnkgbmFtZVwiLFxuXHRcdFx0XHRyb2xlOiBcInNlYXJjaFwiLFxuXHRcdFx0fTtcblxuXHRcdFx0Zm9yIChsZXQgaSBpbiBzZWFyY2hBdHRyaWJ1dGVzKSB7XG5cdFx0XHRcdG1vZGFsSW5wdXRTZWFyY2guc2V0QXR0cmlidXRlKGksIHNlYXJjaEF0dHJpYnV0ZXNbaV0pO1xuXHRcdFx0fVxuXG5cdFx0XHQvLyBGaWx0ZXIgY291bnRyaWVzIGJhc2VkIG9uIHZhbHVlIGFmdGVyIGVhY2gga2V5dXAgZXZlbnQgdXNpbmdcblx0XHRcdC8vIHRoZSBmaWx0ZXJSZXN1bHRzIGZuYy5cblx0XHRcdG1vZGFsSW5wdXRTZWFyY2guYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIGZpbHRlclJlc3VsdHMpO1xuXHRcdFx0bW9kYWxJbnB1dFNlYXJjaC5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcblx0XHRcdH0pO1xuXG5cdFx0XHQvLyBGaW5kIGN1cnJlbnQgY291bnRyeSBuYW1lIGFuZCBjb2RlLlxuXHRcdFx0Y29uc3QgY3VyckNvdW50cnlGbGFnID0gcmVuZGVyQ291bnRyeUZsYWcoXG5cdFx0XHRcdGN1cnJDb3VudHJ5Q29kZSxcblx0XHRcdFx0Y3VyckNvdW50cnlOYW1lXG5cdFx0XHQpO1xuXHRcdFx0Y3VyckNvdW50cnkudGV4dENvbnRlbnQgPSBjdXJyQ291bnRyeU5hbWU7XG5cblx0XHRcdC8vIEhhdmUgdGhlIGN1cnJlbnQgY291bnRyeSB3aXRoIGl0cyBmbGFnIGFzIGEgdGl0bGUgZm9yIHRoZSBtb2RhbC5cblx0XHRcdG1vZGFsQ3VycmVudENvdW50cnkuYXBwZW5kQ2hpbGQoY3VyckNvdW50cnlGbGFnKTtcblx0XHRcdG1vZGFsQ3VycmVudENvdW50cnkuYXBwZW5kQ2hpbGQoY3VyckNvdW50cnkpO1xuXG5cdFx0XHRzZWFyY2hMYWJlbC5odG1sRm9yID0gYCR7bW9kYWxJbnB1dFNlYXJjaC5pZH1gO1xuXG5cdFx0XHRbXG5cdFx0XHRcdGhlYWRpbmcsXG5cdFx0XHRcdG1vZGFsQ3VycmVudENvdW50cnksXG5cdFx0XHRcdHNlYXJjaExhYmVsLFxuXHRcdFx0XHRtb2RhbElucHV0U2VhcmNoLFxuXHRcdFx0XS5mb3JFYWNoKChmb3JtRWxlbSkgPT4ge1xuXHRcdFx0XHRtb2RhbEhlYWRlci5hcHBlbmRDaGlsZChmb3JtRWxlbSk7XG5cdFx0XHR9KTtcblx0XHR9O1xuXG5cdFx0LyoqXG5cdFx0ICogRm9yIGV2ZXJ5IGNvdW50cnkgd2hlcmUgYSB3YXRjaCBwcm92aWRlciBleGlzdHMgZm9yIHRoZSBtb3ZpZS9UVlxuXHRcdCAqIHNob3csIHJlbmRlciB0aGUgbmFtZSBhbmQgY291bnRyeSBmbGFnIGFzIGFuIG9wdGlvbiBpbiBhIGxpc3QgZm9ybWF0LlxuXHRcdCAqL1xuXHRcdGNvbnN0IHJlbmRlckJvZHkgPSAoKSA9PiB7XG5cdFx0XHRtb2RhbExpc3RDb3VudHJpZXMuaWQgPSBcImNvdW50cmllcy1saXN0XCI7XG5cblx0XHRcdE9iamVjdC5lbnRyaWVzKGNvdW50cmllcykuZm9yRWFjaCgoW2NvdW50cnksIGNvdW50cnlDb2RlXSkgPT4ge1xuXHRcdFx0XHRjb25zdCBjb3VudHJ5Q29udGFpbmVyID0gcmVuZGVyRWxlbWVudChcblx0XHRcdFx0XHRcImxpXCIsXG5cdFx0XHRcdFx0XCJjb3VudHJ5LWNvbnRhaW5lclwiXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGNvbnN0IGNvdW50cnlGbGFnID0gcmVuZGVyQ291bnRyeUZsYWcoY291bnRyeUNvZGUsIGNvdW50cnkpO1xuXHRcdFx0XHRjb25zdCBjb3VudHJ5TmFtZSA9IHJlbmRlckVsZW1lbnQoXCJhXCIsIFwiY291bnRyeS1uYW1lXCIpO1xuXG5cdFx0XHRcdGNvdW50cnlOYW1lLnRleHRDb250ZW50ID0gY291bnRyeTtcblx0XHRcdFx0Y291bnRyeU5hbWUuaHJlZiA9IFwiI1wiO1xuXG5cdFx0XHRcdFtjb3VudHJ5RmxhZywgY291bnRyeU5hbWVdLmZvckVhY2goKGNvdW50cnlFbGVtKSA9PiB7XG5cdFx0XHRcdFx0Y291bnRyeUNvbnRhaW5lci5hcHBlbmRDaGlsZChjb3VudHJ5RWxlbSk7XG5cdFx0XHRcdH0pO1xuXG5cdFx0XHRcdG1vZGFsTGlzdENvdW50cmllcy5hcHBlbmRDaGlsZChjb3VudHJ5Q29udGFpbmVyKTtcblx0XHRcdH0pO1xuXG5cdFx0XHRbbW9kYWxMaXN0Q291bnRyaWVzXS5mb3JFYWNoKChmb3JtRWxlbSkgPT4ge1xuXHRcdFx0XHRtb2RhbEJvZHkuYXBwZW5kQ2hpbGQoZm9ybUVsZW0pO1xuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdC8qKlxuXHRcdCAqIERyYXcgY2xvc2UgYnRuIHRoYXQgYXBwZWFycyB0b3AtcmlnaHQgb2YgZm9ybS5cblx0XHQgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjbG9zZUZuYyBGdW5jdGlvbiB0aGF0IGNsb3NlcyB0aGUgZm9ybS5cblx0XHQgKi9cblx0XHRjb25zdCByZW5kZXJDbG9zZUJ0biA9IChjbG9zZUZuYykgPT4ge1xuXHRcdFx0Y29uc3QgY2xvc2VTeW1iID0gcmVuZGVyRWxlbWVudChcImlcIiwgXCJmYVwiKTtcblx0XHRcdGNsb3NlU3ltYi5jbGFzc0xpc3QuYWRkKFwiZmEtY2xvc2VcIik7XG5cdFx0XHRtb2RhbENsb3NlQnRuLmFwcGVuZENoaWxkKGNsb3NlU3ltYik7XG5cdFx0XHRjbG9zZUZuYygpO1xuXHRcdH07XG5cdFx0Y29uc3QgYWRkQ2xvc2VGbmMgPSAoKSA9PiB7XG5cdFx0XHRtb2RhbENsb3NlQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuXHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0XHRcdGNvbnN0IGN1cnJlbnRGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihcblx0XHRcdFx0XHRcIi5tb2RhbC1jb3VudHJ5LWNvbnRhaW5lclwiXG5cdFx0XHRcdCk7XG5cdFx0XHRcdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZmFjZS1tYXNrXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblxuXHRcdFx0XHRzZXRUaW1lb3V0KHNldEludmlzaWJsZSwgMTAwKTsgLy8gZGVsYXkgZm9yIGFuaW1hdGlvbiB0byBoYXBwZW5cblx0XHRcdFx0ZnVuY3Rpb24gc2V0SW52aXNpYmxlKCkge1xuXHRcdFx0XHRcdGN1cnJlbnRGb3JtLnN0eWxlLnRyYW5zZm9ybSA9IFwidHJhbnNsYXRlWSgtMTI1JSlcIjtcblx0XHRcdFx0fVxuXHRcdFx0XHRzZXRUaW1lb3V0KHJlbW92ZU1vZGFsLCA3NTApOyAvLyBkZWxheSBmb3IgYW5pbWF0aW9uLlxuXHRcdFx0XHRmdW5jdGlvbiByZW1vdmVNb2RhbCgpIHtcblx0XHRcdFx0XHRjdXJyZW50Rm9ybS5zdHlsZS5vcGFjaXR5ID0gMDtcblx0XHRcdFx0XHRjdXJyZW50Rm9ybS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcblx0XHRcdFx0XHRjdXJyZW50Rm9ybS5yZW1vdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fSk7XG5cdFx0fTtcblxuXHRcdC8vIFJlbmRlciBzZWN0aW9ucyBvZiB0aGUgZm9ybSB0byB0aGVpciByZXNwZWN0aXZlIGNvbnRhaW5lcnMuXG5cdFx0cmVuZGVySGVhZGluZygpO1xuXHRcdHJlbmRlckJvZHkoKTtcblx0XHRyZW5kZXJDbG9zZUJ0bihhZGRDbG9zZUZuYyk7XG5cblx0XHQvLyBBZGQgZWFjaCBob3VzaW5nIGNvbnRhaW5lciB0byB0aGUgb3ZlcmFsbCBtb2RhbCBjb250YWluZXIuXG5cdFx0W21vZGFsSGVhZGVyLCBtb2RhbEJvZHksIG1vZGFsQ2xvc2VCdG5dLmZvckVhY2goKG1vZGFsRWxlbSkgPT5cblx0XHRcdG1vZGFsQ29udGFpbmVyLmFwcGVuZENoaWxkKG1vZGFsRWxlbSlcblx0XHQpO1xuXG5cdFx0c2V0VGltZW91dChtYWtlVmlzaWJsZSwgMTAwKTsgLy8gZGVsYXkgZm9yIGFuaW1hdGlvbi5cblxuXHRcdGZ1bmN0aW9uIG1ha2VWaXNpYmxlKCkge1xuXHRcdFx0Ly8gU2V0IHN0eWxpbmcgdG8gdmlzaWJsZSBmb3IgYW5pbWF0aW9uIGZhZGUgaW4gZWZmZWN0LlxuXHRcdFx0bW9kYWxDb250YWluZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwidmlzaWJsZVwiO1xuXHRcdFx0bW9kYWxDb250YWluZXIuc3R5bGUub3BhY2l0eSA9IDE7XG5cdFx0XHRtb2RhbENvbnRhaW5lci5zdHlsZS50cmFuc2Zvcm0gPSBcInRyYW5zbGF0ZVkoMCUpXCI7XG5cdFx0fVxuXG5cdFx0Y29uc3QgYm9keURvY3VtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJvZHlcIik7XG5cdFx0Ym9keURvY3VtZW50LmFwcGVuZChtb2RhbENvbnRhaW5lcik7XG5cdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5mYWNlLW1hc2tcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcblxuXHRcdC8qKlxuXHRcdCAqIFxuXHRcdCAqIEBwYXJhbSB7U3RyaW5nfSBjb3VudHJ5Q29kZSAgQ291bnRyeSBjb2RlIGluIGEgMiBsZXR0ZXIgZm9ybWF0LlxuXHRcdCAqIFx0XHRcdFx0XHRcdFx0XHRlLmcuIFwiQVVcIlxuXHRcdCAqIEBwYXJhbSB7Kn0gY291bnRyeU5hbWUgXHRcdEZ1bGwgY291bnRyeSBuYW1lIGkuZS4gXCJBdXN0cmFsaWFcIlxuXHRcdCAqIEByZXR1cm5zIHtOb2RlfVx0XHRcdFx0SW1nIE5vZGUgd2l0aCBmbGFnLlxuXHRcdCAqL1xuXHRcdGZ1bmN0aW9uIHJlbmRlckNvdW50cnlGbGFnKGNvdW50cnlDb2RlLCBjb3VudHJ5TmFtZSkge1xuXHRcdFx0Y29uc3QgZmxhZyA9IHJlbmRlckVsZW1lbnQoXCJpbWdcIiwgXCJjb3VudHJ5LWZsYWdcIik7XG5cdFx0XHQvLyBmbGFnLnNldEF0dHJpYnV0ZShcImNyb3Nzb3JpZ2luXCIsIFwiYW5vbnltb3VzXCIpO1xuXHRcdFx0dHJ5IHtcblx0XHRcdFx0ZmxhZy5zcmMgPSBgaHR0cHM6Ly9mbGFnc2FwaS5jb20vJHtwcm92aWRlcnNbY291bnRyeU5hbWVdXG5cdFx0XHRcdFx0XHRcdC5jb3VudHJ5Q29kZX0vc2hpbnkvNjQucG5nYDtcblx0XHRcdH0gY2F0Y2goZXJyb3IpIHtcblx0XHRcdFx0Y29uc29sZS5lcnJvcihgRmFpbGVkIHRvIHJldHJpZXZlIGZsYWcgZm9yOiAke2NvdW50cnlOYW1lfWApO1xuXHRcdFx0fVxuXHRcdFx0ZmxhZy5hbHQgPSBgJHtjb3VudHJ5TmFtZX0gZmxhZ2A7XG5cdFx0XHRyZXR1cm4gZmxhZztcblx0XHR9XG5cblx0XHQvKipcblx0XHQgKiBGaWx0ZXIgY291bnRyeSBuYW1lcyBiYXNlZCBvbiB0aGUgdmFsdWUgb2YgdGhlIHNlYXJjaCBiYXIgaW4gdGhlIFxuXHRcdCAqIGZvcm0gbW9kYWwuXG5cdFx0ICovXG5cdFx0ZnVuY3Rpb24gZmlsdGVyUmVzdWx0cygpIHtcblx0XHRcdGxldCBpbnB1dCwgZmlsdGVyLCB1bCwgbGksIGEsIGksIHR4dFZhbHVlO1xuXHRcdFx0aW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1vZGFsLWlucHV0LXNlYXJjaFwiKTtcblx0XHRcdGZpbHRlciA9IGlucHV0LnZhbHVlLnRvVXBwZXJDYXNlKCk7XG5cdFx0XHR1bCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY291bnRyaWVzLWxpc3RcIik7XG5cdFx0XHRsaSA9IHVsLmdldEVsZW1lbnRzQnlUYWdOYW1lKFwibGlcIik7XG5cblx0XHRcdC8vIExvZ2ljIHRoYXQgZmlsdGVycyB0aGUgY291bnRyaWVzIGJhc2VkIG9uIGlucHV0LlxuXHRcdFx0Zm9yIChpID0gMDsgaSA8IGxpLmxlbmd0aDsgaSsrKSB7XG5cblx0XHRcdFx0Ly8gU3BlY2lmaWMgY291bnRyeSBpZGVudGlmaWVkIGluIHRoZSBpdGVyYXRpb24uXG5cdFx0XHRcdGEgPSBsaVtpXS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIilbMF07XG5cdFx0XHRcdHR4dFZhbHVlID0gYS50ZXh0Q29udGVudCB8fCBhLmlubmVyVGV4dDtcblxuXHRcdFx0XHQvLyBBdHRlbXB0cyB0byBmaW5kIHRoZSB0ZXh0IHZhbHVlIG9mIHRoZSBzZWFyY2gncyB2YWx1ZS4gSWZcblx0XHRcdFx0Ly8gZm91bmQsIGRvbid0IGNoYW5nZSBkaXNwbGF5IHN0eWxpbmcuIE90aGVyd2lzZSwgc2V0IHRoZVxuXHRcdFx0XHQvLyBkaXNwbGF5IG9mIHRoZSBjb3VudHJ5LWNvbnRhaW5lciB0byBub25lLlxuXHRcdFx0XHRpZiAodHh0VmFsdWUudG9VcHBlckNhc2UoKS5pbmRleE9mKGZpbHRlcikgPiAtMSkge1xuXHRcdFx0XHRcdGxpW2ldLnN0eWxlLmRpc3BsYXkgPSBcIlwiO1xuXHRcdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRcdGxpW2ldLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdH1cblx0fVxuXG5cdC8qKlxuXHQgKiBTaW1pbGlhciBsb2dpYyB0byBmaWx0ZXJSZXN1bHRzKCkuXG5cdCAqIEZ1bmN0aW9uIGF0dGVtcHRzIHRvIGZpbmQgdGhlIHNwZWNpZmljIGNvdW50cnkgYmFzZWQgb24gY291bnRyeU5hbWUgcGFyYW1cblx0ICogLiBJZiBmb3VuZCwgaGlnaGxpZ2h0IHRoZSBzcGVjaWZpZWQgY291bnRyeSdzIGFwcGVhcmFuY2UgaW4gdGhlIG1vZGFsLlxuXHQgKiBAcGFyYW0ge1N0cmluZ30gY291bnRyeU5hbWUgRnVsbCBjb3VudHJ5IG5hbWUgZS5nLiBcIkF1c3RyYWxpYVwiXG5cdCAqL1xuXHRmdW5jdGlvbiBoaWdobGlnaHRDdXJyQ291bnRyeShjb3VudHJ5TmFtZSkge1xuXHRcdC8vIEhpZ2hsaWdodCBzZWxlY3RlZCBjdXJyZW50IGNvdW50cnkgaW4gdGhlIGxpc3Qgb2YgY291bnRyaWVzIHdoZW5cblx0XHQvLyBtb2RhbCBpcyBvcGVuZWQuIEFkZCBhIHRpY2sgaWNvbiBzaW11bHRhbmVvdXNseVxuXG5cdFx0bGV0IHVsLCBsaSwgaSwgYSwgdHh0VmFsdWU7XG5cdFx0dWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvdW50cmllcy1saXN0XCIpO1xuXHRcdGxpID0gdWwuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJsaVwiKTtcblx0XHRmb3IgKGkgPSAwOyBpIDwgbGkubGVuZ3RoOyBpKyspIHtcblx0XHRcdGEgPSBsaVtpXS5nZXRFbGVtZW50c0J5VGFnTmFtZShcImFcIilbMF07XG5cdFx0XHR0eHRWYWx1ZSA9IGEudGV4dENvbnRlbnQgfHwgYS5pbm5lclRleHQ7XG5cblx0XHRcdC8vIENvbmRpdGlvbiB0aGF0IG1hdGNoZXMgdGhlIHRleHQgdmFsdWUgYW5kIGl0cyBjb3VudHJ5IG5hbWUuXG5cdFx0XHQvLyBJZiBtZXQsIGNoYW5nZSBzdHlsaW5nIHRvIGhpZ2hsaWdodC5cblx0XHRcdGlmICh0eHRWYWx1ZSA9PT0gY291bnRyeU5hbWUpIHtcblx0XHRcdFx0bGlbaV0uc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZ2JhKDI1LCAxNTAsIDE1MCwgMC41KVwiO1xuXHRcdFx0XHRsaVtpXS5zdHlsZS50cmFuc2Zvcm0gPSBcInNjYWxlKDEuMDI1KVwiO1xuXG5cdFx0XHRcdC8vIEFkZCB0aWNrIGljb24gdG8gc2VsZWN0ZWQgY291bnRyeS1jb250YWluZXJcblx0XHRcdFx0Y29uc3QgdGlja0ljb24gPSByZW5kZXJFbGVtZW50KFwiaVwiLCBcImZhXCIpO1xuXHRcdFx0XHR0aWNrSWNvbi5jbGFzc0xpc3QuYWRkKFwiZmEtY2hlY2tcIik7XG5cdFx0XHRcdGxpW2ldLmFwcGVuZCh0aWNrSWNvbik7XG5cdFx0XHR9XG5cdFx0fVxuXHR9XG5cdHJldHVybiB7XG5cdFx0c2VjdGlvbixcblx0XHRhZGRUb1NlY3Rpb24sXG5cdFx0ZHJhd0FsbCxcblx0XHRkcmF3SW50cm8sXG5cdFx0ZHJhd1N1YkluZm9zLFxuXHRcdGRyYXdTdW1tYXJ5SGVhZGluZyxcblx0XHRkcmF3U3VtbWFyeSxcblx0XHRkcmF3UHJvdmlkZXJzLFxuXHRcdGRyYXdSZXZpZXdzLFxuXHRcdGRyYXdUcmFpbGVyLFxuXHRcdGRyYXdSZWNzLFxuXHR9O1xufTtcblxuZXhwb3J0IHsgZHJhd1NlY3Rpb24gfTtcbiIsImltcG9ydCBjb2xsZWN0U2VhcmNoUXVlcnkgZnJvbSBcIi4vc2VhcmNoXCI7XG5pbXBvcnQgeyBmZXRjaElkcyB9IGZyb20gXCIuLi9hcGlGdW5jdGlvbnMvZmV0Y2hJZFwiO1xuaW1wb3J0ICogYXMgbW92aWUgZnJvbSBcIi4uL2FwaUZ1bmN0aW9ucy9mZXRjaE1vdmllSW5mb1wiO1xuaW1wb3J0IHsgZHJhd1NlY3Rpb24gfSBmcm9tIFwiLi9kcmF3U2VjdGlvblwiO1xuXG5hc3luYyBmdW5jdGlvbiBkcmF3U2VjdGlvbnModGl0bGUpIHtcblx0Y29uc3QgaWRzID0gYXdhaXQgZmV0Y2hJZHModGl0bGUpO1xuXHRjb25zdCBtYWluID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvbnRhaW5lclwiKTtcblx0c2hvd0xvYWRlcigpO1xuXG5cdGxldCBzZWN0aW9ucyA9IFtdO1xuXG5cdC8vIE1ha2UgYW4gYXJyIHcvIGVsZW1zIG9mIFtpZCwgbWVkaWFdXG5cdGZvciAobGV0IGlkIGluIGlkcykge1xuXHRcdHNlY3Rpb25zLnB1c2goW2lkLCBpZHNbaWRdXSk7XG5cdH1cblxuXHRjb25zdCBvYnNlcnZlciA9IG5ldyBJbnRlcnNlY3Rpb25PYnNlcnZlcigoZW50cmllcykgPT4ge1xuXHRcdGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcblx0XHRcdGlmIChlbnRyeS5pc0ludGVyc2VjdGluZykge1xuXHRcdFx0XHRlbnRyeS50YXJnZXQuY2xhc3NMaXN0LmFkZChcInNob3dcIik7XG5cdFx0XHR9IGVsc2Uge1xuXHRcdFx0XHRyZXR1cm47XG5cdFx0XHR9XG5cdFx0fSk7XG5cdH0pO1xuXG5cdFxuXHQvLyBkcmF3IGFsbCBzZWN0aW9uc1xuXHRzZWN0aW9ucy5mb3JFYWNoKGFzeW5jIChzZWN0aW9uKSA9PiB7XG5cdFx0YXdhaXQgcmVuZGVyU2VjdGlvbihzZWN0aW9uWzBdLCBzZWN0aW9uWzFdKS50aGVuKCgpID0+IGhpZGVMb2FkZXIoKSk7XG5cblx0XHQvLyBFbmFibGUgYW5pbWF0aW9uIGlmIGFuaW1hdGlvbi1jaGVjayBjaGVja2JveCBpcyBjaGVja2VkLlxuXHRcdGNvbnN0IGFuaW1hdGlvbkNoZWNrID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjaGVjay1hbmltYXRpb25cIik7XG5cdFx0aWYgKGFuaW1hdGlvbkNoZWNrLmNoZWNrZWQpIHtcblx0XHRcdGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoXCJkaXZcIik7XG5cdFx0XHRbLi4uZWxlbWVudHNdLmZvckVhY2goKGVsKSA9PiB7XG5cdFx0XHRcdGVsLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XG5cdFx0XHRcdG9ic2VydmVyLm9ic2VydmUoZWwpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcblxuXHRkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImlucHV0LXNlYXJjaFwiKS52YWx1ZSA9IHRpdGxlLnNwbGl0KFwiK1wiKS5qb2luKFwiIFwiKTtcblxuXHRhc3luYyBmdW5jdGlvbiByZW5kZXJTZWN0aW9uKGlkLCBtZWRpYSkge1xuXHRcdGNvbnN0IHNlY3Rpb24gPSBhd2FpdCBkcmF3U2VjdGlvbihpZCwgbWVkaWEpO1xuXG5cdFx0Ly8gQWRkIHdyYXBwZXIgZGl2cyBmb3IgbGF5b3V0LlxuXHRcdGNvbnN0IGludHJvU3ViSW5mbyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG5cdFx0aW50cm9TdWJJbmZvLmNsYXNzTGlzdC5hZGQoXCJpbnRyby1zdWItaW5mb1wiKTtcblx0XHRpbnRyb1N1YkluZm8uYXBwZW5kQ2hpbGQoc2VjdGlvbi5kcmF3SW50cm8oXCIzMDBcIikpO1xuXHRcdGludHJvU3ViSW5mby5hcHBlbmRDaGlsZChzZWN0aW9uLmRyYXdTdWJJbmZvcygpKTtcblxuXHRcdGNvbnN0IHN5bm9wc2lzV2F0Y2hQdmRlcnMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuXHRcdHN5bm9wc2lzV2F0Y2hQdmRlcnMuY2xhc3NMaXN0LmFkZChcInN5bm9wc2lzLXdhdGNoLXByb3ZpZGVyc1wiKTtcblx0XHRzeW5vcHNpc1dhdGNoUHZkZXJzLmFwcGVuZENoaWxkKHNlY3Rpb24uZHJhd1N1bW1hcnlIZWFkaW5nKCkpO1xuXHRcdHN5bm9wc2lzV2F0Y2hQdmRlcnMuYXBwZW5kQ2hpbGQoc2VjdGlvbi5kcmF3U3VtbWFyeSgpKTtcblx0XHRzeW5vcHNpc1dhdGNoUHZkZXJzLmFwcGVuZENoaWxkKHNlY3Rpb24uZHJhd1Byb3ZpZGVycygpKTtcblxuXHRcdGNvbnN0IHJlY0hlYWRpbmcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaDJcIik7XG5cdFx0cmVjSGVhZGluZy5jbGFzc0xpc3QuYWRkKFwicmVjLWhlYWRpbmdcIik7XG5cdFx0cmVjSGVhZGluZy50ZXh0Q29udGVudCA9IFwiUkVDT01NRU5EQVRJT05TOlwiO1xuXG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oaW50cm9TdWJJbmZvKTtcblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihzeW5vcHNpc1dhdGNoUHZkZXJzKTtcblx0XHRzZWN0aW9uLmFkZFRvU2VjdGlvbihzZWN0aW9uLmRyYXdSZXZpZXdzKCkpO1xuXHRcdHNlY3Rpb24uYWRkVG9TZWN0aW9uKHNlY3Rpb24uZHJhd1RyYWlsZXIoKSk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24ocmVjSGVhZGluZyk7XG5cdFx0c2VjdGlvbi5hZGRUb1NlY3Rpb24oc2VjdGlvbi5kcmF3UmVjcygpKTtcblx0XHRtYWluLmFwcGVuZENoaWxkKHNlY3Rpb24uc2VjdGlvbik7XG5cdH1cbn1cblxuZnVuY3Rpb24gY2xlYXJTZWN0aW9ucygpIHtcblx0Y29uc3QgbWFpbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb250YWluZXJcIik7XG5cdGNvbnN0IHNlY3Rpb25zID0gbWFpbi5nZXRFbGVtZW50c0J5VGFnTmFtZSgnc2VjdGlvbicpO1xuXHRbLi4uc2VjdGlvbnNdLmZvckVhY2goc2VjdCA9PiBzZWN0LnJlbW92ZSgpKTtcbn1cblxuZnVuY3Rpb24gc2hvd0xvYWRlcigpIHtcblx0Y29uc3QgbG9hZGVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5sb2FkZXJcIik7XG5cdGxvYWRlci5zdHlsZS52aXNpYmlsaXR5ID0gXCJ2aXNpYmxlXCI7XG59XG5mdW5jdGlvbiBoaWRlTG9hZGVyKCkge1xuXHRjb25zdCBsb2FkZXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmxvYWRlclwiKTtcblxuXHRsb2FkZXIuc3R5bGUudmlzaWJpbGl0eSA9IFwiaGlkZGVuXCI7XG59XG5cbmV4cG9ydCB7IGRyYXdTZWN0aW9ucywgY2xlYXJTZWN0aW9ucyB9O1xuIiwiaW1wb3J0IHsgQVBJX0tFWSB9IGZyb20gXCIuL2NvbnN0YW50XCI7XG4vKipcbiAqIEZldGNoZXMgdGhlIGZpcnN0IHBhZ2Ugb2YgdGhlIG1vdmllL3Nob3cgaWRzIGFuZCByZXR1cm5zIGl0IGFzIGFuIG9iamVjdCB3aXRoXG4gKiB0aGUgbW92aWUvdHYgc2hvdyBpZCBhbmQgaXQncyBtZWRpYSB0eXBlIGFzIGtleS12YWx1ZSBwYWlycy5cbiAqIEBwYXJhbSB7U3RyaW5nfSBcdG5hbWVcdFRoZSBzcGVjaWZpYyBuYW1lIG9mIHRoZSBtb3ZpZS9UViBzaG93LlxuICogQHJldHVybiB7T2JqZWN0fVx0XHRcdFRoZSBsaXN0IG9mIGlkcyBhbmQgdGhlaXIgcmVzcGVjdGl2ZSBtZWRpYSB0eXBlIGFzXG4gKiBcdFx0XHRcdFx0XHRcdGtleS12YWx1ZSBwYWlycy5cbiAqL1xuYXN5bmMgZnVuY3Rpb24gZmV0Y2hJZHMobmFtZSkge1xuXHRjb25zdCBxdWVyeSA9IGludGVycHJldFRvUXVlcnkobmFtZSk7XG5cdHRyeSB7XG5cdFx0Y29uc3QgcmVzcG9uc2UgPSBhd2FpdCBmZXRjaChcblx0XHRcdGBodHRwczovL2FwaS50aGVtb3ZpZWRiLm9yZy8zL3NlYXJjaC9tdWx0aT9hcGlfa2V5PSR7QVBJX0tFWX1cblx0XHRcdCZsYW5ndWFnZT1lbi1VUyZxdWVyeT0ke3F1ZXJ5fSZwYWdlPTFgLFxuXHRcdFx0eyBtb2RlOiBcImNvcnNcIiB9XG5cdFx0KTtcblx0XHRjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuXHRcdGxldCBpZHMgPSBkYXRhLnJlc3VsdHMucmVkdWNlKChhY2MsIHJlc3VsdCkgPT4ge1xuXHRcdFx0YWNjW3Jlc3VsdC5pZF0gPSByZXN1bHQubWVkaWFfdHlwZTtcblx0XHRcdHJldHVybiBhY2M7XG5cdFx0fSwge30pO1xuXG5cdFx0Ly8gU29ydCBtb3ZpZS9zaG93IGJ5IHBvcHVsYXJpdHkuXG5cdFx0bGV0IHJlc3VsdCA9IGRhdGEucmVzdWx0cy5zb3J0KFxuXHRcdFx0KHAxLCBwMikgPT4gcDIucG9wdWxhcml0eSAtIHAxLnBvcHVsYXJpdHlcblx0XHQpO1xuXG5cdFx0aWYgKHJlc3VsdC5sZW5ndGgpIHtcblx0XHRcdHJldHVybiBpZHM7XG5cdFx0fSBlbHNlIHtcblx0XHRcdGFsZXJ0KFxuXHRcdFx0XHRgTm8gcmVzdWx0cyBmb3VuZCBmb3IgXCIke25hbWV9XCIuXFxuUGxlYXNlIGNoZWNrIHlvdXIgc3BlbGxpbmcuYFxuXHRcdFx0KTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cdH0gY2F0Y2ggKGVycikge1xuXHRcdHRocm93IGVycjtcblx0fVxufVxuXG5mdW5jdGlvbiBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIrXCIpO1xufVxuXG5leHBvcnQgeyBmZXRjaElkcyB9O1xuIiwiLy8gQWRkIGNsaWNrIGV2ZW50IGxpc3RlbmVyIGZvciBjaGVja2JveCB0aGF0IGF1dG9tYXRpY2FsbHkgZGlzYWJsZXMgYW5pbWF0aW9uXG4vLyBhbmQgcmVsb2FkcyB0aGUgcGFnZS5cbmNvbnN0IG9ic2VydmVyID0gbmV3IEludGVyc2VjdGlvbk9ic2VydmVyKChlbnRyaWVzKSA9PiB7XG5cdGVudHJpZXMuZm9yRWFjaCgoZW50cnkpID0+IHtcblx0XHRpZiAoZW50cnkuaXNJbnRlcnNlY3RpbmcpIHtcblx0XHRcdGVudHJ5LnRhcmdldC5jbGFzc0xpc3QuYWRkKFwic2hvd1wiKTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0cmV0dXJuO1xuXHRcdH1cblx0fSk7XG59KTtcblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gYWRkVG9nZ2xlQW5pbWF0aW9uRm5jKCkge1xuXHRjb25zdCBhbmltYXRpb25DaGVjayA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2hlY2stYW5pbWF0aW9uXCIpO1xuXHRhbmltYXRpb25DaGVjay5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuXHRcdGNvbnN0IGVsZW1lbnRzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcImRpdlwiKTtcblx0XHRpZiAoYW5pbWF0aW9uQ2hlY2suY2hlY2tlZCkge1xuXHRcdFx0ZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0ZWwuY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcblx0XHRcdFx0b2JzZXJ2ZXIub2JzZXJ2ZShlbCk7XG5cdFx0XHR9KTtcblx0XHR9IGVsc2Uge1xuXHRcdFx0ZWxlbWVudHMuZm9yRWFjaCgoZWwpID0+IHtcblx0XHRcdFx0ZWwuY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcblx0XHRcdFx0b2JzZXJ2ZXIuZGlzY29ubmVjdCgpO1xuXHRcdFx0fSk7XG5cdFx0fVxuXHR9KTtcbn1cbiIsImltcG9ydCB7IGRyYXdTZWN0aW9ucywgY2xlYXJTZWN0aW9ucyB9IGZyb20gXCIuLi9ET01GdW5jdGlvbnMvZHJhd1NlY3Rpb25zXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGFzeW5jIGZ1bmN0aW9uIGFkZFN1Ym1pdFNlYXJjaEZuYygpIHtcblx0Y29uc3Qgc2VhcmNoQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5zZWFyY2gtcXVlcnlcIik7XG5cdHNlYXJjaEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYXN5bmMgKGUpID0+IHtcblx0XHRlLnByZXZlbnREZWZhdWx0KCk7XG5cdFx0Y29uc3QgcXVlcnkgPSBpbnRlcnByZXRUb1F1ZXJ5KFxuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJpbnB1dC1zZWFyY2hcIikudmFsdWVcblx0XHQpO1xuXHRcdGlmICghcXVlcnkpIHtcblx0XHRcdGFsZXJ0KFwiUGxlYXNlIGVudGVyIGEgdmFsaWQgbW92aWUvdHYgc2hvd1wiKTtcblx0XHRcdHJldHVybjtcblx0XHR9XG5cblx0XHQvLyBSZW1vdmUgdGl0bGUgcGFnZXMgZWxlbXMgaWYgYW55LlxuXHRcdGlmKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwidGl0bGUtcGFnZVwiKSkge1xuXHRcdFx0ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJ0aXRsZS1wYWdlXCIpLnJlbW92ZSgpO1xuXHRcdH1cblxuXHRcdGlmKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuaW50cm8tY29udGFpbmVyMlwiKSkge1xuXHRcdFx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5pbnRyby1jb250YWluZXIyXCIpLnJlbW92ZSgpO1xuXHRcdH1cblxuXHRcdGNsZWFyU2VjdGlvbnMoKTtcblx0XHRhd2FpdCBkcmF3U2VjdGlvbnMocXVlcnkpO1xuXG5cdH0pO1xufVxuXG5mdW5jdGlvbiBpbnRlcnByZXRUb1F1ZXJ5KG5hbWUpIHtcblx0cmV0dXJuIG5hbWUuc3BsaXQoXCIgXCIpLmpvaW4oXCIrXCIpO1xufVxuIiwiaW1wb3J0IHsgZHJhd1NlY3Rpb25zIH0gZnJvbSBcIi4vanMvRE9NRnVuY3Rpb25zL2RyYXdTZWN0aW9uc1wiO1xuaW1wb3J0IGFkZFRvZ2dsZUFuaW1hdGlvbkZuYyBmcm9tIFwiLi9qcy9VSS9jaGVja0FuaW1hdGlvblwiO1xuaW1wb3J0IGFkZFN1Ym1pdFNlYXJjaEZuYyBmcm9tIFwiLi9qcy9VSS9zdWJtaXRTZWFyY2hcIjtcblxuaW5pdGlhbGlzZVBhZ2UoKTtcbmRyYXdTZWN0aW9ucyhcIkdhbWUgT2YgVGhyb25lc1wiKTtcblxuZnVuY3Rpb24gaW5pdGlhbGlzZVBhZ2UoKSB7XG4gICAgYWRkU3VibWl0U2VhcmNoRm5jKCk7XG4gICAgYWRkVG9nZ2xlQW5pbWF0aW9uRm5jKCk7XG59XG5cblxuXG4iXSwibmFtZXMiOlsiQVBJX0tFWSIsImFzeW5jIiwiZmV0Y2hNb3ZpZURldGFpbHMiLCJtb3ZpZV9pZCIsInJlc3BvbnNlIiwiZmV0Y2giLCJtb2RlIiwib3JpZ2luYWxfdGl0bGUiLCJvdmVydmlldyIsInRhZ2xpbmUiLCJwb3B1bGFyaXR5Iiwidm90ZV9hdmVyYWdlIiwidm90ZV9jb3VudCIsImdlbnJlcyIsInZpZGVvIiwicnVudGltZSIsInBvc3Rlcl9wYXRoIiwiYmFja2Ryb3BfcGF0aCIsInJlbGVhc2VfZGF0ZSIsImpzb24iLCJtTmFtZSIsInN1bW1hcnkiLCJtYXAiLCJnZW5yZSIsIm5hbWUiLCJlcnJvciIsImNvbnNvbGUiLCJtZXNzYWdlIiwiZmV0Y2hNb3ZpZVJlY2NvcyIsIm9rIiwiRXJyb3IiLCJyZXN1bHRzIiwic2xpY2UiLCJtb3ZpZSIsImlkIiwiZmV0Y2hNb3ZpZVByb3ZpZGVycyIsInByb3ZpZGVyc0J5Q291bnRyeSIsImRhdGEiLCJjb3VudHJ5Q29kZSIsImNvdW50cnkiLCJjb2RlIiwiSW50bCIsIkRpc3BsYXlOYW1lcyIsInR5cGUiLCJvZiIsInN0cmVhbSIsInJlbnQiLCJidXkiLCJzb3J0UHJvdmlkZXJzIiwic2VydmljZXMiLCJjb2xsZWN0aW9uIiwiZm9yRWFjaCIsInNlcnZpY2UiLCJwcm92aWRlckluZm8iLCJwcm92aWRlcl9uYW1lIiwicHJvdmlkZXJfbG9nb19wYXRoIiwibG9nb19wYXRoIiwicHVzaCIsImZsYXRyYXRlIiwiZXJyb3JvciIsImZldGNoTW92aWVUcmFpbGVyIiwidHJhaWxlcnMiLCJmaWx0ZXIiLCJsZW5ndGgiLCJtb3ZpZVRyYWlsZXIiLCJmaW5kIiwib2ZmaWNpYWwiLCJ0TmFtZSIsImtleSIsInNpdGUiLCJsYW5nIiwiaXNvXzYzOV8xIiwiZmV0Y2hNb3ZpZVJldmlld3MiLCJyZXZpZXdzIiwicmV2aWV3IiwiYXV0aG9yIiwicmF0aW5nIiwiYXV0aG9yX2RldGFpbHMiLCJwaWNfcGF0aCIsImF2YXRhcl9wYXRoIiwiY29udGVudCIsInVybCIsImxhc3RfdXBkYXRlZCIsInVwZGF0ZWRfYXQiLCJmZXRjaFR2RGV0YWlscyIsInR2X2lkIiwicmVkdWNlIiwiYWNjIiwidmFsIiwib3JpZ2luYWxfbmFtZSIsImxhbmd1YWdlIiwib3JpZ2luYWxfbGFuZ3VhZ2UiLCJlcGlzb2RlX3J1bl90aW1lIiwib3JpZ2luX2NvdW50cnkiLCJzdGF0dXMiLCJzZWFzb25zIiwibnVtYmVyX29mX3NlYXNvbnMiLCJmaXJzdF9haXJfZGF0ZSIsImxhc3RfYWlyX2RhdGUiLCJmZXRjaFR2UmVjY29zIiwicmVjVHZzIiwidHYiLCJmZXRjaFR2UHJvdmlkZXJzIiwiZmV0Y2hUdlRyYWlsZXIiLCJ0dlRyYWlsZXIiLCJmZXRjaFR2UmV2aWV3cyIsImRyYXdTZWN0aW9uIiwibWVkaWEiLCJzZWN0aW9uIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiZGV0YWlscyIsImdldEluZm8iLCJyZWNzIiwicHJvdmlkZXJzIiwidHJhaWxlciIsImFkZFRvU2VjdGlvbiIsImluZm8iLCJhcHBlbmRDaGlsZCIsInJlbmRlckVsZW1lbnQiLCJ0YWciLCJjbGFzc05hbWUiLCJjb250YWluZXIiLCJjbGFzc0xpc3QiLCJhZGQiLCJtb3ZpZUZuYyIsInR2Rm5jIiwiZHJhd0ludHJvIiwiaW1nU2l6ZSIsImludHJvQ29udGFpbmVyIiwidGl0bGUiLCJ0ZXh0Q29udGVudCIsImNyZWF0ZVRpdGxlIiwidGFnUGFyYSIsIndyaXRlVGFnbGluZSIsImltZyIsInBvc3RlciIsImJhc2VJbWdVcmwiLCJpbWdQYXRoIiwic3JjIiwiYWx0Iiwic2V0QXR0cmlidXRlIiwicmVuZGVySW1nIiwiZHJhd1JlYyIsInJlYyIsInJlY0NvbnRhaW5lciIsInJlY1Bvc3RlciIsInN1YkluZm8iLCJyZWNOYW1lIiwicmVjRGF0ZSIsInZvdGVDb3VudCIsInZvdGVBdmciLCJyZW5kZXJJbmZvIiwicmVjTGluayIsIm1lZGlhVHlwZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJlIiwicHJldmVudERlZmF1bHQiLCJkcmF3QWxsIiwiZHJhd1N1YkluZm9zIiwiZGF0ZSIsImxhc3RBaXJlZCIsImNyZWF0ZVN1YkluZm8iLCJzcGxpdCIsInJldmVyc2UiLCJqb2luIiwibWlucyIsImhvdXJzIiwickhvdXJzIiwiTWF0aCIsImZsb29yIiwibWludXRlcyIsInJvdW5kIiwiY29udmVydE1pblRvSHIiLCJjYXRlZ29yeSIsImNhdGVnb3J5TmFtZSIsImNhdGVnb3J5SW5mbyIsImRyYXdTdW1tYXJ5SGVhZGluZyIsImhlYWRpbmciLCJkcmF3U3VtbWFyeSIsInBhcmEiLCJkcmF3UHJvdmlkZXJzIiwiYXZhaWxQcm92aWRlcnMiLCJwcm92aWRlckNvbnRhaW5lciIsImNvdW50cnlCdG4iLCJob3VzZUNvbnRhaW5lciIsImVsZW0iLCJPYmplY3QiLCJrZXlzIiwiaW5jbHVkZXMiLCJmbGFnIiwiZHJhd1Byb3ZpZGVyIiwiZmlyc3RQcm92aWRlciIsImxvZyIsImxvc3RHaWYiLCJzdHlsZSIsImRpc3BsYXkiLCJqdXN0aWZ5Q29udGVudCIsImRvd25BcnJvdyIsImN1cnJDb3VudHJ5TmFtZSIsInByb3ZpZGVyQ291bnRyaWVzIiwiY3VyckNvdW50cnlDb2RlIiwiY291bnRyaWVzIiwibW9kYWxDb250YWluZXIiLCJtb2RhbEhlYWRlciIsIm1vZGFsQm9keSIsIm1vZGFsQ3VycmVudENvdW50cnkiLCJtb2RhbElucHV0U2VhcmNoIiwibW9kYWxMaXN0Q291bnRyaWVzIiwibW9kYWxDbG9zZUJ0biIsInJlbmRlckNvdW50cnlGbGFnIiwiY291bnRyeU5hbWUiLCJmaWx0ZXJSZXN1bHRzIiwiaW5wdXQiLCJ1bCIsImxpIiwiYSIsImkiLCJ0eHRWYWx1ZSIsImdldEVsZW1lbnRCeUlkIiwidmFsdWUiLCJ0b1VwcGVyQ2FzZSIsImdldEVsZW1lbnRzQnlUYWdOYW1lIiwiaW5uZXJUZXh0IiwiaW5kZXhPZiIsImN1cnJDb3VudHJ5Iiwic2VhcmNoTGFiZWwiLCJzZWFyY2hBdHRyaWJ1dGVzIiwicGxhY2Vob2xkZXIiLCJyb2xlIiwiY3VyckNvdW50cnlGbGFnIiwiaHRtbEZvciIsImZvcm1FbGVtIiwicmVuZGVySGVhZGluZyIsImVudHJpZXMiLCJjb3VudHJ5Q29udGFpbmVyIiwiY291bnRyeUZsYWciLCJocmVmIiwiY291bnRyeUVsZW0iLCJjbG9zZUZuYyIsImNsb3NlU3ltYiIsInJlbmRlckNsb3NlQnRuIiwiY3VycmVudEZvcm0iLCJxdWVyeVNlbGVjdG9yIiwic2V0VGltZW91dCIsInRyYW5zZm9ybSIsIm9wYWNpdHkiLCJ2aXNpYmlsaXR5IiwicmVtb3ZlIiwibW9kYWxFbGVtIiwiYXBwZW5kIiwicmVuZGVyQ291bnRyaWVzTW9kYWwiLCJiYWNrZ3JvdW5kQ29sb3IiLCJ0aWNrSWNvbiIsImhpZ2hsaWdodEN1cnJDb3VudHJ5IiwiaGFuZGxlQ2xpY2siLCJzZWxlY3RlZENvdW50cnkiLCJ0aGlzIiwibGFzdENoaWxkIiwidHJpbSIsImZpcnN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImNsZWFyUHJvdmlkZXIiLCJxdWVyeVNlbGVjdG9yQWxsIiwiYXBwbHlDaG9vc2VDb3VudHJ5Rm5jcyIsInN0cmVhbUluZm8iLCJidXlJbmZvIiwicmVudEluZm8iLCJzZXJ2aWNlTmFtZXMiLCJpZHgiLCJzZXJ2aWNlQ29udGFpbmVyIiwic2VydmljZU5hbWUiLCJzZXJ2aWNlTmFtZUJvbGQiLCJwcm92aWRlclNlcnZpY2VDb250YWluZXIiLCJwcm92aWRlciIsInByb3ZpZGVyU2VydmljZSIsInByb3ZpZGVySW1nIiwicHJvdmlkZXJOYW1lIiwiZHJhd1Jldmlld3MiLCJyZXZpZXdDb250YWluZXIiLCJhZGRSZXZJbmZvIiwiaW5mb0NvbnRhaW5lciIsInJldmlld0hlYWRpbmciLCJhdXRob3JQaWMiLCJyZW5kZXJSZXZpZXdIZWFkaW5nIiwicmV2aWV3Q29udGVudCIsInJlbmRlclJldmlld0JvZHkiLCJyZXZpZXdGb290ZXIiLCJyZXZpZXdVcmwiLCJyZXZpZXdVcGRhdGVkIiwieWVhciIsIm1vbnRoIiwiZGF5IiwiZm9ybWF0UmV2RGF0ZSIsInJlbmRlclJldmlld0Zvb3RlciIsImRyYXdSZXZpZXciLCJkcmF3VHJhaWxlciIsInRyYWlsZXJDb250YWluZXIiLCJ0cmFpbGVySGVhZGluZyIsInRyYWlsZXJOYW1lIiwidHJhaWxlckxhbmd1YWdlIiwicmVuZGVyVHJhaWxlckhlYWRpbmciLCJ2aWRlb1dyYXBwZXIiLCJmcmFtZSIsImF0dHJpYnV0ZXMiLCJsb2FkaW5nIiwid2lkdGgiLCJoZWlnaHQiLCJmcmFtZWJvcmRlciIsImFsbG93IiwiYXR0ciIsImFkZFZpZGVvIiwiZHJhd1JlY3MiLCJyZWNzQ29udGFpbmVyIiwibm9uZU1zZyIsImRyYXdTZWN0aW9ucyIsImlkcyIsInF1ZXJ5IiwiaW50ZXJwcmV0VG9RdWVyeSIsInJlc3VsdCIsIm1lZGlhX3R5cGUiLCJzb3J0IiwicDEiLCJwMiIsImFsZXJ0IiwiZXJyIiwiZmV0Y2hJZHMiLCJtYWluIiwic2VjdGlvbnMiLCJvYnNlcnZlciIsIkludGVyc2VjdGlvbk9ic2VydmVyIiwiZW50cnkiLCJpc0ludGVyc2VjdGluZyIsInRhcmdldCIsImludHJvU3ViSW5mbyIsInN5bm9wc2lzV2F0Y2hQdmRlcnMiLCJyZWNIZWFkaW5nIiwicmVuZGVyU2VjdGlvbiIsInRoZW4iLCJjaGVja2VkIiwiZWwiLCJvYnNlcnZlIiwiY2xlYXJTZWN0aW9ucyIsInNlY3QiLCJhZGRTdWJtaXRTZWFyY2hGbmMiLCJhbmltYXRpb25DaGVjayIsImVsZW1lbnRzIiwiZGlzY29ubmVjdCIsImFkZFRvZ2dsZUFuaW1hdGlvbkZuYyJdLCJzb3VyY2VSb290IjoiIn0=